module.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=152)}([function(e,t){e.exports=require("vscode")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Command=void 0;t.Command=class{}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=t.DEFAULT_MAX_SEND_MESSAGE_LENGTH=t.Propagate=t.LogVerbosity=t.Status=void 0,function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED"}(t.Status||(t.Status={})),function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.ERROR=2]="ERROR",e[e.NONE=3]="NONE"}(t.LogVerbosity||(t.LogVerbosity={})),function(e){e[e.DEADLINE=1]="DEADLINE",e[e.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",e[e.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",e[e.CANCELLATION=8]="CANCELLATION",e[e.DEFAULTS=65535]="DEFAULTS"}(t.Propagate||(t.Propagate={})),t.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1,t.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4194304},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.createProtocolConnection=void 0;const i=r(138);o(r(138),t),o(r(362),t),t.createProtocolConnection=function(e,t,r,n){return i.createMessageConnection(e,t,r,n)}},function(e,t){e.exports=require("path")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolNotificationType=t.ProtocolNotificationType0=t.ProtocolRequestType=t.ProtocolRequestType0=t.RegistrationType=void 0;const n=r(51);t.RegistrationType=class{constructor(e){this.method=e}};class o extends n.RequestType0{constructor(e){super(e)}}t.ProtocolRequestType0=o;class i extends n.RequestType{constructor(e){super(e,n.ParameterStructures.byName)}}t.ProtocolRequestType=i;class s extends n.NotificationType0{constructor(e){super(e)}}t.ProtocolNotificationType0=s;class a extends n.NotificationType{constructor(e){super(e,n.ParameterStructures.byName)}}t.ProtocolNotificationType=a},function(e,t,r){"use strict";var n=function(){function e(){}return e.info=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];e.enableDebug&&console.info(e.TAG+t,r)},e.warn=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];e.disableWarnings||console.warn(e.TAG+t,r)},e.enableDebug=!1,e.disableWarnings=!1,e.disableErrors=!1,e.TAG="ApplicationInsights:",e}();e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGradleTasks=t.cloneTask=t.runTaskWithArgs=t.runTask=t.loadTasksForProjectRoots=t.getVSCodeTasksFromGradleProject=t.createTaskFromDefinition=t.buildTaskName=t.buildTaskId=t.queueRestartTask=t.removeCancellingTask=t.restartQueuedTask=t.getRestartingTask=t.getCancellingTask=t.hasRestartingTask=t.isTaskRestarting=t.isTaskCancelling=t.cancelBuild=t.isTaskRunning=t.getRunningGradleTask=t.getRunningGradleTasks=t.isGradleTask=t.getTaskExecution=void 0;const n=r(0),o=r(118),i=r(119),s=r(10),a=r(301),l=r(21),c=r(27),u=r(48),d=r(20),g=new Map,p=new Map;function h(e,t){return n.tasks.taskExecutions.find(r=>f(r.task,e,t))}function f(e,t,r){const n=void 0!==r;return e.definition.id===t.definition.id&&(!n||e.definition.args===r)}function m(e){return"gradle"===e.definition.type}function y(){return n.tasks.taskExecutions.filter(({task:e})=>m(e)).map(({task:e})=>e)}function v(e,t){return void 0!==h(e,t)}async function _(e,t,r){r&&v(r)&&(g.set(r.definition.id,r),await n.commands.executeCommand(c.COMMAND_RENDER_TASK,r)),await e.cancelBuild(t,r)}function T(e){return g.get(e.definition.id)}function S(e){return p.get(e.definition.id)}function b(e,t,r){return e+t+r}function E(e){const t=e.args?" "+e.args:"";return`${e.script}${t}`}function C(e,t,r){const s=[e.script].concat(o.parseArgsStringToArgv(e.args.trim())).filter(Boolean),a=E(e),l=u.getRunTaskCommandCancellationKey(t.getProjectUri().fsPath,e.script),c=new i.GradleRunnerTerminal(t,s,l,r),g=new n.Task(e,t.getWorkspaceFolder(),a,"gradle",new n.CustomExecution(async()=>c),["$gradle"]),p=d.getConfigReuseTerminals();let h=n.TaskPanelKind.Dedicated;return"off"===p?h=n.TaskPanelKind.New:"all"===p&&(h=n.TaskPanelKind.Shared),g.presentationOptions={showReuseMessage:!1,clear:!0,echo:!0,focus:!0,panel:h,reveal:n.TaskRevealKind.Always},c.setTask(g),g}function R(e,t,r,n="",o=!1){const i=e.getPath(),s=":"===i[0]?i.substr(1):i;return C({type:"gradle",id:b(t.getProjectUri().fsPath,s,e.getProject()),script:s,description:e.getDescription(),group:(e.getGroup()||"other").toLowerCase(),project:e.getProject(),buildFile:e.getBuildfile(),rootProject:e.getRootproject(),projectFolder:t.getProjectUri().fsPath,workspaceFolder:t.getWorkspaceFolder().uri.fsPath,args:n,javaDebug:o},t,r)}function w(e,t,r){let n=[t];const o=[];for(;n.length;){const t=n.shift(),i=t.getTasksList();for(const t of i)o.push(R(t,e,r));n=n.concat(t.getProjectsList())}return o}async function D(e,t){return e.getBuild(t,d.getGradleConfig())}async function A(e,t,r,o,i="",l=!1){if(v(r,i))s.logger.warn("Unable to run task, task is already running:",r.name);else{if(l){const e="Install Missing Extensions";if(!a.getJavaLanguageSupportExtension()||!a.getJavaDebuggerExtension()){return void(await n.window.showErrorMessage("The Java Language Support & Debugger extensions are required for debugging.",e)===e&&await n.commands.executeCommand("workbench.extensions.action.showExtensionsWithIds",[a.JAVA_LANGUAGE_EXTENSION_ID,a.JAVA_DEBUGGER_EXTENSION_ID]))}if(!a.isJavaDebuggerExtensionActivated())return void await n.window.showErrorMessage("The Java Debugger extension is not activated.");if(!a.isJavaLanguageSupportExtensionActivated())return void await n.window.showErrorMessage("The Java Language Support extension is not activated.")}try{if(l||i){const t=O(e,r,i,o,l);await n.tasks.executeTask(t)}else await n.tasks.executeTask(r)}catch(e){s.logger.error("There was an error starting the task:",e.message)}}}function O(e,t,r,n,o=!1){const i=Object.assign(Object.assign({},t.definition),{args:r,javaDebug:o});return C(i,e.get(i.projectFolder),n)}t.getTaskExecution=h,t.isGradleTask=m,t.getRunningGradleTasks=y,t.getRunningGradleTask=function(e){return y().find(t=>f(t,e))},t.isTaskRunning=v,t.cancelBuild=_,t.isTaskCancelling=function(e,t){const r=T(e);return Boolean(r&&(!(void 0!==t)||r.definition.args===t))},t.isTaskRestarting=function(e,t){const r=S(e);return Boolean(r&&(!(void 0!==t)||r.definition.args===t))},t.hasRestartingTask=function(e){return void 0!==S(e)},t.getCancellingTask=T,t.getRestartingTask=S,t.restartQueuedTask=async function(e){const t=S(e);if(t){p.delete(t.definition.id);try{await n.tasks.executeTask(t)}catch(e){s.logger.error("There was an error starting the task:",e.message)}}},t.removeCancellingTask=function(e){const t=T(e);t&&g.delete(t.definition.id)},t.queueRestartTask=async function(e,t){if(v(t)){const r=t.definition;p.set(r.id,t);const n=u.getRunTaskCommandCancellationKey(r.projectFolder,t.name);await _(e,n,t)}},t.buildTaskId=b,t.buildTaskName=E,t.createTaskFromDefinition=C,t.getVSCodeTasksFromGradleProject=w,t.loadTasksForProjectRoots=async function(e,t){let r=[];for(const n of t)if(d.getConfigIsAutoDetectionEnabled(n)){const t=await D(e,n),o=t&&t.getProject();if(o){const t=w(n,o,e);r=r.concat(t)}}return r},t.runTask=A,t.runTaskWithArgs=async function(e,t,r,n,o=!1){const i=await l.getTaskArgs();void 0!==i?await A(e,0,r,n,i,o):s.logger.error("Args not supplied")},t.cloneTask=O,t.getGradleTasks=function(){return n.tasks.fetchTasks({type:"gradle"})}},function(e,t,r){"use strict";var n,o,i,s;Object.defineProperty(t,"__esModule",{value:!0}),t.trace=t.log=t.setLoggerVerbosity=t.setLogger=t.getLogger=void 0;const a=r(2);let l=console,c=a.LogVerbosity.ERROR;switch((null!==(o=null!==(n=process.env.GRPC_NODE_VERBOSITY)&&void 0!==n?n:process.env.GRPC_VERBOSITY)&&void 0!==o?o:"").toUpperCase()){case"DEBUG":c=a.LogVerbosity.DEBUG;break;case"INFO":c=a.LogVerbosity.INFO;break;case"ERROR":c=a.LogVerbosity.ERROR;break;case"NONE":c=a.LogVerbosity.NONE}t.getLogger=()=>l,t.setLogger=e=>{l=e},t.setLoggerVerbosity=e=>{c=e},t.log=(e,...t)=>{e>=c&&"function"==typeof l.error&&l.error(...t)};const u=null!==(s=null!==(i=process.env.GRPC_NODE_TRACE)&&void 0!==i?i:process.env.GRPC_TRACE)&&void 0!==s?s:"",d=new Set,g=new Set;for(const e of u.split(","))e.startsWith("-")?g.add(e.substring(1)):d.add(e);const p=d.has("all");t.trace=function(e,r,n){g.has(r)||!p&&!d.has(r)||t.log(e,(new Date).toISOString()+" | "+r+" | "+n)}},function(e,t,r){const n=r(59),{MAX_LENGTH:o,MAX_SAFE_INTEGER:i}=r(58),{re:s,t:a}=r(42),l=r(60),{compareIdentifiers:c}=r(81);class u{constructor(e,t){if(t=l(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?s[a.LOOSE]:s[a.FULL]);if(!r)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<i)return t}return e}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],o=e.prerelease[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return c(r,o)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const r=this.build[t],o=e.build[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return c(r,o)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this}}e.exports=u},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.logger=void 0,o(r(104),t),o(r(221),t);const i=r(104);t.logger=new i.Logger},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(272),t),o(r(77),t),o(r(123),t),o(r(125),t),o(r(126),t)},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(177)),n(r(97)),n(r(192))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseLanguageClient=t.MessageTransports=t.TextDocumentFeature=t.State=t.RevealOutputChannelOn=t.CloseAction=t.ErrorAction=void 0;const n=r(0),o=r(3),i=r(143),s=r(382),a=r(383),l=r(36),c=r(384),u=r(88),d=r(150);class g{error(e){o.RAL().console.error(e)}warn(e){o.RAL().console.warn(e)}info(e){o.RAL().console.info(e)}log(e){o.RAL().console.log(e)}}var p,h,f,m,y;!function(e){e[e.Continue=1]="Continue",e[e.Shutdown=2]="Shutdown"}(p=t.ErrorAction||(t.ErrorAction={})),function(e){e[e.DoNotRestart=1]="DoNotRestart",e[e.Restart=2]="Restart"}(h=t.CloseAction||(t.CloseAction={}));class v{constructor(e,t){this.name=e,this.maxRestartCount=t,this.restarts=[]}error(e,t,r){return r&&r<=3?p.Continue:p.Shutdown}closed(){if(this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount)return h.Restart;return this.restarts[this.restarts.length-1]-this.restarts[0]<=18e4?(n.window.showErrorMessage(`The ${this.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted.`),h.DoNotRestart):(this.restarts.shift(),h.Restart)}}!function(e){e[e.Info=1]="Info",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.Never=4]="Never"}(f=t.RevealOutputChannelOn||(t.RevealOutputChannelOn={})),function(e){e[e.Stopped=1]="Stopped",e[e.Starting=3]="Starting",e[e.Running=2]="Running"}(m=t.State||(t.State={})),function(e){e[e.Initial=0]="Initial",e[e.Starting=1]="Starting",e[e.StartFailed=2]="StartFailed",e[e.Running=3]="Running",e[e.Stopping=4]="Stopping",e[e.Stopped=5]="Stopped"}(y||(y={}));const _=[o.SymbolKind.File,o.SymbolKind.Module,o.SymbolKind.Namespace,o.SymbolKind.Package,o.SymbolKind.Class,o.SymbolKind.Method,o.SymbolKind.Property,o.SymbolKind.Field,o.SymbolKind.Constructor,o.SymbolKind.Enum,o.SymbolKind.Interface,o.SymbolKind.Function,o.SymbolKind.Variable,o.SymbolKind.Constant,o.SymbolKind.String,o.SymbolKind.Number,o.SymbolKind.Boolean,o.SymbolKind.Array,o.SymbolKind.Object,o.SymbolKind.Key,o.SymbolKind.Null,o.SymbolKind.EnumMember,o.SymbolKind.Struct,o.SymbolKind.Event,o.SymbolKind.Operator,o.SymbolKind.TypeParameter],T=[o.CompletionItemKind.Text,o.CompletionItemKind.Method,o.CompletionItemKind.Function,o.CompletionItemKind.Constructor,o.CompletionItemKind.Field,o.CompletionItemKind.Variable,o.CompletionItemKind.Class,o.CompletionItemKind.Interface,o.CompletionItemKind.Module,o.CompletionItemKind.Property,o.CompletionItemKind.Unit,o.CompletionItemKind.Value,o.CompletionItemKind.Enum,o.CompletionItemKind.Keyword,o.CompletionItemKind.Snippet,o.CompletionItemKind.Color,o.CompletionItemKind.File,o.CompletionItemKind.Reference,o.CompletionItemKind.Folder,o.CompletionItemKind.EnumMember,o.CompletionItemKind.Constant,o.CompletionItemKind.Struct,o.CompletionItemKind.Event,o.CompletionItemKind.Operator,o.CompletionItemKind.TypeParameter],S=[o.SymbolTag.Deprecated];function b(e,t){return void 0===e[t]&&(e[t]={}),e[t]}var E,C;!function(e){e.fromConfiguration=function(e){const t=n.workspace.getConfiguration("files",e);return{trimTrailingWhitespace:t.get("trimTrailingWhitespace"),trimFinalNewlines:t.get("trimFinalNewlines"),insertFinalNewline:t.get("insertFinalNewline")}}}(E||(E={})),function(e){e.is=function(e){let t=e;return t&&l.func(t.register)&&l.func(t.unregister)&&l.func(t.dispose)&&void 0!==t.registrationType}}(C||(C={}));class R{constructor(e,t,r,n,o,i){this._client=e,this._event=t,this._type=r,this._middleware=n,this._createParams=o,this._selectorFilter=i,this._selectors=new Map}static textDocumentFilter(e,t){for(const r of e)if(n.languages.match(r,t))return!0;return!1}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=this._event(this.callback,this)),this._selectors.set(e.id,e.registerOptions.documentSelector))}callback(e){this._selectorFilter&&!this._selectorFilter(this._selectors.values(),e)||(this._middleware?this._middleware(e,e=>this._client.sendNotification(this._type,this._createParams(e))):this._client.sendNotification(this._type,this._createParams(e)),this.notificationSent(e))}notificationSent(e){}unregister(e){this._selectors.delete(e),0===this._selectors.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(const t of this._selectors.values())if(n.languages.match(t,e))return{send:e=>{this.callback(e)}}}}class w extends R{constructor(e,t){super(e,n.workspace.onDidOpenTextDocument,o.DidOpenTextDocumentNotification.type,e.clientOptions.middleware.didOpen,t=>e.code2ProtocolConverter.asOpenTextDocumentParams(t),R.textDocumentFilter),this._syncedDocuments=t}fillClientCapabilities(e){b(b(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let r=e.resolvedTextDocumentSync;t&&r&&r.openClose&&this.register({id:u.generateUuid(),registerOptions:{documentSelector:t}})}get registrationType(){return o.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;let t=e.registerOptions.documentSelector;n.workspace.textDocuments.forEach(e=>{let r=e.uri.toString();if(!this._syncedDocuments.has(r)&&n.languages.match(t,e)){let t=this._client.clientOptions.middleware,n=e=>{this._client.sendNotification(this._type,this._createParams(e))};t.didOpen?t.didOpen(e,n):n(e),this._syncedDocuments.set(r,e)}})}notificationSent(e){super.notificationSent(e),this._syncedDocuments.set(e.uri.toString(),e)}}class D extends R{constructor(e,t){super(e,n.workspace.onDidCloseTextDocument,o.DidCloseTextDocumentNotification.type,e.clientOptions.middleware.didClose,t=>e.code2ProtocolConverter.asCloseTextDocumentParams(t),R.textDocumentFilter),this._syncedDocuments=t}get registrationType(){return o.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){b(b(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let r=e.resolvedTextDocumentSync;t&&r&&r.openClose&&this.register({id:u.generateUuid(),registerOptions:{documentSelector:t}})}notificationSent(e){super.notificationSent(e),this._syncedDocuments.delete(e.uri.toString())}unregister(e){let t=this._selectors.get(e);super.unregister(e);let r=this._selectors.values();this._syncedDocuments.forEach(e=>{if(n.languages.match(t,e)&&!this._selectorFilter(r,e)){let t=this._client.clientOptions.middleware,r=e=>{this._client.sendNotification(this._type,this._createParams(e))};this._syncedDocuments.delete(e.uri.toString()),t.didClose?t.didClose(e,r):r(e)}})}}class A{constructor(e){this._client=e,this._changeData=new Map,this._forcingDelivery=!1}get registrationType(){return o.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){b(b(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let r=e.resolvedTextDocumentSync;t&&r&&void 0!==r.change&&r.change!==o.TextDocumentSyncKind.None&&this.register({id:u.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},{syncKind:r.change})})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=n.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{documentSelector:e.registerOptions.documentSelector,syncKind:e.registerOptions.syncKind}))}callback(e){if(0!==e.contentChanges.length)for(const t of this._changeData.values())if(n.languages.match(t.documentSelector,e.document)){let r=this._client.clientOptions.middleware;if(t.syncKind===o.TextDocumentSyncKind.Incremental){let t=this._client.code2ProtocolConverter.asChangeTextDocumentParams(e);r.didChange?r.didChange(e,()=>this._client.sendNotification(o.DidChangeTextDocumentNotification.type,t)):this._client.sendNotification(o.DidChangeTextDocumentNotification.type,t)}else if(t.syncKind===o.TextDocumentSyncKind.Full){let t=e=>{this._changeDelayer?(this._changeDelayer.uri!==e.document.uri.toString()&&(this.forceDelivery(),this._changeDelayer.uri=e.document.uri.toString()),this._changeDelayer.delayer.trigger(()=>{this._client.sendNotification(o.DidChangeTextDocumentNotification.type,this._client.code2ProtocolConverter.asChangeTextDocumentParams(e.document))})):(this._changeDelayer={uri:e.document.uri.toString(),delayer:new c.Delayer(200)},this._changeDelayer.delayer.trigger(()=>{this._client.sendNotification(o.DidChangeTextDocumentNotification.type,this._client.code2ProtocolConverter.asChangeTextDocumentParams(e.document))},-1))};r.didChange?r.didChange(e,t):t(e)}}}unregister(e){this._changeData.delete(e),0===this._changeData.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._changeDelayer=void 0,this._forcingDelivery=!1,this._changeData.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}forceDelivery(){if(!this._forcingDelivery&&this._changeDelayer)try{this._forcingDelivery=!0,this._changeDelayer.delayer.forceDelivery()}finally{this._forcingDelivery=!1}}getProvider(e){for(const t of this._changeData.values())if(n.languages.match(t.documentSelector,e))return{send:e=>{this.callback(e)}}}}class O extends R{constructor(e){super(e,n.workspace.onWillSaveTextDocument,o.WillSaveTextDocumentNotification.type,e.clientOptions.middleware.willSave,t=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(t),(e,t)=>R.textDocumentFilter(e,t.document))}get registrationType(){return o.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){b(b(e,"textDocument"),"synchronization").willSave=!0}initialize(e,t){let r=e.resolvedTextDocumentSync;t&&r&&r.willSave&&this.register({id:u.generateUuid(),registerOptions:{documentSelector:t}})}}class I{constructor(e){this._client=e,this._selectors=new Map}get registrationType(){return o.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){b(b(e,"textDocument"),"synchronization").willSaveWaitUntil=!0}initialize(e,t){let r=e.resolvedTextDocumentSync;t&&r&&r.willSaveWaitUntil&&this.register({id:u.generateUuid(),registerOptions:{documentSelector:t}})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=n.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,e.registerOptions.documentSelector))}callback(e){if(R.textDocumentFilter(this._selectors.values(),e.document)){let t=this._client.clientOptions.middleware,r=e=>this._client.sendRequest(o.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(e)).then(e=>{let t=this._client.protocol2CodeConverter.asTextEdits(e);return void 0===t?[]:t});e.waitUntil(t.willSaveWaitUntil?t.willSaveWaitUntil(e,r):r(e))}}unregister(e){this._selectors.delete(e),0===this._selectors.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}}class P extends R{constructor(e){super(e,n.workspace.onDidSaveTextDocument,o.DidSaveTextDocumentNotification.type,e.clientOptions.middleware.didSave,t=>e.code2ProtocolConverter.asSaveTextDocumentParams(t,this._includeText),R.textDocumentFilter),this._includeText=!1}get registrationType(){return o.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){b(b(e,"textDocument"),"synchronization").didSave=!0}initialize(e,t){const r=e.resolvedTextDocumentSync;if(t&&r&&r.save){const e="boolean"==typeof r.save?{includeText:!1}:{includeText:!!r.save.includeText};this.register({id:u.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},e)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}}class N{constructor(e,t){this._client=e,this._notifyFileEvent=t,this._watchers=new Map}get registrationType(){return o.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){b(b(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0}initialize(e,t){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;let t=[];for(let r of e.registerOptions.watchers){if(!l.string(r.globPattern))continue;let e=!0,i=!0,s=!0;void 0!==r.kind&&null!==r.kind&&(e=0!=(r.kind&o.WatchKind.Create),i=0!=(r.kind&o.WatchKind.Change),s=0!=(r.kind&o.WatchKind.Delete));let a=n.workspace.createFileSystemWatcher(r.globPattern,!e,!i,!s);this.hookListeners(a,e,i,s),t.push(a)}this._watchers.set(e.id,t)}registerRaw(e,t){let r=[];for(let e of t)this.hookListeners(e,!0,!0,!0,r);this._watchers.set(e,r)}hookListeners(e,t,r,n,i){t&&e.onDidCreate(e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:o.FileChangeType.Created}),null,i),r&&e.onDidChange(e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:o.FileChangeType.Changed}),null,i),n&&e.onDidDelete(e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:o.FileChangeType.Deleted}),null,i)}unregister(e){let t=this._watchers.get(e);if(t)for(let e of t)e.dispose()}dispose(){this._watchers.forEach(e=>{for(let t of e)t.dispose()}),this._watchers.clear()}}class M{constructor(e,t){this._client=e,this._registrationType=t,this._registrations=new Map}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let t=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:t[0],data:e,provider:t[1]})}unregister(e){let t=this._registrations.get(e);void 0!==t&&t.disposable.dispose()}dispose(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getRegistration(e,t){if(!t)return[void 0,void 0];if(o.TextDocumentRegistrationOptions.is(t)){const r=o.StaticRegistrationOptions.hasId(t)?t.id:u.generateUuid(),n=t.documentSelector||e;if(n)return[r,Object.assign({},t,{documentSelector:n})]}else if(l.boolean(t)&&!0===t||o.WorkDoneProgressOptions.is(t)){if(!e)return[void 0,void 0];let r=l.boolean(t)&&!0===t?{documentSelector:e}:Object.assign({},t,{documentSelector:e});return[u.generateUuid(),r]}return[void 0,void 0]}getRegistrationOptions(e,t){if(e&&t)return l.boolean(t)&&!0===t?{documentSelector:e}:Object.assign({},t,{documentSelector:e})}getProvider(e){for(const t of this._registrations.values()){let r=t.data.registerOptions.documentSelector;if(null!==r&&n.languages.match(r,e))return t.provider}}getAllProviders(){const e=[];for(const t of this._registrations.values())e.push(t.provider);return e}}t.TextDocumentFeature=M;class k extends M{constructor(e){super(e,o.CompletionRequest.type)}fillClientCapabilities(e){let t=b(b(e,"textDocument"),"completion");t.dynamicRegistration=!0,t.contextSupport=!0,t.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[o.MarkupKind.Markdown,o.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[o.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[o.InsertTextMode.asIs,o.InsertTextMode.adjustIndentation]}},t.completionItemKind={valueSet:T}}initialize(e,t){const r=this.getRegistrationOptions(t,e.completionProvider);r&&this.register({id:u.generateUuid(),registerOptions:r})}registerLanguageProvider(e){const t=e.triggerCharacters||[],r={provideCompletionItems:(e,t,r,n)=>{const i=this._client,s=this._client.clientOptions.middleware,a=(e,t,r,n)=>i.sendRequest(o.CompletionRequest.type,i.code2ProtocolConverter.asCompletionParams(e,t,r),n).then(i.protocol2CodeConverter.asCompletionResult,e=>i.handleFailedRequest(o.CompletionRequest.type,e,null));return s.provideCompletionItem?s.provideCompletionItem(e,t,n,r,a):a(e,t,n,r)},resolveCompletionItem:e.resolveProvider?(e,t)=>{const r=this._client,n=this._client.clientOptions.middleware,i=(e,t)=>r.sendRequest(o.CompletionResolveRequest.type,r.code2ProtocolConverter.asCompletionItem(e),t).then(r.protocol2CodeConverter.asCompletionItem,t=>r.handleFailedRequest(o.CompletionResolveRequest.type,t,e));return n.resolveCompletionItem?n.resolveCompletionItem(e,t,i):i(e,t)}:void 0};return[n.languages.registerCompletionItemProvider(e.documentSelector,r,...t),r]}}class j extends M{constructor(e){super(e,o.HoverRequest.type)}fillClientCapabilities(e){const t=b(b(e,"textDocument"),"hover");t.dynamicRegistration=!0,t.contentFormat=[o.MarkupKind.Markdown,o.MarkupKind.PlainText]}initialize(e,t){const r=this.getRegistrationOptions(t,e.hoverProvider);r&&this.register({id:u.generateUuid(),registerOptions:r})}registerLanguageProvider(e){const t={provideHover:(e,t,r)=>{const n=this._client,i=(e,t,r)=>n.sendRequest(o.HoverRequest.type,n.code2ProtocolConverter.asTextDocumentPositionParams(e,t),r).then(n.protocol2CodeConverter.asHover,e=>n.handleFailedRequest(o.HoverRequest.type,e,null)),s=n.clientOptions.middleware;return s.provideHover?s.provideHover(e,t,r,i):i(e,t,r)}};return[n.languages.registerHoverProvider(e.documentSelector,t),t]}}class x extends M{constructor(e){super(e,o.SignatureHelpRequest.type)}fillClientCapabilities(e){let t=b(b(e,"textDocument"),"signatureHelp");t.dynamicRegistration=!0,t.signatureInformation={documentationFormat:[o.MarkupKind.Markdown,o.MarkupKind.PlainText]},t.signatureInformation.parameterInformation={labelOffsetSupport:!0},t.signatureInformation.activeParameterSupport=!0,t.contextSupport=!0}initialize(e,t){const r=this.getRegistrationOptions(t,e.signatureHelpProvider);r&&this.register({id:u.generateUuid(),registerOptions:r})}registerLanguageProvider(e){const t={provideSignatureHelp:(e,t,r,n)=>{const i=this._client,s=(e,t,r,n)=>i.sendRequest(o.SignatureHelpRequest.type,i.code2ProtocolConverter.asSignatureHelpParams(e,t,r),n).then(i.protocol2CodeConverter.asSignatureHelp,e=>i.handleFailedRequest(o.SignatureHelpRequest.type,e,null)),a=i.clientOptions.middleware;return a.provideSignatureHelp?a.provideSignatureHelp(e,t,n,r,s):s(e,t,n,r)}};let r;if(void 0===e.retriggerCharacters){const o=e.triggerCharacters||[];r=n.languages.registerSignatureHelpProvider(e.documentSelector,t,...o)}else{const o={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};r=n.languages.registerSignatureHelpProvider(e.documentSelector,t,o)}return[r,t]}}class L extends M{constructor(e){super(e,o.DefinitionRequest.type)}fillClientCapabilities(e){let t=b(b(e,"textDocument"),"definition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){const r=this.getRegistrationOptions(t,e.definitionProvider);r&&this.register({id:u.generateUuid(),registerOptions:r})}registerLanguageProvider(e){const t={provideDefinition:(e,t,r)=>{const n=this._client,i=(e,t,r)=>n.sendRequest(o.DefinitionRequest.type,n.code2ProtocolConverter.asTextDocumentPositionParams(e,t),r).then(n.protocol2CodeConverter.asDefinitionResult,e=>n.handleFailedRequest(o.DefinitionRequest.type,e,null)),s=n.clientOptions.middleware;return s.provideDefinition?s.provideDefinition(e,t,r,i):i(e,t,r)}};return[n.languages.registerDefinitionProvider(e.documentSelector,t),t]}}class F extends M{constructor(e){super(e,o.ReferencesRequest.type)}fillClientCapabilities(e){b(b(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,t){const r=this.getRegistrationOptions(t,e.referencesProvider);r&&this.register({id:u.generateUuid(),registerOptions:r})}registerLanguageProvider(e){const t={provideReferences:(e,t,r,n)=>{const i=this._client,s=(e,t,r,n)=>i.sendRequest(o.ReferencesRequest.type,i.code2ProtocolConverter.asReferenceParams(e,t,r),n).then(i.protocol2CodeConverter.asReferences,e=>i.handleFailedRequest(o.ReferencesRequest.type,e,null)),a=i.clientOptions.middleware;return a.provideReferences?a.provideReferences(e,t,r,n,s):s(e,t,r,n)}};return[n.languages.registerReferenceProvider(e.documentSelector,t),t]}}class B extends M{constructor(e){super(e,o.DocumentHighlightRequest.type)}fillClientCapabilities(e){b(b(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,t){const r=this.getRegistrationOptions(t,e.documentHighlightProvider);r&&this.register({id:u.generateUuid(),registerOptions:r})}registerLanguageProvider(e){const t={provideDocumentHighlights:(e,t,r)=>{const n=this._client,i=(e,t,r)=>n.sendRequest(o.DocumentHighlightRequest.type,n.code2ProtocolConverter.asTextDocumentPositionParams(e,t),r).then(n.protocol2CodeConverter.asDocumentHighlights,e=>n.handleFailedRequest(o.DocumentHighlightRequest.type,e,null)),s=n.clientOptions.middleware;return s.provideDocumentHighlights?s.provideDocumentHighlights(e,t,r,i):i(e,t,r)}};return[n.languages.registerDocumentHighlightProvider(e.documentSelector,t),t]}}class U extends M{constructor(e){super(e,o.DocumentSymbolRequest.type)}fillClientCapabilities(e){let t=b(b(e,"textDocument"),"documentSymbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:_},t.hierarchicalDocumentSymbolSupport=!0,t.tagSupport={valueSet:S},t.labelSupport=!0}initialize(e,t){const r=this.getRegistrationOptions(t,e.documentSymbolProvider);r&&this.register({id:u.generateUuid(),registerOptions:r})}registerLanguageProvider(e){const t={provideDocumentSymbols:(e,t)=>{const r=this._client,n=(e,t)=>r.sendRequest(o.DocumentSymbolRequest.type,r.code2ProtocolConverter.asDocumentSymbolParams(e),t).then(e=>{if(null!==e){if(0===e.length)return[];{let t=e[0];return o.DocumentSymbol.is(t)?r.protocol2CodeConverter.asDocumentSymbols(e):r.protocol2CodeConverter.asSymbolInformations(e)}}},e=>r.handleFailedRequest(o.DocumentSymbolRequest.type,e,null)),i=r.clientOptions.middleware;return i.provideDocumentSymbols?i.provideDocumentSymbols(e,t,n):n(e,t)}},r=void 0!==e.label?{label:e.label}:void 0;return[n.languages.registerDocumentSymbolProvider(e.documentSelector,t,r),t]}}class G extends class{constructor(e,t){this._client=e,this._registrationType=t,this._registrations=new Map}get registrationType(){return this._registrationType}register(e){const t=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:t[0],provider:t[1]})}unregister(e){let t=this._registrations.get(e);void 0!==t&&t.disposable.dispose()}dispose(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getProviders(){const e=[];for(const t of this._registrations.values())e.push(t.provider);return e}}{constructor(e){super(e,o.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let t=b(b(e,"workspace"),"symbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:_},t.tagSupport={valueSet:S}}initialize(e){e.workspaceSymbolProvider&&this.register({id:u.generateUuid(),registerOptions:!0===e.workspaceSymbolProvider?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){const t={provideWorkspaceSymbols:(e,t)=>{const r=this._client,n=(e,t)=>r.sendRequest(o.WorkspaceSymbolRequest.type,{query:e},t).then(r.protocol2CodeConverter.asSymbolInformations,e=>r.handleFailedRequest(o.WorkspaceSymbolRequest.type,e,null)),i=r.clientOptions.middleware;return i.provideWorkspaceSymbols?i.provideWorkspaceSymbols(e,t,n):n(e,t)}};return[n.languages.registerWorkspaceSymbolProvider(t),t]}}class W extends M{constructor(e){super(e,o.CodeActionRequest.type)}fillClientCapabilities(e){const t=b(b(e,"textDocument"),"codeAction");t.dynamicRegistration=!0,t.isPreferredSupport=!0,t.disabledSupport=!0,t.dataSupport=!0,t.resolveSupport={properties:["edit"]},t.codeActionLiteralSupport={codeActionKind:{valueSet:[o.CodeActionKind.Empty,o.CodeActionKind.QuickFix,o.CodeActionKind.Refactor,o.CodeActionKind.RefactorExtract,o.CodeActionKind.RefactorInline,o.CodeActionKind.RefactorRewrite,o.CodeActionKind.Source,o.CodeActionKind.SourceOrganizeImports]}},t.honorsChangeAnnotations=!1}initialize(e,t){const r=this.getRegistrationOptions(t,e.codeActionProvider);r&&this.register({id:u.generateUuid(),registerOptions:r})}registerLanguageProvider(e){const t={provideCodeActions:(e,t,r,n)=>{const i=this._client,s=(e,t,r,n)=>{const s={textDocument:i.code2ProtocolConverter.asTextDocumentIdentifier(e),range:i.code2ProtocolConverter.asRange(t),context:i.code2ProtocolConverter.asCodeActionContext(r)};return i.sendRequest(o.CodeActionRequest.type,s,n).then(e=>{if(null===e)return;const t=[];for(let r of e)o.Command.is(r)?t.push(i.protocol2CodeConverter.asCommand(r)):t.push(i.protocol2CodeConverter.asCodeAction(r));return t},e=>i.handleFailedRequest(o.CodeActionRequest.type,e,null))},a=i.clientOptions.middleware;return a.provideCodeActions?a.provideCodeActions(e,t,r,n,s):s(e,t,r,n)},resolveCodeAction:e.resolveProvider?(e,t)=>{const r=this._client,n=this._client.clientOptions.middleware,i=(e,t)=>r.sendRequest(o.CodeActionResolveRequest.type,r.code2ProtocolConverter.asCodeAction(e),t).then(r.protocol2CodeConverter.asCodeAction,t=>r.handleFailedRequest(o.CodeActionResolveRequest.type,t,e));return n.resolveCodeAction?n.resolveCodeAction(e,t,i):i(e,t)}:void 0};return[n.languages.registerCodeActionsProvider(e.documentSelector,t,e.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0),t]}}class q extends M{constructor(e){super(e,o.CodeLensRequest.type)}fillClientCapabilities(e){b(b(e,"textDocument"),"codeLens").dynamicRegistration=!0,b(b(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,t){this._client.onRequest(o.CodeLensRefreshRequest.type,async()=>{for(const e of this.getAllProviders())e.onDidChangeCodeLensEmitter.fire()});const r=this.getRegistrationOptions(t,e.codeLensProvider);r&&this.register({id:u.generateUuid(),registerOptions:r})}registerLanguageProvider(e){const t=new n.EventEmitter,r={onDidChangeCodeLenses:t.event,provideCodeLenses:(e,t)=>{const r=this._client,n=(e,t)=>r.sendRequest(o.CodeLensRequest.type,r.code2ProtocolConverter.asCodeLensParams(e),t).then(r.protocol2CodeConverter.asCodeLenses,e=>r.handleFailedRequest(o.CodeLensRequest.type,e,null)),i=r.clientOptions.middleware;return i.provideCodeLenses?i.provideCodeLenses(e,t,n):n(e,t)},resolveCodeLens:e.resolveProvider?(e,t)=>{const r=this._client,n=(e,t)=>r.sendRequest(o.CodeLensResolveRequest.type,r.code2ProtocolConverter.asCodeLens(e),t).then(r.protocol2CodeConverter.asCodeLens,t=>r.handleFailedRequest(o.CodeLensResolveRequest.type,t,e)),i=r.clientOptions.middleware;return i.resolveCodeLens?i.resolveCodeLens(e,t,n):n(e,t)}:void 0};return[n.languages.registerCodeLensProvider(e.documentSelector,r),{provider:r,onDidChangeCodeLensEmitter:t}]}}class H extends M{constructor(e){super(e,o.DocumentFormattingRequest.type)}fillClientCapabilities(e){b(b(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,t){const r=this.getRegistrationOptions(t,e.documentFormattingProvider);r&&this.register({id:u.generateUuid(),registerOptions:r})}registerLanguageProvider(e){const t={provideDocumentFormattingEdits:(e,t,r)=>{const n=this._client,i=(e,t,r)=>{const i={textDocument:n.code2ProtocolConverter.asTextDocumentIdentifier(e),options:n.code2ProtocolConverter.asFormattingOptions(t,E.fromConfiguration(e))};return n.sendRequest(o.DocumentFormattingRequest.type,i,r).then(n.protocol2CodeConverter.asTextEdits,e=>n.handleFailedRequest(o.DocumentFormattingRequest.type,e,null))},s=n.clientOptions.middleware;return s.provideDocumentFormattingEdits?s.provideDocumentFormattingEdits(e,t,r,i):i(e,t,r)}};return[n.languages.registerDocumentFormattingEditProvider(e.documentSelector,t),t]}}class V extends M{constructor(e){super(e,o.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){b(b(e,"textDocument"),"rangeFormatting").dynamicRegistration=!0}initialize(e,t){const r=this.getRegistrationOptions(t,e.documentRangeFormattingProvider);r&&this.register({id:u.generateUuid(),registerOptions:r})}registerLanguageProvider(e){const t={provideDocumentRangeFormattingEdits:(e,t,r,n)=>{const i=this._client,s=(e,t,r,n)=>{const s={textDocument:i.code2ProtocolConverter.asTextDocumentIdentifier(e),range:i.code2ProtocolConverter.asRange(t),options:i.code2ProtocolConverter.asFormattingOptions(r,E.fromConfiguration(e))};return i.sendRequest(o.DocumentRangeFormattingRequest.type,s,n).then(i.protocol2CodeConverter.asTextEdits,e=>i.handleFailedRequest(o.DocumentRangeFormattingRequest.type,e,null))},a=i.clientOptions.middleware;return a.provideDocumentRangeFormattingEdits?a.provideDocumentRangeFormattingEdits(e,t,r,n,s):s(e,t,r,n)}};return[n.languages.registerDocumentRangeFormattingEditProvider(e.documentSelector,t),t]}}class z extends M{constructor(e){super(e,o.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){b(b(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,t){const r=this.getRegistrationOptions(t,e.documentOnTypeFormattingProvider);r&&this.register({id:u.generateUuid(),registerOptions:r})}registerLanguageProvider(e){const t={provideOnTypeFormattingEdits:(e,t,r,n,i)=>{const s=this._client,a=(e,t,r,n,i)=>{let a={textDocument:s.code2ProtocolConverter.asTextDocumentIdentifier(e),position:s.code2ProtocolConverter.asPosition(t),ch:r,options:s.code2ProtocolConverter.asFormattingOptions(n,E.fromConfiguration(e))};return s.sendRequest(o.DocumentOnTypeFormattingRequest.type,a,i).then(s.protocol2CodeConverter.asTextEdits,e=>s.handleFailedRequest(o.DocumentOnTypeFormattingRequest.type,e,null))},l=s.clientOptions.middleware;return l.provideOnTypeFormattingEdits?l.provideOnTypeFormattingEdits(e,t,r,n,i,a):a(e,t,r,n,i)}},r=e.moreTriggerCharacter||[];return[n.languages.registerOnTypeFormattingEditProvider(e.documentSelector,t,e.firstTriggerCharacter,...r),t]}}class $ extends M{constructor(e){super(e,o.RenameRequest.type)}fillClientCapabilities(e){let t=b(b(e,"textDocument"),"rename");t.dynamicRegistration=!0,t.prepareSupport=!0,t.prepareSupportDefaultBehavior=o.PrepareSupportDefaultBehavior.Identifier,t.honorsChangeAnnotations=!0}initialize(e,t){const r=this.getRegistrationOptions(t,e.renameProvider);r&&(l.boolean(e.renameProvider)&&(r.prepareProvider=!1),this.register({id:u.generateUuid(),registerOptions:r}))}registerLanguageProvider(e){const t={provideRenameEdits:(e,t,r,n)=>{const i=this._client,s=(e,t,r,n)=>{let s={textDocument:i.code2ProtocolConverter.asTextDocumentIdentifier(e),position:i.code2ProtocolConverter.asPosition(t),newName:r};return i.sendRequest(o.RenameRequest.type,s,n).then(i.protocol2CodeConverter.asWorkspaceEdit,e=>i.handleFailedRequest(o.RenameRequest.type,e,null))},a=i.clientOptions.middleware;return a.provideRenameEdits?a.provideRenameEdits(e,t,r,n,s):s(e,t,r,n)},prepareRename:e.prepareProvider?(e,t,r)=>{const n=this._client,i=(e,t,r)=>{let i={textDocument:n.code2ProtocolConverter.asTextDocumentIdentifier(e),position:n.code2ProtocolConverter.asPosition(t)};return n.sendRequest(o.PrepareRenameRequest.type,i,r).then(e=>o.Range.is(e)?n.protocol2CodeConverter.asRange(e):this.isDefaultBehavior(e)?!0===e.defaultBehavior?null:Promise.reject(new Error("The element can't be renamed.")):e&&o.Range.is(e.range)?{range:n.protocol2CodeConverter.asRange(e.range),placeholder:e.placeholder}:Promise.reject(new Error("The element can't be renamed.")),e=>n.handleFailedRequest(o.PrepareRenameRequest.type,e,void 0))},s=n.clientOptions.middleware;return s.prepareRename?s.prepareRename(e,t,r,i):i(e,t,r)}:void 0};return[n.languages.registerRenameProvider(e.documentSelector,t),t]}isDefaultBehavior(e){const t=e;return t&&l.boolean(t.defaultBehavior)}}class K extends M{constructor(e){super(e,o.DocumentLinkRequest.type)}fillClientCapabilities(e){const t=b(b(e,"textDocument"),"documentLink");t.dynamicRegistration=!0,t.tooltipSupport=!0}initialize(e,t){const r=this.getRegistrationOptions(t,e.documentLinkProvider);r&&this.register({id:u.generateUuid(),registerOptions:r})}registerLanguageProvider(e){const t={provideDocumentLinks:(e,t)=>{const r=this._client,n=(e,t)=>r.sendRequest(o.DocumentLinkRequest.type,r.code2ProtocolConverter.asDocumentLinkParams(e),t).then(r.protocol2CodeConverter.asDocumentLinks,e=>r.handleFailedRequest(o.DocumentLinkRequest.type,e,null)),i=r.clientOptions.middleware;return i.provideDocumentLinks?i.provideDocumentLinks(e,t,n):n(e,t)},resolveDocumentLink:e.resolveProvider?(e,t)=>{const r=this._client;let n=(e,t)=>r.sendRequest(o.DocumentLinkResolveRequest.type,r.code2ProtocolConverter.asDocumentLink(e),t).then(r.protocol2CodeConverter.asDocumentLink,t=>r.handleFailedRequest(o.DocumentLinkResolveRequest.type,t,e));const i=r.clientOptions.middleware;return i.resolveDocumentLink?i.resolveDocumentLink(e,t,n):n(e,t)}:void 0};return[n.languages.registerDocumentLinkProvider(e.documentSelector,t),t]}}class Y{constructor(e){this._client=e,this._listeners=new Map}get registrationType(){return o.DidChangeConfigurationNotification.type}fillClientCapabilities(e){b(b(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){let e=this._client.clientOptions.synchronize.configurationSection;void 0!==e&&this.register({id:u.generateUuid(),registerOptions:{section:e}})}register(e){let t=n.workspace.onDidChangeConfiguration(t=>{this.onDidChangeConfiguration(e.registerOptions.section,t)});this._listeners.set(e.id,t),void 0!==e.registerOptions.section&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let t=this._listeners.get(e);t&&(this._listeners.delete(e),t.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}onDidChangeConfiguration(e,t){let r;if(r=l.string(e)?[e]:e,void 0!==r&&void 0!==t){if(!r.some(e=>t.affectsConfiguration(e)))return}let n=e=>{void 0!==e?this._client.sendNotification(o.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(e)}):this._client.sendNotification(o.DidChangeConfigurationNotification.type,{settings:null})},i=this.getMiddleware();i?i(r,n):n(r)}extractSettingsInformation(e){function t(e,t){let r=e;for(let e=0;e<t.length-1;e++){let n=r[t[e]];n||(n=Object.create(null),r[t[e]]=n),r=n}return r}let r=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,o=Object.create(null);for(let s=0;s<e.length;s++){let a=e[s],l=a.indexOf("."),c=null;if(c=l>=0?n.workspace.getConfiguration(a.substr(0,l),r).get(a.substr(l+1)):n.workspace.getConfiguration(void 0,r).get(a),c){let r=e[s].split(".");t(o,r)[r[r.length-1]]=i.toJSONObject(c)}}return o}getMiddleware(){let e=this._client.clientOptions.middleware;return e.workspace&&e.workspace.didChangeConfiguration?e.workspace.didChangeConfiguration:void 0}}class J{constructor(e){this._client=e,this._commands=new Map}get registrationType(){return o.ExecuteCommandRequest.type}fillClientCapabilities(e){b(b(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register({id:u.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){const t=this._client,r=t.clientOptions.middleware,i=(e,r)=>{let n={command:e,arguments:r};return t.sendRequest(o.ExecuteCommandRequest.type,n).then(void 0,e=>t.handleFailedRequest(o.ExecuteCommandRequest.type,e,void 0))};if(e.registerOptions.commands){const t=[];for(const o of e.registerOptions.commands)t.push(n.commands.registerCommand(o,(...e)=>r.executeCommand?r.executeCommand(o,e,i):i(o,e)));this._commands.set(e.id,t)}}unregister(e){let t=this._commands.get(e);t&&t.forEach(e=>e.dispose())}dispose(){this._commands.forEach(e=>{e.forEach(e=>e.dispose())}),this._commands.clear()}}!function(e){e.is=function(e){return e&&o.MessageReader.is(e.reader)&&o.MessageWriter.is(e.writer)}}(t.MessageTransports||(t.MessageTransports={}));class X{constructor(e,t){this._resolve=e,this._reject=t,this._used=!1}get isUsed(){return this._used}resolve(){this._used=!0,this._resolve()}reject(e){this._used=!0,this._reject(e)}}class Q{constructor(e,t,r){var n;this._traceFormat=o.TraceFormat.Text,this._features=[],this._dynamicFeatures=new Map,this._id=e,this._name=t;const i={isTrusted:!1};void 0!==(r=r||{}).markdown&&!0===r.markdown.isTrusted&&(i.isTrusted=!0),this._clientOptions={documentSelector:r.documentSelector||[],synchronize:r.synchronize||{},diagnosticCollectionName:r.diagnosticCollectionName,outputChannelName:r.outputChannelName||this._name,revealOutputChannelOn:r.revealOutputChannelOn||f.Error,stdioEncoding:r.stdioEncoding||"utf8",initializationOptions:r.initializationOptions,initializationFailedHandler:r.initializationFailedHandler,progressOnInitialization:!!r.progressOnInitialization,errorHandler:r.errorHandler||this.createDefaultErrorHandler(null===(n=r.connectionOptions)||void 0===n?void 0:n.maxRestartCount),middleware:r.middleware||{},uriConverters:r.uriConverters,workspaceFolder:r.workspaceFolder,connectionOptions:r.connectionOptions,markdown:i},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=y.Initial,this._connectionPromise=void 0,this._resolvedConnection=void 0,this._initializeResult=void 0,r.outputChannel?(this._outputChannel=r.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=r.traceOutputChannel,this._listeners=void 0,this._providers=void 0,this._diagnostics=void 0,this._fileEvents=[],this._fileEventDelayer=new c.Delayer(250),this._onReady=new Promise((e,t)=>{this._onReadyCallbacks=new X(e,t)}),this._onStop=void 0,this._telemetryEmitter=new o.Emitter,this._stateChangeEmitter=new o.Emitter,this._trace=o.Trace.Off,this._tracer={log:(e,t)=>{l.string(e)?this.logTrace(e,t):this.logObjectTrace(e)}},this._c2p=s.createConverter(r.uriConverters?r.uriConverters.code2Protocol:void 0),this._p2c=a.createConverter(r.uriConverters?r.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get state(){return this._state}set state(e){let t=this.getPublicState();this._state=e;let r=this.getPublicState();r!==t&&this._stateChangeEmitter.fire({oldState:t,newState:r})}getPublicState(){return this.state===y.Running?m.Running:this.state===y.Starting?m.Starting:m.Stopped}get initializeResult(){return this._initializeResult}sendRequest(e,...t){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{return this._resolvedConnection.sendRequest(e,...t)}catch(t){throw this.error(`Sending request ${l.string(e)?e:e.method} failed.`,t),t}}onRequest(e,t){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{return this._resolvedConnection.onRequest(e,t)}catch(t){throw this.error(`Registering request handler ${l.string(e)?e:e.method} failed.`,t),t}}sendNotification(e,t){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{this._resolvedConnection.sendNotification(e,t)}catch(t){throw this.error(`Sending notification ${l.string(e)?e:e.method} failed.`,t),t}}onNotification(e,t){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{return this._resolvedConnection.onNotification(e,t)}catch(t){throw this.error(`Registering notification handler ${l.string(e)?e:e.method} failed.`,t),t}}onProgress(e,t,r){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{if(o.WorkDoneProgress.is(e)){const n=this._clientOptions.middleware.handleWorkDoneProgress;if(void 0!==n)return this._resolvedConnection.onProgress(e,t,e=>{n(t,e,()=>r(e))})}return this._resolvedConnection.onProgress(e,t,r)}catch(e){throw this.error(`Registering progress handler for token ${t} failed.`,e),e}}sendProgress(e,t,r){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{this._resolvedConnection.sendProgress(e,t,r)}catch(e){throw this.error(`Sending progress for token ${t} failed.`,e),e}}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=n.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}createDefaultErrorHandler(e){if(void 0!==e&&e<0)throw new Error("Invalid maxRestartCount: "+e);return new v(this._name,null!=e?e:4)}set trace(e){this._trace=e,this.onReady().then(()=>{this.resolveConnection().then(e=>{e.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})})},()=>{})}data2String(e){if(e instanceof o.ResponseError){const t=e;return`  Message: ${t.message}\n  Code: ${t.code} ${t.data?"\n"+t.data.toString():""}`}return e instanceof Error?l.string(e.stack)?e.stack:e.message:l.string(e)?e:e.toString()}info(e,t,r=!0){this.outputChannel.appendLine(`[Info  - ${(new Date).toLocaleTimeString()}] ${e}`),t&&this.outputChannel.appendLine(this.data2String(t)),r&&this._clientOptions.revealOutputChannelOn<=f.Info&&this.showNotificationMessage()}warn(e,t,r=!0){this.outputChannel.appendLine(`[Warn  - ${(new Date).toLocaleTimeString()}] ${e}`),t&&this.outputChannel.appendLine(this.data2String(t)),r&&this._clientOptions.revealOutputChannelOn<=f.Warn&&this.showNotificationMessage()}error(e,t,r=!0){this.outputChannel.appendLine(`[Error - ${(new Date).toLocaleTimeString()}] ${e}`),t&&this.outputChannel.appendLine(this.data2String(t)),r&&this._clientOptions.revealOutputChannelOn<=f.Error&&this.showNotificationMessage()}showNotificationMessage(){n.window.showInformationMessage("A request has failed. See the output for more information.","Go to output").then(()=>{this.outputChannel.show(!0)})}logTrace(e,t){this.traceOutputChannel.appendLine(`[Trace - ${(new Date).toLocaleTimeString()}] ${e}`),t&&this.traceOutputChannel.appendLine(this.data2String(t))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${(new Date).toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${(new Date).toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(""+JSON.stringify(e))}needsStart(){return this.state===y.Initial||this.state===y.Stopping||this.state===y.Stopped}needsStop(){return this.state===y.Starting||this.state===y.Running}onReady(){return this._onReady}isConnectionActive(){return this.state===y.Running&&!!this._resolvedConnection}start(){return this._onReadyCallbacks.isUsed&&(this._onReady=new Promise((e,t)=>{this._onReadyCallbacks=new X(e,t)})),this._listeners=[],this._providers=[],this._diagnostics||(this._diagnostics=this._clientOptions.diagnosticCollectionName?n.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):n.languages.createDiagnosticCollection()),this.state=y.Starting,this.resolveConnection().then(e=>(e.onLogMessage(e=>{switch(e.type){case o.MessageType.Error:this.error(e.message,void 0,!1);break;case o.MessageType.Warning:this.warn(e.message,void 0,!1);break;case o.MessageType.Info:this.info(e.message,void 0,!1);break;default:this.outputChannel.appendLine(e.message)}}),e.onShowMessage(e=>{switch(e.type){case o.MessageType.Error:n.window.showErrorMessage(e.message);break;case o.MessageType.Warning:n.window.showWarningMessage(e.message);break;case o.MessageType.Info:n.window.showInformationMessage(e.message);break;default:n.window.showInformationMessage(e.message)}}),e.onRequest(o.ShowMessageRequest.type,e=>{let t;switch(e.type){case o.MessageType.Error:t=n.window.showErrorMessage;break;case o.MessageType.Warning:t=n.window.showWarningMessage;break;case o.MessageType.Info:t=n.window.showInformationMessage;break;default:t=n.window.showInformationMessage}let r=e.actions||[];return t(e.message,...r)}),e.onTelemetry(e=>{this._telemetryEmitter.fire(e)}),e.onRequest(o.ShowDocumentRequest.type,async e=>{var t;const r=async e=>{const t=this.protocol2CodeConverter.asUri(e.uri);try{if(!0===e.external){return{success:await n.env.openExternal(t)}}{const r={};return void 0!==e.selection&&(r.selection=this.protocol2CodeConverter.asRange(e.selection)),void 0===e.takeFocus||!1===e.takeFocus?r.preserveFocus=!0:!0===e.takeFocus&&(r.preserveFocus=!1),await n.window.showTextDocument(t,r),{success:!0}}}catch(e){return{success:!0}}},o=null===(t=this._clientOptions.middleware.window)||void 0===t?void 0:t.showDocument;return void 0!==o?o(e,r):r(e)}),e.listen(),this.initialize(e))).then(void 0,e=>{this.state=y.StartFailed,this._onReadyCallbacks.reject(e),this.error("Starting client failed",e),n.window.showErrorMessage("Couldn't start client "+this._name)}),new n.Disposable(()=>{this.needsStop()&&this.stop()})}resolveConnection(){return this._connectionPromise||(this._connectionPromise=this.createConnection()),this._connectionPromise}initialize(e){this.refreshTrace(e,!1);let t=this._clientOptions.initializationOptions,r=this._clientOptions.workspaceFolder?this._clientOptions.workspaceFolder.uri.fsPath:this._clientGetRootPath(),i={processId:null,clientInfo:{name:n.env.appName,version:n.version},locale:this.getLocale(),rootPath:r||null,rootUri:r?this._c2p.asUri(n.Uri.file(r)):null,capabilities:this.computeClientCapabilities(),initializationOptions:l.func(t)?t():t,trace:o.Trace.toString(this._trace),workspaceFolders:null};if(this.fillInitializeParams(i),this._clientOptions.progressOnInitialization){const t=u.generateUuid(),r=new d.ProgressPart(e,t);return i.workDoneToken=t,this.doInitialize(e,i).then(e=>(r.done(),e),e=>{throw r.cancel(),e})}return this.doInitialize(e,i)}doInitialize(e,t){return e.initialize(t).then(t=>{this._resolvedConnection=e,this._initializeResult=t,this.state=y.Running;let r=void 0;return l.number(t.capabilities.textDocumentSync)?r=t.capabilities.textDocumentSync===o.TextDocumentSyncKind.None?{openClose:!1,change:o.TextDocumentSyncKind.None,save:void 0}:{openClose:!0,change:t.capabilities.textDocumentSync,save:{includeText:!1}}:void 0!==t.capabilities.textDocumentSync&&null!==t.capabilities.textDocumentSync&&(r=t.capabilities.textDocumentSync),this._capabilities=Object.assign({},t.capabilities,{resolvedTextDocumentSync:r}),e.onDiagnostics(e=>this.handleDiagnostics(e)),e.onRequest(o.RegistrationRequest.type,e=>this.handleRegistrationRequest(e)),e.onRequest("client/registerFeature",e=>this.handleRegistrationRequest(e)),e.onRequest(o.UnregistrationRequest.type,e=>this.handleUnregistrationRequest(e)),e.onRequest("client/unregisterFeature",e=>this.handleUnregistrationRequest(e)),e.onRequest(o.ApplyWorkspaceEditRequest.type,e=>this.handleApplyWorkspaceEdit(e)),e.sendNotification(o.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),this._onReadyCallbacks.resolve(),t}).then(void 0,t=>{throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(t)?this.initialize(e):(this.stop(),this._onReadyCallbacks.reject(t)):t instanceof o.ResponseError&&t.data&&t.data.retry?n.window.showErrorMessage(t.message,{title:"Retry",id:"retry"}).then(r=>{r&&"retry"===r.id?this.initialize(e):(this.stop(),this._onReadyCallbacks.reject(t))}):(t&&t.message&&n.window.showErrorMessage(t.message),this.error("Server initialization failed.",t),this.stop(),this._onReadyCallbacks.reject(t)),t})}_clientGetRootPath(){let e=n.workspace.workspaceFolders;if(!e||0===e.length)return;let t=e[0];return"file"===t.uri.scheme?t.uri.fsPath:void 0}stop(){return this._initializeResult=void 0,this._connectionPromise?this.state===y.Stopping&&this._onStop?this._onStop:(this.state=y.Stopping,this.cleanUp(!1),this._onStop=this.resolveConnection().then(e=>e.shutdown().then(()=>{e.exit(),e.end(),e.dispose(),this.state=y.Stopped,this.cleanUpChannel(),this._onStop=void 0,this._connectionPromise=void 0,this._resolvedConnection=void 0}))):(this.state=y.Stopped,Promise.resolve())}cleanUp(e=!0,t=!0){this._listeners&&(this._listeners.forEach(e=>e.dispose()),this._listeners=void 0),this._providers&&(this._providers.forEach(e=>e.dispose()),this._providers=void 0),this._syncedDocuments&&this._syncedDocuments.clear();for(const e of this._features.values())e.dispose();e&&this.cleanUpChannel(),t&&this._diagnostics&&(this._diagnostics.dispose(),this._diagnostics=void 0)}cleanUpChannel(){this._outputChannel&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){var t;const r=this;function n(e){r._fileEvents.push(e),r._fileEventDelayer.trigger(()=>{r.onReady().then(()=>{r.resolveConnection().then(e=>{r.isConnectionActive()&&(r.forceDocumentSync(),e.didChangeWatchedFiles({changes:r._fileEvents})),r._fileEvents=[]})},e=>{r.error("Notify file events failed.",e)})})}const o=null===(t=this.clientOptions.middleware)||void 0===t?void 0:t.workspace;(null==o?void 0:o.didChangeWatchedFile)?o.didChangeWatchedFile(e,n):n(e)}forceDocumentSync(){void 0===this._didChangeTextDocumentFeature&&(this._didChangeTextDocumentFeature=this._dynamicFeatures.get(o.DidChangeTextDocumentNotification.type.method)),this._didChangeTextDocumentFeature.forceDelivery()}handleDiagnostics(e){if(!this._diagnostics)return;let t=this._p2c.asUri(e.uri),r=this._p2c.asDiagnostics(e.diagnostics),n=this.clientOptions.middleware;n.handleDiagnostics?n.handleDiagnostics(t,r,(e,t)=>this.setDiagnostics(e,t)):this.setDiagnostics(t,r)}setDiagnostics(e,t){this._diagnostics&&this._diagnostics.set(e,t)}createConnection(){let e=(e,t,r)=>{this.handleConnectionError(e,t,r)},t=()=>{this.handleConnectionClosed()};return this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8").then(r=>function(e,t,r,n,i){let s=new g,a=o.createProtocolConnection(e,t,s,i);return a.onError(e=>{r(e[0],e[1],e[2])}),a.onClose(n),{listen:()=>a.listen(),sendRequest:(e,...t)=>a.sendRequest(l.string(e)?e:e.method,...t),onRequest:(e,t)=>a.onRequest(l.string(e)?e:e.method,t),sendNotification:(e,t)=>a.sendNotification(l.string(e)?e:e.method,t),onNotification:(e,t)=>a.onNotification(l.string(e)?e:e.method,t),onProgress:a.onProgress,sendProgress:a.sendProgress,trace:(e,t,r)=>{const n={sendNotification:!1,traceFormat:o.TraceFormat.Text};void 0===r?a.trace(e,t,n):(l.boolean(r),a.trace(e,t,r))},initialize:e=>a.sendRequest(o.InitializeRequest.type,e),shutdown:()=>a.sendRequest(o.ShutdownRequest.type,void 0),exit:()=>a.sendNotification(o.ExitNotification.type),onLogMessage:e=>a.onNotification(o.LogMessageNotification.type,e),onShowMessage:e=>a.onNotification(o.ShowMessageNotification.type,e),onTelemetry:e=>a.onNotification(o.TelemetryEventNotification.type,e),didChangeConfiguration:e=>a.sendNotification(o.DidChangeConfigurationNotification.type,e),didChangeWatchedFiles:e=>a.sendNotification(o.DidChangeWatchedFilesNotification.type,e),didOpenTextDocument:e=>a.sendNotification(o.DidOpenTextDocumentNotification.type,e),didChangeTextDocument:e=>a.sendNotification(o.DidChangeTextDocumentNotification.type,e),didCloseTextDocument:e=>a.sendNotification(o.DidCloseTextDocumentNotification.type,e),didSaveTextDocument:e=>a.sendNotification(o.DidSaveTextDocumentNotification.type,e),onDiagnostics:e=>a.onNotification(o.PublishDiagnosticsNotification.type,e),end:()=>a.end(),dispose:()=>a.dispose()}}(r.reader,r.writer,e,t,this._clientOptions.connectionOptions))}handleConnectionClosed(){if(this.state===y.Stopping||this.state===y.Stopped)return;try{this._resolvedConnection&&this._resolvedConnection.dispose()}catch(e){}let e=h.DoNotRestart;try{e=this._clientOptions.errorHandler.closed()}catch(e){}this._connectionPromise=void 0,this._resolvedConnection=void 0,e===h.DoNotRestart?(this.error("Connection to server got closed. Server will not be restarted."),this.state===y.Starting?(this._onReadyCallbacks.reject(new Error("Connection to server got closed. Server will not be restarted.")),this.state=y.StartFailed):this.state=y.Stopped,this.cleanUp(!1,!0)):e===h.Restart&&(this.info("Connection to server got closed. Server will restart."),this.cleanUp(!1,!1),this.state=y.Initial,this.start())}handleConnectionError(e,t,r){this._clientOptions.errorHandler.error(e,t,r)===p.Shutdown&&(this.error("Connection to server is erroring. Shutting down server."),this.stop())}hookConfigurationChanged(e){n.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(e,!0)})}refreshTrace(e,t=!1){let r=n.workspace.getConfiguration(this._id),i=o.Trace.Off,s=o.TraceFormat.Text;if(r){const e=r.get("trace.server","off");"string"==typeof e?i=o.Trace.fromString(e):(i=o.Trace.fromString(r.get("trace.server.verbosity","off")),s=o.TraceFormat.fromString(r.get("trace.server.format","text")))}this._trace=i,this._traceFormat=s,e.trace(this._trace,this._tracer,{sendNotification:t,traceFormat:this._traceFormat})}hookFileEvents(e){let t,r=this._clientOptions.synchronize.fileEvents;r&&(t=l.array(r)?r:[r],t&&this._dynamicFeatures.get(o.DidChangeWatchedFilesNotification.type.method).registerRaw(u.generateUuid(),t))}registerFeatures(e){for(let t of e)this.registerFeature(t)}registerFeature(e){if(this._features.push(e),C.is(e)){const t=e.registrationType;this._dynamicFeatures.set(t.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}registerBuiltinFeatures(){this.registerFeature(new Y(this)),this.registerFeature(new w(this,this._syncedDocuments)),this.registerFeature(new A(this)),this.registerFeature(new O(this)),this.registerFeature(new I(this)),this.registerFeature(new P(this)),this.registerFeature(new D(this,this._syncedDocuments)),this.registerFeature(new N(this,e=>this.notifyFileEvent(e))),this.registerFeature(new k(this)),this.registerFeature(new j(this)),this.registerFeature(new x(this)),this.registerFeature(new L(this)),this.registerFeature(new F(this)),this.registerFeature(new B(this)),this.registerFeature(new U(this)),this.registerFeature(new G(this)),this.registerFeature(new W(this)),this.registerFeature(new q(this)),this.registerFeature(new H(this)),this.registerFeature(new V(this)),this.registerFeature(new z(this)),this.registerFeature(new $(this)),this.registerFeature(new K(this)),this.registerFeature(new J(this))}fillInitializeParams(e){for(let t of this._features)l.func(t.fillInitializeParams)&&t.fillInitializeParams(e)}computeClientCapabilities(){const e={};b(e,"workspace").applyEdit=!0;const t=b(b(e,"workspace"),"workspaceEdit");t.documentChanges=!0,t.resourceOperations=[o.ResourceOperationKind.Create,o.ResourceOperationKind.Rename,o.ResourceOperationKind.Delete],t.failureHandling=o.FailureHandlingKind.TextOnlyTransactional,t.normalizesLineEndings=!0,t.changeAnnotationSupport={groupsOnLabel:!0};const r=b(b(e,"textDocument"),"publishDiagnostics");r.relatedInformation=!0,r.versionSupport=!1,r.tagSupport={valueSet:[o.DiagnosticTag.Unnecessary,o.DiagnosticTag.Deprecated]},r.codeDescriptionSupport=!0,r.dataSupport=!0;const n=b(e,"window");b(n,"showMessage").messageActionItem={additionalPropertiesSupport:!0};b(n,"showDocument").support=!0;const i=b(e,"general");i.regularExpressions={engine:"ECMAScript",version:"ES2020"},i.markdown={parser:"marked",version:"1.1.0"};for(let t of this._features)t.fillClientCapabilities(e);return e}initializeFeatures(e){let t=this._clientOptions.documentSelector;for(let e of this._features)e.initialize(this._capabilities,t)}handleRegistrationRequest(e){return new Promise((t,r)=>{for(const t of e.registrations){const e=this._dynamicFeatures.get(t.method);if(void 0===e)return void r(new Error(`No feature implementation for ${t.method} found. Registration failed.`));const n=t.registerOptions||{};n.documentSelector=n.documentSelector||this._clientOptions.documentSelector;const o={id:t.id,registerOptions:n};try{e.register(o)}catch(e){return void r(e)}}t()})}handleUnregistrationRequest(e){return new Promise((t,r)=>{for(let t of e.unregisterations){const e=this._dynamicFeatures.get(t.method);if(!e)return void r(new Error(`No feature implementation for ${t.method} found. Unregistration failed.`));e.unregister(t.id)}t()})}handleApplyWorkspaceEdit(e){let t=e.edit,r=new Map;n.workspace.textDocuments.forEach(e=>r.set(e.uri.toString(),e));let i=!1;if(t.documentChanges)for(const e of t.documentChanges)if(o.TextDocumentEdit.is(e)&&e.textDocument.version&&e.textDocument.version>=0){let t=r.get(e.textDocument.uri);if(t&&t.version!==e.textDocument.version){i=!0;break}}return i?Promise.resolve({applied:!1}):l.asPromise(n.workspace.applyEdit(this._p2c.asWorkspaceEdit(e.edit)).then(e=>({applied:e})))}handleFailedRequest(e,t,r){if(t instanceof o.ResponseError){if(t.code===o.LSPErrorCodes.RequestCancelled)throw this.makeCancelError();if(t.code===o.LSPErrorCodes.ContentModified)return r}throw this.error(`Request ${e.method} failed.`,t),t}makeCancelError(){const e=new Error(Q.Canceled);return e.name=Q.Canceled,e}}t.BaseLanguageClient=Q,Q.Canceled="Canceled"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;const n=r(8),o=r(2),i=/^[0-9a-z_.-]+$/,s=/^[ -~]*$/;function a(e){return e.endsWith("-bin")}function l(e){return e.toLowerCase()}function c(e,t){if(!function(e){return i.test(e)}(e))throw new Error('Metadata key "'+e+'" contains illegal characters');if(null!=t)if(a(e)){if(!(t instanceof Buffer))throw new Error("keys that end with '-bin' must have Buffer values")}else{if(t instanceof Buffer)throw new Error("keys that don't end with '-bin' must have String values");if(!function(e){return s.test(e)}(t))throw new Error('Metadata string value "'+t+'" contains illegal characters')}}class u{constructor(e){this.internalRepr=new Map,this.options=void 0===e?{}:e}set(e,t){c(e=l(e),t),this.internalRepr.set(e,[t])}add(e,t){c(e=l(e),t);const r=this.internalRepr.get(e);void 0===r?this.internalRepr.set(e,[t]):r.push(t)}remove(e){c(e=l(e)),this.internalRepr.delete(e)}get(e){return c(e=l(e)),this.internalRepr.get(e)||[]}getMap(){const e={};return this.internalRepr.forEach((t,r)=>{if(t.length>0){const n=t[0];e[r]=n instanceof Buffer?n.slice():n}}),e}clone(){const e=new u(this.options),t=e.internalRepr;return this.internalRepr.forEach((e,r)=>{const n=e.map(e=>e instanceof Buffer?Buffer.from(e):e);t.set(r,n)}),e}merge(e){e.internalRepr.forEach((e,t)=>{const r=(this.internalRepr.get(t)||[]).concat(e);this.internalRepr.set(t,r)})}setOptions(e){this.options=e}getOptions(){return this.options}toHttp2Headers(){const e={};return this.internalRepr.forEach((t,r)=>{e[r]=t.map(e=>e instanceof Buffer?e.toString("base64"):e)}),e}_getCoreRepresentation(){return this.internalRepr}static fromHttp2Headers(e){const t=new u;return Object.keys(e).forEach(r=>{if(":"===r.charAt(0))return;const i=e[r];try{a(r)?Array.isArray(i)?i.forEach(e=>{t.add(r,Buffer.from(e,"base64"))}):void 0!==i&&(!function(e){return!e.startsWith("grpc-")}(r)?t.add(r,Buffer.from(i,"base64")):i.split(",").forEach(e=>{t.add(r,Buffer.from(e.trim(),"base64"))})):Array.isArray(i)?i.forEach(e=>{t.add(r,e)}):void 0!==i&&t.add(r,i)}catch(e){const t=`Failed to add metadata entry ${r}: ${i}. ${e.message}. For more information see https://github.com/grpc/grpc-node/issues/1173`;n.log(o.LogVerbosity.ERROR,t)}}),t}}t.Metadata=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uriToString=t.splitHostPort=t.parseUri=void 0;const n=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;t.parseUri=function(e){const t=n.exec(e);return null===t?null:{scheme:t[1],authority:t[2],path:t[3]}};const o=/^\d+$/;t.splitHostPort=function(e){if(e.startsWith("[")){const t=e.indexOf("]");if(-1===t)return null;const r=e.substring(1,t);if(-1===r.indexOf(":"))return null;if(e.length>t+1){if(":"===e[t+1]){const n=e.substring(t+2);return o.test(n)?{host:r,port:+n}:null}return null}return{host:r}}{const t=e.split(":");return 2===t.length?o.test(t[1])?{host:t[0],port:+t[1]}:null:{host:e}}},t.uriToString=function(e){let t="";return void 0!==e.scheme&&(t+=e.scheme+":"),void 0!==e.authority&&(t+="//"+e.authority+"/"),t+=e.path,t}},function(e,t,r){const n=r(9);e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},function(e,t,r){class n{constructor(e,t){if(t=i(t),e instanceof n)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new n(e.raw,t);if(e instanceof s)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter(e=>!h(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&f(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();const t=`parseRange:${Object.keys(this.options).join(",")}:${e}`,r=o.get(t);if(r)return r;const n=this.options.loose,i=n?c[u.HYPHENRANGELOOSE]:c[u.HYPHENRANGE];e=e.replace(i,D(this.options.includePrerelease)),a("hyphen replace",e),e=e.replace(c[u.COMPARATORTRIM],d),a("comparator trim",e,c[u.COMPARATORTRIM]),e=(e=(e=e.replace(c[u.TILDETRIM],g)).replace(c[u.CARETTRIM],p)).split(/\s+/).join(" ");const l=n?c[u.COMPARATORLOOSE]:c[u.COMPARATOR],f=e.split(" ").map(e=>y(e,this.options)).join(" ").split(/\s+/).map(e=>w(e,this.options)).filter(this.options.loose?e=>!!e.match(l):()=>!0).map(e=>new s(e,this.options)),m=(f.length,new Map);for(const e of f){if(h(e))return[e];m.set(e.value,e)}m.size>1&&m.has("")&&m.delete("");const v=[...m.values()];return o.set(t,v),v}intersects(e,t){if(!(e instanceof n))throw new TypeError("a Range is required");return this.set.some(r=>m(r,t)&&e.set.some(e=>m(e,t)&&r.every(r=>e.every(e=>r.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(A(this.set[t],e,this.options))return!0;return!1}}e.exports=n;const o=new(r(342))({max:1e3}),i=r(60),s=r(62),a=r(59),l=r(9),{re:c,t:u,comparatorTrimReplace:d,tildeTrimReplace:g,caretTrimReplace:p}=r(42),h=e=>"<0.0.0-0"===e.value,f=e=>""===e.value,m=(e,t)=>{let r=!0;const n=e.slice();let o=n.pop();for(;r&&n.length;)r=n.every(e=>o.intersects(e,t)),o=n.pop();return r},y=(e,t)=>(a("comp",e,t),e=S(e,t),a("caret",e),e=_(e,t),a("tildes",e),e=E(e,t),a("xrange",e),e=R(e,t),a("stars",e),e),v=e=>!e||"x"===e.toLowerCase()||"*"===e,_=(e,t)=>e.trim().split(/\s+/).map(e=>T(e,t)).join(" "),T=(e,t)=>{const r=t.loose?c[u.TILDELOOSE]:c[u.TILDE];return e.replace(r,(t,r,n,o,i)=>{let s;return a("tilde",e,t,r,n,o,i),v(r)?s="":v(n)?s=`>=${r}.0.0 <${+r+1}.0.0-0`:v(o)?s=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:i?(a("replaceTilde pr",i),s=`>=${r}.${n}.${o}-${i} <${r}.${+n+1}.0-0`):s=`>=${r}.${n}.${o} <${r}.${+n+1}.0-0`,a("tilde return",s),s})},S=(e,t)=>e.trim().split(/\s+/).map(e=>b(e,t)).join(" "),b=(e,t)=>{a("caret",e,t);const r=t.loose?c[u.CARETLOOSE]:c[u.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(t,r,o,i,s)=>{let l;return a("caret",e,t,r,o,i,s),v(r)?l="":v(o)?l=`>=${r}.0.0${n} <${+r+1}.0.0-0`:v(i)?l="0"===r?`>=${r}.${o}.0${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.0${n} <${+r+1}.0.0-0`:s?(a("replaceCaret pr",s),l="0"===r?"0"===o?`>=${r}.${o}.${i}-${s} <${r}.${o}.${+i+1}-0`:`>=${r}.${o}.${i}-${s} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${i}-${s} <${+r+1}.0.0-0`):(a("no pr"),l="0"===r?"0"===o?`>=${r}.${o}.${i}${n} <${r}.${o}.${+i+1}-0`:`>=${r}.${o}.${i}${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${i} <${+r+1}.0.0-0`),a("caret return",l),l})},E=(e,t)=>(a("replaceXRanges",e,t),e.split(/\s+/).map(e=>C(e,t)).join(" ")),C=(e,t)=>{e=e.trim();const r=t.loose?c[u.XRANGELOOSE]:c[u.XRANGE];return e.replace(r,(r,n,o,i,s,l)=>{a("xRange",e,r,n,o,i,s,l);const c=v(o),u=c||v(i),d=u||v(s),g=d;return"="===n&&g&&(n=""),l=t.includePrerelease?"-0":"",c?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&g?(u&&(i=0),s=0,">"===n?(n=">=",u?(o=+o+1,i=0,s=0):(i=+i+1,s=0)):"<="===n&&(n="<",u?o=+o+1:i=+i+1),"<"===n&&(l="-0"),r=`${n+o}.${i}.${s}${l}`):u?r=`>=${o}.0.0${l} <${+o+1}.0.0-0`:d&&(r=`>=${o}.${i}.0${l} <${o}.${+i+1}.0-0`),a("xRange return",r),r})},R=(e,t)=>(a("replaceStars",e,t),e.trim().replace(c[u.STAR],"")),w=(e,t)=>(a("replaceGTE0",e,t),e.trim().replace(c[t.includePrerelease?u.GTE0PRE:u.GTE0],"")),D=e=>(t,r,n,o,i,s,a,l,c,u,d,g,p)=>`${r=v(n)?"":v(o)?`>=${n}.0.0${e?"-0":""}`:v(i)?`>=${n}.${o}.0${e?"-0":""}`:s?">="+r:`>=${r}${e?"-0":""}`} ${l=v(c)?"":v(u)?`<${+c+1}.0.0-0`:v(d)?`<${c}.${+u+1}.0-0`:g?`<=${c}.${u}.${d}-${g}`:e?`<${c}.${u}.${+d+1}-0`:"<="+l}`.trim(),A=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(a(e[r].semver),e[r].semver!==s.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=r(45),i=r(55),s=r(38),a=r(197),l=r(6),c=r(47),u=function(){function e(){}return e.getCookie=function(t,r){var n="";if(t&&t.length&&"string"==typeof r)for(var o=t+"=",i=r.split(";"),s=0;s<i.length;s++){r=i[s];if((r=e.trim(r))&&0===r.indexOf(o)){n=r.substring(o.length,i[s].length);break}}return n},e.trim=function(e){return"string"==typeof e?e.replace(/^\s+|\s+$/g,""):""},e.int32ArrayToBase64=function(e){var t=function(e,t){return String.fromCharCode(e>>t&255)},r=e.map((function(e){return t(e,24)+t(e,16)+t(e,8)+t(e,0)})).join(""),n=(Buffer.from?Buffer.from(r,"binary"):new Buffer(r,"binary")).toString("base64");return n.substr(0,n.indexOf("="))},e.random32=function(){return 4294967296*Math.random()|0},e.randomu32=function(){return e.random32()+2147483648},e.w3cTraceId=function(){for(var t,r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n="",o=0;o<4;o++)n+=r[15&(t=e.random32())]+r[t>>4&15]+r[t>>8&15]+r[t>>12&15]+r[t>>16&15]+r[t>>20&15]+r[t>>24&15]+r[t>>28&15];var i=r[8+4*Math.random()|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+i+n.substr(16,3)+n.substr(19,12)},e.isValidW3CId=function(e){return 32===e.length&&"00000000000000000000000000000000"!==e},e.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e.isError=function(e){return e instanceof Error},e.isPrimitive=function(e){var t=typeof e;return"string"===t||"number"===t||"boolean"===t},e.isDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)},e.msToTimeSpan=function(e){(isNaN(e)||e<0)&&(e=0);var t=(e/1e3%60).toFixed(7).replace(/0{0,4}$/,""),r=""+Math.floor(e/6e4)%60,n=""+Math.floor(e/36e5)%24,o=Math.floor(e/864e5);return t=t.indexOf(".")<2?"0"+t:t,r=r.length<2?"0"+r:r,(o>0?o+".":"")+(n=n.length<2?"0"+n:n)+":"+r+":"+t},e.extractError=function(e){var t=e;return{message:e.message,code:t.code||t.id||""}},e.extractObject=function(t){return t instanceof Error?e.extractError(t):"function"==typeof t.toJSON?t.toJSON():t},e.validateStringMap=function(t){if("object"==typeof t){var r={};for(var n in t){var o="",i=t[n],s=typeof i;if(e.isPrimitive(i))o=i.toString();else if(null===i||"undefined"===s)o="";else{if("function"===s){l.info("key: "+n+" was function; will not serialize");continue}var a=e.isArray(i)?i:e.extractObject(i);try{o=e.isPrimitive(a)?a:JSON.stringify(a)}catch(e){o=i.constructor.name.toString()+" (Error: "+e.message+")",l.info("key: "+n+", could not be serialized")}}r[n]=o.substring(0,e.MAX_PROPERTY_LENGTH)}return r}l.info("Invalid properties dropped from payload")},e.canIncludeCorrelationHeader=function(e,t){var r=e&&e.config&&e.config.correlationHeaderExcludedDomains;if(!r||0==r.length||!t)return!0;for(var n=0;n<r.length;n++){if(new RegExp(r[n].replace(/\./g,".").replace(/\*/g,".*")).test(s.parse(t).hostname))return!1}return!0},e.getCorrelationContextTarget=function(e,t){var r=e.headers&&e.headers[c.requestContextHeader];if(r)for(var n=r.split(","),o=0;o<n.length;++o){var i=n[o].split("=");if(2==i.length&&i[0]==t)return i[1]}},e.makeRequest=function(t,r,a,c){r&&0===r.indexOf("//")&&(r="https:"+r);var u=s.parse(r),d=n({},a,{host:u.hostname,port:u.port,path:u.pathname}),g=void 0;if("https:"===u.protocol&&(g=t.proxyHttpsUrl||void 0),"http:"===u.protocol&&(g=t.proxyHttpUrl||void 0),g){0===g.indexOf("//")&&(g="http:"+g);var p=s.parse(g);"https:"===p.protocol?(l.info("Proxies that use HTTPS are not supported"),g=void 0):d=n({},d,{host:p.hostname,port:p.port||"80",path:r,headers:n({},d.headers,{Host:u.hostname})})}var h="https:"===u.protocol&&!g;return h&&void 0!==t.httpsAgent?d.agent=t.httpsAgent:h||void 0===t.httpAgent?h&&(d.agent=e.tlsRestrictedAgent):d.agent=t.httpAgent,h?i.request(d,c):o.request(d,c)},e.safeIncludeCorrelationHeader=function(t,r,n){var o;if("string"==typeof n)o=n;else if(n instanceof Array)o=n.join(",");else if(n&&"function"==typeof n.toString)try{o=n.toString()}catch(e){l.warn("Outgoing request-context header could not be read. Correlation of requests may be lost.",e,n)}o?e.addCorrelationIdHeaderFromString(t,r,o):r.setHeader(c.requestContextHeader,c.requestContextSourceKey+"="+t.config.correlationId)},e.addCorrelationIdHeaderFromString=function(e,t,r){var n=r.split(","),o=c.requestContextSourceKey+"=";n.some((function(e){return e.substring(0,o.length)===o}))||t.setHeader(c.requestContextHeader,r+","+c.requestContextSourceKey+"="+e.config.correlationId)},e.MAX_PROPERTY_LENGTH=8192,e.tlsRestrictedAgent=new i.Agent({secureOptions:a.SSL_OP_NO_SSLv2|a.SSL_OP_NO_SSLv3|a.SSL_OP_NO_TLSv1|a.SSL_OP_NO_TLSv1_1}),e}();e.exports=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerAll=t.mapUriDefaultScheme=t.getDefaultAuthority=t.createResolver=t.registerDefaultScheme=t.registerResolver=void 0;const n=r(228),o=r(229),i=r(230),s=r(15),a={};let l=null;t.registerResolver=function(e,t){a[e]=t},t.registerDefaultScheme=function(e){l=e},t.createResolver=function(e,t,r){if(void 0!==e.scheme&&e.scheme in a)return new a[e.scheme](e,t,r);throw new Error("No resolver could be created for target "+s.uriToString(e))},t.getDefaultAuthority=function(e){if(void 0!==e.scheme&&e.scheme in a)return a[e.scheme].getDefaultAuthority(e);throw new Error("Invalid target "+s.uriToString(e))},t.mapUriDefaultScheme=function(e){return void 0!==e.scheme&&e.scheme in a?e:null!==l?{scheme:l,authority:void 0,path:s.uriToString(e)}:null},t.registerAll=function(){n.setup(),o.setup(),i.setup()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGradleConfig=t.getConfigJavaDebug=t.setShowStoppedDaemons=t.getShowStoppedDaemons=t.getNestedProjectsConfig=t.getConfigFocusTaskInExplorer=t.getDisableConfirmations=t.getConfigReuseTerminals=t.getConfigIsDebugEnabled=t.getConfigJavaImportGradleHome=t.getConfigJavaImportGradleVersion=t.getConfigJavaImportGradleWrapperEnabled=t.getConfigJavaImportGradleJvmArguments=t.getConfigJavaImportGradleUserHome=t.getConfigGradleJavaHome=t.getConfigJavaImportGradleJavaHome=t.getConfigJavaHome=t.getConfigIsAutoDetectionEnabled=void 0;const n=r(0),o=r(33);function i(){return n.workspace.getConfiguration("java").get("home",null)}function s(){return n.workspace.getConfiguration("java").get("import.gradle.java.home",null)}function a(){return n.workspace.getConfiguration("java").get("import.gradle.user.home",null)}function l(){return n.workspace.getConfiguration("java").get("import.gradle.jvmArguments",null)}function c(){return n.workspace.getConfiguration("java").get("import.gradle.wrapper.enabled",!0)}function u(){return n.workspace.getConfiguration("java").get("import.gradle.version",null)}function d(){return n.workspace.getConfiguration("java").get("import.gradle.home",null)}t.getConfigIsAutoDetectionEnabled=function(e){return"on"===n.workspace.getConfiguration("gradle",e.getWorkspaceFolder().uri).get("autoDetect","on")},t.getConfigJavaHome=i,t.getConfigJavaImportGradleJavaHome=s,t.getConfigGradleJavaHome=function(){return s()||i()},t.getConfigJavaImportGradleUserHome=a,t.getConfigJavaImportGradleJvmArguments=l,t.getConfigJavaImportGradleWrapperEnabled=c,t.getConfigJavaImportGradleVersion=u,t.getConfigJavaImportGradleHome=d,t.getConfigIsDebugEnabled=function(){return n.workspace.getConfiguration("gradle").get("debug",!1)},t.getConfigReuseTerminals=function(){return n.workspace.getConfiguration("gradle").get("reuseTerminals","task")},t.getDisableConfirmations=function(){return n.workspace.getConfiguration("gradle").get("disableConfirmations",!1)},t.getConfigFocusTaskInExplorer=function(){return n.workspace.getConfiguration("gradle").get("focusTaskInExplorer",!0)},t.getNestedProjectsConfig=function(e){return n.workspace.getConfiguration("gradle",e.uri).get("nestedProjects",!1)},t.getShowStoppedDaemons=function(){return n.workspace.getConfiguration("gradle").get("showStoppedDaemons",!1)},t.setShowStoppedDaemons=function(e){n.workspace.getConfiguration("gradle").update("showStoppedDaemons",e,!0)},t.getConfigJavaDebug=function(e){return n.workspace.getConfiguration("gradle",e.uri).get("javaDebug",{tasks:["run","runBoot","test","intTest","integration"],clean:!0})},t.getGradleConfig=function(){const e=new o.GradleConfig,t=d(),r=a(),n=l(),i=u();return null!==t&&e.setGradleHome(t),null!==r&&e.setUserHome(r),null!==n&&e.setJvmArguments(n),null!==i&&e.setVersion(i),e.setWrapperEnabled(c()),e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.confirmModal=t.getRootProjectFolder=t.getFindTask=t.getGradleCommand=t.getTaskArgs=void 0;const n=r(0),o=r(20);function i(e){if(void 0!==e)return e.trim()}t.getTaskArgs=function(){return n.window.showInputBox({placeHolder:"For example: --info",ignoreFocusOut:!0}).then(i)},t.getGradleCommand=function(){return n.window.showInputBox({prompt:["Enter a command for gradle to run.","This can include built-in Gradle commands or tasks.","Not all Gradle command line options are supported."].join(" "),placeHolder:"For example: build --info",ignoreFocusOut:!0}).then(i)},t.getFindTask=function(e){return n.window.showQuickPick(e.loadTasks().then(e=>e.map(e=>e.name)),{placeHolder:"Search for a Gradle task",ignoreFocusOut:!1,canPickMany:!1})},t.getRootProjectFolder=async function(e){const t=await e.getProjectRoots();if(1===t.length)return Promise.resolve(t[0]);const r=t.map(e=>e.getProjectUri().fsPath),o=await n.window.showQuickPick(r,{canPickMany:!1,placeHolder:"Select the root project"});return o?t[r.indexOf(o)]:void 0},t.confirmModal=async function(e){return!!o.getDisableConfirmations()||"Yes"===await n.window.showWarningMessage(e,{modal:!0},"Yes")}},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("os")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(90),o=r(90);t.makePatchingRequire=o.makePatchingRequire;var i=function(e){return!0},s=function(){function e(){this.version=r(159).version,this.subscribers={},this.contextPreservationFunction=function(e){return e},this.knownPatches={},this.currentlyPublishing=!1}return e.prototype.shouldPublish=function(e){var t=this.subscribers[e];return!!t&&t.some((function(e){var t=e.filter;return!t||t(!1)}))},e.prototype.publish=function(e,t){if(!this.currentlyPublishing){var r=this.subscribers[e];if(r){var n={timestamp:Date.now(),data:t};this.currentlyPublishing=!0,r.forEach((function(e){var t=e.listener,r=e.filter;try{r&&r(!0)&&t(n)}catch(e){}})),this.currentlyPublishing=!1}}},e.prototype.subscribe=function(e,t,r){void 0===r&&(r=i),this.subscribers[e]||(this.subscribers[e]=[]),this.subscribers[e].push({listener:t,filter:r})},e.prototype.unsubscribe=function(e,t,r){void 0===r&&(r=i);var n=this.subscribers[e];if(n)for(var o=0;o<n.length;++o)if(n[o].listener===t&&n[o].filter===r)return n.splice(o,1),!0;return!1},e.prototype.reset=function(){var e=this;this.subscribers={},this.contextPreservationFunction=function(e){return e},Object.getOwnPropertyNames(this.knownPatches).forEach((function(t){return delete e.knownPatches[t]}))},e.prototype.bindToContext=function(e){return this.contextPreservationFunction(e)},e.prototype.addContextPreservation=function(e){var t=this.contextPreservationFunction;this.contextPreservationFunction=function(r){return e(t(r))}},e.prototype.registerMonkeyPatch=function(e,t){this.knownPatches[e]||(this.knownPatches[e]=[]),this.knownPatches[e].push(t)},e.prototype.getPatchesObject=function(){return this.knownPatches},e}();global.diagnosticsSource||(global.diagnosticsSource=new s,r(91).prototype.require=n.makePatchingRequire(global.diagnosticsSource.getPatchesObject()));t.channel=global.diagnosticsSource},function(e,t){e.exports=require("net")},function(e,t,r){"use strict";var n=function(){};e.exports=n},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(250),t),o(r(251),t),o(r(252),t),o(r(253),t),o(r(254),t),o(r(255),t),o(r(256),t),o(r(257),t),o(r(258),t),o(r(259),t),o(r(260),t),o(r(261),t),o(r(262),t),o(r(263),t),o(r(264),t),o(r(265),t),o(r(266),t),o(r(267),t),o(r(268),t),o(r(269),t),o(r(270),t),o(r(271),t),o(r(291),t),o(r(292),t),o(r(293),t),o(r(294),t),o(r(295),t),o(r(296),t),o(r(297),t),o(r(298),t),o(r(299),t),o(r(300),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTreeItemState=t.focusProjectInGradleTasksTree=t.focusTaskInGradleTasksTree=t.updateGradleTreeItemStateForTask=t.getTreeItemForTask=t.gradleTaskTreeItemSortCompareFunc=t.treeItemSortCompareFunc=void 0;const n=r(0),o=r(34),i=r(10),s=r(7),a=r(11);function l(e,t){return e.label.toString().localeCompare(t.label.toString())}function c(e){const t=e.definition,r=a.getGradleTaskTreeItemMap().get(t.id);if(r&&r.task===e)return r;const n=a.getPinnedTasksTreeItemMap().get(t.id+t.args);if(n&&n.task===e)return n;const o=a.getRecentTaskTreeItemMap().get(t.id+t.args);return o&&o.task===e?o:null}t.treeItemSortCompareFunc=l,t.gradleTaskTreeItemSortCompareFunc=function(e,t){const r=e.task.definition,n=t.task.definition,o=r.project===r.rootProject,i=n.project===n.rootProject;return o&&!i?-1:i&&!o?1:l(e,t)},t.getTreeItemForTask=c,t.updateGradleTreeItemStateForTask=function(e,t,r,n){const o=e.definition,i=a.getGradleTaskTreeItemMap().get(o.id);i&&(i.setContext(),t.refresh(i));const s=a.getPinnedTasksTreeItemMap().get(o.id+o.args);s&&(s.setContext(),r.refresh(s));const l=a.getRecentTaskTreeItemMap().get(o.id+o.args);l&&(l.setContext(),n.refresh(l))},t.focusTaskInGradleTasksTree=async function(e,t){try{const r=e.definition,n=c(e);if(null===n||n.constructor===a.GradleTaskTreeItem){const e=a.getGradleTaskTreeItemMap().get(r.id);e&&await t.reveal(e,{expand:!0,select:!0,focus:!0})}}catch(e){i.logger.error("Unable to focus task in explorer:",e.message)}},t.focusProjectInGradleTasksTree=async function(e,t){try{await n.commands.executeCommand("workbench.view.extension."+o.GRADLE_CONTAINER_VIEW);const r=a.getProjectTreeItemMap().get(e.fsPath);r&&await t.reveal(r,{focus:!0,expand:!0,select:!0})}catch(e){i.logger.error("Unable to focus project in explorer:",e.message)}},t.getTreeItemState=function(e,t,r){const n=function(e,t,r){return s.isTaskCancelling(e,r)?o.TREE_ITEM_STATE_TASK_CANCELLING:s.isTaskRunning(e,r)?o.TREE_ITEM_STATE_TASK_RUNNING:t&&t.tasks.includes(e.definition.script)?o.TREE_ITEM_STATE_TASK_DEBUG_IDLE:o.TREE_ITEM_STATE_TASK_IDLE}(e,t,r);return r?n+"WithArgs":n}},function(e,t,r){"use strict";let n;function o(){if(void 0===n)throw new Error("No runtime abstraction layer installed");return n}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.install=function(e){if(void 0===e)throw new Error("No runtime abstraction layer provided");n=e}}(o||(o={})),t.default=o},function(e,t){e.exports=require("util")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelImplementation=t.ConnectivityState=void 0;const n=r(106),o=r(108),i=r(226),s=r(232),a=r(49),l=r(2),c=r(74),u=r(234),d=r(235),g=r(236),p=r(19),h=r(8),f=r(237),m=r(111),y=r(15);var v;!function(e){e[e.IDLE=0]="IDLE",e[e.CONNECTING=1]="CONNECTING",e[e.READY=2]="READY",e[e.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",e[e.SHUTDOWN=4]="SHUTDOWN"}(v=t.ConnectivityState||(t.ConnectivityState={}));let _=0;t.ChannelImplementation=class{constructor(e,t,r){var n,_,T;if(this.credentials=t,this.options=r,this.connectivityState=v.IDLE,this.currentPicker=new a.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.configSelector=null,"string"!=typeof e)throw new TypeError("Channel target must be a string");if(!(t instanceof o.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(r&&("object"!=typeof r||!Object.values(r).every(e=>"string"==typeof e||"number"==typeof e||void 0===e)))throw new TypeError("Channel options must be an object with string or number values");const S=y.parseUri(e);if(null===S)throw new Error(`Could not parse target name "${e}"`);const b=p.mapUriDefaultScheme(S);if(null===b)throw new Error(`Could not find a default scheme for target name "${e}"`);this.callRefTimer=setInterval(()=>{},2147483647),null===(_=(n=this.callRefTimer).unref)||void 0===_||_.call(n),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=p.getDefaultAuthority(b);const E=m.mapProxyName(b,r);this.target=E.target,this.options=Object.assign({},this.options,E.extraOptions),this.subchannelPool=s.getSubchannelPool(0===(null!==(T=r["grpc.use_local_subchannel_pool"])&&void 0!==T?T:0));const C={createSubchannel:(e,t)=>this.subchannelPool.getOrCreateSubchannel(this.target,e,Object.assign({},this.options,t),this.credentials),updateState:(e,t)=>{this.currentPicker=t;const r=this.pickQueue.slice();this.pickQueue=[],this.callRefTimerUnref();for(const{callStream:e,callMetadata:t,callConfig:n}of r)this.tryPick(e,t,n);this.updateState(e)},requestReresolution:()=>{throw new Error("Resolving load balancer should never call requestReresolution")}};this.resolvingLoadBalancer=new i.ResolvingLoadBalancer(this.target,C,r,e=>{this.configSelector=e,process.nextTick(()=>{const e=this.configSelectionQueue;this.configSelectionQueue=[],this.callRefTimerUnref();for(const{callStream:t,callMetadata:r}of e)this.tryGetConfig(t,r);this.configSelectionQueue=[]})},e=>{this.configSelectionQueue.length>0&&h.trace(l.LogVerbosity.DEBUG,"channel","Name resolution failed for target "+y.uriToString(this.target)+" with calls queued for config selection");const t=this.configSelectionQueue;this.configSelectionQueue=[],this.callRefTimerUnref();for(const{callStream:r,callMetadata:n}of t)n.getOptions().waitForReady?(this.callRefTimerRef(),this.configSelectionQueue.push({callStream:r,callMetadata:n})):r.cancelWithStatus(e.code,e.details)}),this.filterStackFactory=new c.FilterStackFactory([new u.CallCredentialsFilterFactory(this),new d.DeadlineFilterFactory(this),new f.MaxMessageSizeFilterFactory(this.options),new g.CompressionFilterFactory(this)])}callRefTimerRef(){var e,t,r,n;(null===(t=(e=this.callRefTimer).hasRef)||void 0===t?void 0:t.call(e))||(h.trace(l.LogVerbosity.DEBUG,"channel","callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),null===(n=(r=this.callRefTimer).ref)||void 0===n||n.call(r))}callRefTimerUnref(){var e,t;this.callRefTimer.hasRef&&!this.callRefTimer.hasRef()||(h.trace(l.LogVerbosity.DEBUG,"channel","callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),null===(t=(e=this.callRefTimer).unref)||void 0===t||t.call(e))}pushPick(e,t,r){this.pickQueue.push({callStream:e,callMetadata:t,callConfig:r}),this.callRefTimerRef()}tryPick(e,t,r){var n,o,i;const s=this.currentPicker.pick({metadata:t,extraPickInfo:r.pickInformation});switch(h.trace(l.LogVerbosity.DEBUG,"channel","Pick result: "+a.PickResultType[s.pickResultType]+" subchannel: "+(null===(n=s.subchannel)||void 0===n?void 0:n.getAddress())+" status: "+(null===(o=s.status)||void 0===o?void 0:o.code)+" "+(null===(i=s.status)||void 0===i?void 0:i.details)),s.pickResultType){case a.PickResultType.COMPLETE:if(null===s.subchannel)e.cancelWithStatus(l.Status.UNAVAILABLE,"Request dropped by load balancing policy");else{if(s.subchannel.getConnectivityState()!==v.READY){h.log(l.LogVerbosity.ERROR,"Error: COMPLETE pick result subchannel "+s.subchannel.getAddress()+" has state "+v[s.subchannel.getConnectivityState()]),this.pushPick(e,t,r);break}e.filterStack.sendMetadata(Promise.resolve(t.clone())).then(n=>{var o,i,a;const c=s.subchannel.getConnectivityState();if(c===v.READY)try{s.subchannel.startCallStream(n,e,null!==(o=s.extraFilterFactory)&&void 0!==o?o:void 0),null===(i=r.onCommitted)||void 0===i||i.call(r),null===(a=s.onCallStarted)||void 0===a||a.call(s)}catch(n){"ERR_HTTP2_GOAWAY_SESSION"===n.code?(h.trace(l.LogVerbosity.INFO,"channel","Failed to start call on picked subchannel "+s.subchannel.getAddress()+" with error "+n.message+". Retrying pick"),this.tryPick(e,t,r)):(h.trace(l.LogVerbosity.INFO,"channel","Failed to start call on picked subchanel "+s.subchannel.getAddress()+" with error "+n.message+". Ending call"),e.cancelWithStatus(l.Status.INTERNAL,"Failed to start HTTP/2 stream with error: "+n.message))}else h.trace(l.LogVerbosity.INFO,"channel","Picked subchannel "+s.subchannel.getAddress()+" has state "+v[c]+" after metadata filters. Retrying pick"),this.tryPick(e,t,r)},t=>{e.cancelWithStatus("number"==typeof t.code?t.code:l.Status.UNKNOWN,"Getting metadata from plugin failed with error: "+t.message)})}break;case a.PickResultType.QUEUE:this.pushPick(e,t,r);break;case a.PickResultType.TRANSIENT_FAILURE:t.getOptions().waitForReady?this.pushPick(e,t,r):e.cancelWithStatus(s.status.code,s.status.details);break;case a.PickResultType.DROP:e.cancelWithStatus(s.status.code,s.status.details);break;default:throw new Error("Invalid state: unknown pickResultType "+s.pickResultType)}}removeConnectivityStateWatcher(e){const t=this.connectivityStateWatchers.findIndex(t=>t===e);t>=0&&this.connectivityStateWatchers.splice(t,1)}updateState(e){h.trace(l.LogVerbosity.DEBUG,"connectivity_state",y.uriToString(this.target)+" "+v[this.connectivityState]+" -> "+v[e]),this.connectivityState=e;const t=this.connectivityStateWatchers.slice();for(const r of t)e!==r.currentState&&(r.timer&&clearTimeout(r.timer),this.removeConnectivityStateWatcher(r),r.callback())}tryGetConfig(e,t){if(null===this.configSelector)this.resolvingLoadBalancer.exitIdle(),this.configSelectionQueue.push({callStream:e,callMetadata:t}),this.callRefTimerRef();else{const r=this.configSelector(e.getMethod(),t);r.status===l.Status.OK?this.tryPick(e,t,r):e.cancelWithStatus(r.status,"Failed to route call to method "+e.getMethod())}}_startCallStream(e,t){this.tryGetConfig(e,t.clone())}close(){this.resolvingLoadBalancer.destroy(),this.updateState(v.SHUTDOWN),clearInterval(this.callRefTimer),this.subchannelPool.unrefUnusedSubchannels()}getTarget(){return y.uriToString(this.target)}getConnectivityState(e){const t=this.connectivityState;return e&&this.resolvingLoadBalancer.exitIdle(),t}watchConnectivityState(e,t,r){if(this.connectivityState===v.SHUTDOWN)throw new Error("Channel has been shut down");let n=null;if(t!==1/0){const e=t instanceof Date?t:new Date(t),i=new Date;if(t===-1/0||e<=i)return void process.nextTick(r,new Error("Deadline passed without connectivity state change"));n=setTimeout(()=>{this.removeConnectivityStateWatcher(o),r(new Error("Deadline passed without connectivity state change"))},e.getTime()-i.getTime())}const o={currentState:e,callback:r,timer:n};this.connectivityStateWatchers.push(o)}createCall(e,t,r,o,i){if("string"!=typeof e)throw new TypeError("Channel#createCall: method must be a string");if(!("number"==typeof t||t instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===v.SHUTDOWN)throw new Error("Channel has been shut down");const s=function(){const e=_;return _+=1,_>=Number.MAX_SAFE_INTEGER&&(_=0),e}();h.trace(l.LogVerbosity.DEBUG,"channel",y.uriToString(this.target)+" createCall ["+s+'] method="'+e+'", deadline='+t);const a={deadline:t,flags:null!=i?i:l.Propagate.DEFAULTS,host:null!=r?r:this.defaultAuthority,parentCall:o};return new n.Http2CallStream(e,this,a,this.filterStackFactory,this.credentials._getCallCredentials(),s)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerAll=t.validateLoadBalancingConfig=t.getFirstUsableConfig=t.isLoadBalancerNameRegistered=t.createLoadBalancer=t.registerLoadBalancerType=void 0;const n=r(227),o=r(231),i={};t.registerLoadBalancerType=function(e,t,r){i[e]={LoadBalancer:t,LoadBalancingConfig:r}},t.createLoadBalancer=function(e,t){const r=e.getLoadBalancerName();return r in i?new i[r].LoadBalancer(t):null},t.isLoadBalancerNameRegistered=function(e){return e in i},t.getFirstUsableConfig=function(e,t=!1){for(const t of e)if(t.getLoadBalancerName()in i)return t;return t?new n.PickFirstLoadBalancingConfig:null},t.validateLoadBalancingConfig=function(e){if(null===e||"object"!=typeof e)throw new Error("Load balancing config must be an object");const t=Object.keys(e);if(1!==t.length)throw new Error("Provided load balancing config has multiple conflicting entries");const r=t[0];if(r in i)return i[r].LoadBalancingConfig.createFromJson(e[r]);throw new Error("Unrecognized load balancing config name "+r)},t.registerAll=function(){n.setup(),o.setup()}},function(e,t,r){var n=r(245),o=n,i=Function("return this")();o.exportSymbol("proto.gradle.CancelBuildReply",null,i),o.exportSymbol("proto.gradle.CancelBuildRequest",null,i),o.exportSymbol("proto.gradle.CancelBuildsReply",null,i),o.exportSymbol("proto.gradle.CancelBuildsRequest",null,i),o.exportSymbol("proto.gradle.CancelDependenciesReply",null,i),o.exportSymbol("proto.gradle.CancelDependenciesRequest",null,i),o.exportSymbol("proto.gradle.Cancelled",null,i),o.exportSymbol("proto.gradle.DaemonInfo",null,i),o.exportSymbol("proto.gradle.DaemonInfo.DaemonStatus",null,i),o.exportSymbol("proto.gradle.DependencyItem",null,i),o.exportSymbol("proto.gradle.Environment",null,i),o.exportSymbol("proto.gradle.GetBuildReply",null,i),o.exportSymbol("proto.gradle.GetBuildReply.KindCase",null,i),o.exportSymbol("proto.gradle.GetBuildRequest",null,i),o.exportSymbol("proto.gradle.GetBuildResult",null,i),o.exportSymbol("proto.gradle.GetDaemonsStatusReply",null,i),o.exportSymbol("proto.gradle.GetDaemonsStatusRequest",null,i),o.exportSymbol("proto.gradle.GetDependenciesReply",null,i),o.exportSymbol("proto.gradle.GetDependenciesRequest",null,i),o.exportSymbol("proto.gradle.GradleBuild",null,i),o.exportSymbol("proto.gradle.GradleConfig",null,i),o.exportSymbol("proto.gradle.GradleDependencyType",null,i),o.exportSymbol("proto.gradle.GradleEnvironment",null,i),o.exportSymbol("proto.gradle.GradleProject",null,i),o.exportSymbol("proto.gradle.GradleTask",null,i),o.exportSymbol("proto.gradle.JavaEnvironment",null,i),o.exportSymbol("proto.gradle.Output",null,i),o.exportSymbol("proto.gradle.Output.OutputType",null,i),o.exportSymbol("proto.gradle.Progress",null,i),o.exportSymbol("proto.gradle.RunBuildReply",null,i),o.exportSymbol("proto.gradle.RunBuildReply.KindCase",null,i),o.exportSymbol("proto.gradle.RunBuildRequest",null,i),o.exportSymbol("proto.gradle.RunBuildResult",null,i),o.exportSymbol("proto.gradle.StopDaemonReply",null,i),o.exportSymbol("proto.gradle.StopDaemonRequest",null,i),o.exportSymbol("proto.gradle.StopDaemonsReply",null,i),o.exportSymbol("proto.gradle.StopDaemonsRequest",null,i),proto.gradle.GetBuildRequest=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.gradle.GetBuildRequest,n.Message),o.DEBUG&&!COMPILED&&(proto.gradle.GetBuildRequest.displayName="proto.gradle.GetBuildRequest"),proto.gradle.GetBuildReply=function(e){n.Message.initialize(this,e,0,-1,null,proto.gradle.GetBuildReply.oneofGroups_)},o.inherits(proto.gradle.GetBuildReply,n.Message),o.DEBUG&&!COMPILED&&(proto.gradle.GetBuildReply.displayName="proto.gradle.GetBuildReply"),proto.gradle.GetBuildResult=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.gradle.GetBuildResult,n.Message),o.DEBUG&&!COMPILED&&(proto.gradle.GetBuildResult.displayName="proto.gradle.GetBuildResult"),proto.gradle.GetDependenciesRequest=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.gradle.GetDependenciesRequest,n.Message),o.DEBUG&&!COMPILED&&(proto.gradle.GetDependenciesRequest.displayName="proto.gradle.GetDependenciesRequest"),proto.gradle.GetDependenciesReply=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.gradle.GetDependenciesReply,n.Message),o.DEBUG&&!COMPILED&&(proto.gradle.GetDependenciesReply.displayName="proto.gradle.GetDependenciesReply"),proto.gradle.DependencyItem=function(e){n.Message.initialize(this,e,0,-1,proto.gradle.DependencyItem.repeatedFields_,null)},o.inherits(proto.gradle.DependencyItem,n.Message),o.DEBUG&&!COMPILED&&(proto.gradle.DependencyItem.displayName="proto.gradle.DependencyItem"),proto.gradle.RunBuildRequest=function(e){n.Message.initialize(this,e,0,-1,proto.gradle.RunBuildRequest.repeatedFields_,null)},o.inherits(proto.gradle.RunBuildRequest,n.Message),o.DEBUG&&!COMPILED&&(proto.gradle.RunBuildRequest.displayName="proto.gradle.RunBuildRequest"),proto.gradle.RunBuildResult=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.gradle.RunBuildResult,n.Message),o.DEBUG&&!COMPILED&&(proto.gradle.RunBuildResult.displayName="proto.gradle.RunBuildResult"),proto.gradle.RunBuildReply=function(e){n.Message.initialize(this,e,0,-1,null,proto.gradle.RunBuildReply.oneofGroups_)},o.inherits(proto.gradle.RunBuildReply,n.Message),o.DEBUG&&!COMPILED&&(proto.gradle.RunBuildReply.displayName="proto.gradle.RunBuildReply"),proto.gradle.CancelBuildRequest=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.gradle.CancelBuildRequest,n.Message),o.DEBUG&&!COMPILED&&(proto.gradle.CancelBuildRequest.displayName="proto.gradle.CancelBuildRequest"),proto.gradle.CancelBuildsRequest=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.gradle.CancelBuildsRequest,n.Message),o.DEBUG&&!COMPILED&&(proto.gradle.CancelBuildsRequest.displayName="proto.gradle.CancelBuildsRequest"),proto.gradle.CancelBuildReply=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.gradle.CancelBuildReply,n.Message),o.DEBUG&&!COMPILED&&(proto.gradle.CancelBuildReply.displayName="proto.gradle.CancelBuildReply"),proto.gradle.CancelBuildsReply=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.gradle.CancelBuildsReply,n.Message),o.DEBUG&&!COMPILED&&(proto.gradle.CancelBuildsReply.displayName="proto.gradle.CancelBuildsReply"),proto.gradle.CancelDependenciesRequest=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.gradle.CancelDependenciesRequest,n.Message),o.DEBUG&&!COMPILED&&(proto.gradle.CancelDependenciesRequest.displayName="proto.gradle.CancelDependenciesRequest"),proto.gradle.CancelDependenciesReply=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.gradle.CancelDependenciesReply,n.Message),o.DEBUG&&!COMPILED&&(proto.gradle.CancelDependenciesReply.displayName="proto.gradle.CancelDependenciesReply"),proto.gradle.GetDaemonsStatusRequest=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.gradle.GetDaemonsStatusRequest,n.Message),o.DEBUG&&!COMPILED&&(proto.gradle.GetDaemonsStatusRequest.displayName="proto.gradle.GetDaemonsStatusRequest"),proto.gradle.GetDaemonsStatusReply=function(e){n.Message.initialize(this,e,0,-1,proto.gradle.GetDaemonsStatusReply.repeatedFields_,null)},o.inherits(proto.gradle.GetDaemonsStatusReply,n.Message),o.DEBUG&&!COMPILED&&(proto.gradle.GetDaemonsStatusReply.displayName="proto.gradle.GetDaemonsStatusReply"),proto.gradle.StopDaemonsRequest=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.gradle.StopDaemonsRequest,n.Message),o.DEBUG&&!COMPILED&&(proto.gradle.StopDaemonsRequest.displayName="proto.gradle.StopDaemonsRequest"),proto.gradle.StopDaemonsReply=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.gradle.StopDaemonsReply,n.Message),o.DEBUG&&!COMPILED&&(proto.gradle.StopDaemonsReply.displayName="proto.gradle.StopDaemonsReply"),proto.gradle.StopDaemonRequest=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.gradle.StopDaemonRequest,n.Message),o.DEBUG&&!COMPILED&&(proto.gradle.StopDaemonRequest.displayName="proto.gradle.StopDaemonRequest"),proto.gradle.StopDaemonReply=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.gradle.StopDaemonReply,n.Message),o.DEBUG&&!COMPILED&&(proto.gradle.StopDaemonReply.displayName="proto.gradle.StopDaemonReply"),proto.gradle.DaemonInfo=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.gradle.DaemonInfo,n.Message),o.DEBUG&&!COMPILED&&(proto.gradle.DaemonInfo.displayName="proto.gradle.DaemonInfo"),proto.gradle.GradleConfig=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.gradle.GradleConfig,n.Message),o.DEBUG&&!COMPILED&&(proto.gradle.GradleConfig.displayName="proto.gradle.GradleConfig"),proto.gradle.GradleBuild=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.gradle.GradleBuild,n.Message),o.DEBUG&&!COMPILED&&(proto.gradle.GradleBuild.displayName="proto.gradle.GradleBuild"),proto.gradle.GradleProject=function(e){n.Message.initialize(this,e,0,-1,proto.gradle.GradleProject.repeatedFields_,null)},o.inherits(proto.gradle.GradleProject,n.Message),o.DEBUG&&!COMPILED&&(proto.gradle.GradleProject.displayName="proto.gradle.GradleProject"),proto.gradle.GradleTask=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.gradle.GradleTask,n.Message),o.DEBUG&&!COMPILED&&(proto.gradle.GradleTask.displayName="proto.gradle.GradleTask"),proto.gradle.Cancelled=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.gradle.Cancelled,n.Message),o.DEBUG&&!COMPILED&&(proto.gradle.Cancelled.displayName="proto.gradle.Cancelled"),proto.gradle.Progress=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.gradle.Progress,n.Message),o.DEBUG&&!COMPILED&&(proto.gradle.Progress.displayName="proto.gradle.Progress"),proto.gradle.Environment=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.gradle.Environment,n.Message),o.DEBUG&&!COMPILED&&(proto.gradle.Environment.displayName="proto.gradle.Environment"),proto.gradle.JavaEnvironment=function(e){n.Message.initialize(this,e,0,-1,proto.gradle.JavaEnvironment.repeatedFields_,null)},o.inherits(proto.gradle.JavaEnvironment,n.Message),o.DEBUG&&!COMPILED&&(proto.gradle.JavaEnvironment.displayName="proto.gradle.JavaEnvironment"),proto.gradle.GradleEnvironment=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.gradle.GradleEnvironment,n.Message),o.DEBUG&&!COMPILED&&(proto.gradle.GradleEnvironment.displayName="proto.gradle.GradleEnvironment"),proto.gradle.Output=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.gradle.Output,n.Message),o.DEBUG&&!COMPILED&&(proto.gradle.Output.displayName="proto.gradle.Output"),n.Message.GENERATE_TO_OBJECT&&(proto.gradle.GetBuildRequest.prototype.toObject=function(e){return proto.gradle.GetBuildRequest.toObject(e,this)},proto.gradle.GetBuildRequest.toObject=function(e,t){var r,o={projectDir:n.Message.getFieldWithDefault(t,1,""),cancellationKey:n.Message.getFieldWithDefault(t,2,""),gradleConfig:(r=t.getGradleConfig())&&proto.gradle.GradleConfig.toObject(e,r),showOutputColors:n.Message.getBooleanFieldWithDefault(t,4,!1)};return e&&(o.$jspbMessageInstance=t),o}),proto.gradle.GetBuildRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.GetBuildRequest;return proto.gradle.GetBuildRequest.deserializeBinaryFromReader(r,t)},proto.gradle.GetBuildRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setProjectDir(r);break;case 2:r=t.readString();e.setCancellationKey(r);break;case 3:r=new proto.gradle.GradleConfig;t.readMessage(r,proto.gradle.GradleConfig.deserializeBinaryFromReader),e.setGradleConfig(r);break;case 4:r=t.readBool();e.setShowOutputColors(r);break;default:t.skipField()}}return e},proto.gradle.GetBuildRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.GetBuildRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.GetBuildRequest.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getProjectDir()).length>0&&t.writeString(1,r),(r=e.getCancellationKey()).length>0&&t.writeString(2,r),null!=(r=e.getGradleConfig())&&t.writeMessage(3,r,proto.gradle.GradleConfig.serializeBinaryToWriter),(r=e.getShowOutputColors())&&t.writeBool(4,r)},proto.gradle.GetBuildRequest.prototype.getProjectDir=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.GetBuildRequest.prototype.setProjectDir=function(e){return n.Message.setProto3StringField(this,1,e)},proto.gradle.GetBuildRequest.prototype.getCancellationKey=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.gradle.GetBuildRequest.prototype.setCancellationKey=function(e){return n.Message.setProto3StringField(this,2,e)},proto.gradle.GetBuildRequest.prototype.getGradleConfig=function(){return n.Message.getWrapperField(this,proto.gradle.GradleConfig,3)},proto.gradle.GetBuildRequest.prototype.setGradleConfig=function(e){return n.Message.setWrapperField(this,3,e)},proto.gradle.GetBuildRequest.prototype.clearGradleConfig=function(){return this.setGradleConfig(void 0)},proto.gradle.GetBuildRequest.prototype.hasGradleConfig=function(){return null!=n.Message.getField(this,3)},proto.gradle.GetBuildRequest.prototype.getShowOutputColors=function(){return n.Message.getBooleanFieldWithDefault(this,4,!1)},proto.gradle.GetBuildRequest.prototype.setShowOutputColors=function(e){return n.Message.setProto3BooleanField(this,4,e)},proto.gradle.GetBuildReply.oneofGroups_=[[1,2,3,4,5,6]],proto.gradle.GetBuildReply.KindCase={KIND_NOT_SET:0,GET_BUILD_RESULT:1,PROGRESS:2,OUTPUT:3,CANCELLED:4,ENVIRONMENT:5,COMPATIBILITY_CHECK_ERROR:6},proto.gradle.GetBuildReply.prototype.getKindCase=function(){return n.Message.computeOneofCase(this,proto.gradle.GetBuildReply.oneofGroups_[0])},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.GetBuildReply.prototype.toObject=function(e){return proto.gradle.GetBuildReply.toObject(e,this)},proto.gradle.GetBuildReply.toObject=function(e,t){var r,o={getBuildResult:(r=t.getGetBuildResult())&&proto.gradle.GetBuildResult.toObject(e,r),progress:(r=t.getProgress())&&proto.gradle.Progress.toObject(e,r),output:(r=t.getOutput())&&proto.gradle.Output.toObject(e,r),cancelled:(r=t.getCancelled())&&proto.gradle.Cancelled.toObject(e,r),environment:(r=t.getEnvironment())&&proto.gradle.Environment.toObject(e,r),compatibilityCheckError:n.Message.getFieldWithDefault(t,6,"")};return e&&(o.$jspbMessageInstance=t),o}),proto.gradle.GetBuildReply.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.GetBuildReply;return proto.gradle.GetBuildReply.deserializeBinaryFromReader(r,t)},proto.gradle.GetBuildReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new proto.gradle.GetBuildResult;t.readMessage(r,proto.gradle.GetBuildResult.deserializeBinaryFromReader),e.setGetBuildResult(r);break;case 2:r=new proto.gradle.Progress;t.readMessage(r,proto.gradle.Progress.deserializeBinaryFromReader),e.setProgress(r);break;case 3:r=new proto.gradle.Output;t.readMessage(r,proto.gradle.Output.deserializeBinaryFromReader),e.setOutput(r);break;case 4:r=new proto.gradle.Cancelled;t.readMessage(r,proto.gradle.Cancelled.deserializeBinaryFromReader),e.setCancelled(r);break;case 5:r=new proto.gradle.Environment;t.readMessage(r,proto.gradle.Environment.deserializeBinaryFromReader),e.setEnvironment(r);break;case 6:r=t.readString();e.setCompatibilityCheckError(r);break;default:t.skipField()}}return e},proto.gradle.GetBuildReply.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.GetBuildReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.GetBuildReply.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getGetBuildResult())&&t.writeMessage(1,r,proto.gradle.GetBuildResult.serializeBinaryToWriter),null!=(r=e.getProgress())&&t.writeMessage(2,r,proto.gradle.Progress.serializeBinaryToWriter),null!=(r=e.getOutput())&&t.writeMessage(3,r,proto.gradle.Output.serializeBinaryToWriter),null!=(r=e.getCancelled())&&t.writeMessage(4,r,proto.gradle.Cancelled.serializeBinaryToWriter),null!=(r=e.getEnvironment())&&t.writeMessage(5,r,proto.gradle.Environment.serializeBinaryToWriter),null!=(r=n.Message.getField(e,6))&&t.writeString(6,r)},proto.gradle.GetBuildReply.prototype.getGetBuildResult=function(){return n.Message.getWrapperField(this,proto.gradle.GetBuildResult,1)},proto.gradle.GetBuildReply.prototype.setGetBuildResult=function(e){return n.Message.setOneofWrapperField(this,1,proto.gradle.GetBuildReply.oneofGroups_[0],e)},proto.gradle.GetBuildReply.prototype.clearGetBuildResult=function(){return this.setGetBuildResult(void 0)},proto.gradle.GetBuildReply.prototype.hasGetBuildResult=function(){return null!=n.Message.getField(this,1)},proto.gradle.GetBuildReply.prototype.getProgress=function(){return n.Message.getWrapperField(this,proto.gradle.Progress,2)},proto.gradle.GetBuildReply.prototype.setProgress=function(e){return n.Message.setOneofWrapperField(this,2,proto.gradle.GetBuildReply.oneofGroups_[0],e)},proto.gradle.GetBuildReply.prototype.clearProgress=function(){return this.setProgress(void 0)},proto.gradle.GetBuildReply.prototype.hasProgress=function(){return null!=n.Message.getField(this,2)},proto.gradle.GetBuildReply.prototype.getOutput=function(){return n.Message.getWrapperField(this,proto.gradle.Output,3)},proto.gradle.GetBuildReply.prototype.setOutput=function(e){return n.Message.setOneofWrapperField(this,3,proto.gradle.GetBuildReply.oneofGroups_[0],e)},proto.gradle.GetBuildReply.prototype.clearOutput=function(){return this.setOutput(void 0)},proto.gradle.GetBuildReply.prototype.hasOutput=function(){return null!=n.Message.getField(this,3)},proto.gradle.GetBuildReply.prototype.getCancelled=function(){return n.Message.getWrapperField(this,proto.gradle.Cancelled,4)},proto.gradle.GetBuildReply.prototype.setCancelled=function(e){return n.Message.setOneofWrapperField(this,4,proto.gradle.GetBuildReply.oneofGroups_[0],e)},proto.gradle.GetBuildReply.prototype.clearCancelled=function(){return this.setCancelled(void 0)},proto.gradle.GetBuildReply.prototype.hasCancelled=function(){return null!=n.Message.getField(this,4)},proto.gradle.GetBuildReply.prototype.getEnvironment=function(){return n.Message.getWrapperField(this,proto.gradle.Environment,5)},proto.gradle.GetBuildReply.prototype.setEnvironment=function(e){return n.Message.setOneofWrapperField(this,5,proto.gradle.GetBuildReply.oneofGroups_[0],e)},proto.gradle.GetBuildReply.prototype.clearEnvironment=function(){return this.setEnvironment(void 0)},proto.gradle.GetBuildReply.prototype.hasEnvironment=function(){return null!=n.Message.getField(this,5)},proto.gradle.GetBuildReply.prototype.getCompatibilityCheckError=function(){return n.Message.getFieldWithDefault(this,6,"")},proto.gradle.GetBuildReply.prototype.setCompatibilityCheckError=function(e){return n.Message.setOneofField(this,6,proto.gradle.GetBuildReply.oneofGroups_[0],e)},proto.gradle.GetBuildReply.prototype.clearCompatibilityCheckError=function(){return n.Message.setOneofField(this,6,proto.gradle.GetBuildReply.oneofGroups_[0],void 0)},proto.gradle.GetBuildReply.prototype.hasCompatibilityCheckError=function(){return null!=n.Message.getField(this,6)},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.GetBuildResult.prototype.toObject=function(e){return proto.gradle.GetBuildResult.toObject(e,this)},proto.gradle.GetBuildResult.toObject=function(e,t){var r,o={message:n.Message.getFieldWithDefault(t,1,""),build:(r=t.getBuild())&&proto.gradle.GradleBuild.toObject(e,r)};return e&&(o.$jspbMessageInstance=t),o}),proto.gradle.GetBuildResult.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.GetBuildResult;return proto.gradle.GetBuildResult.deserializeBinaryFromReader(r,t)},proto.gradle.GetBuildResult.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setMessage(r);break;case 2:r=new proto.gradle.GradleBuild;t.readMessage(r,proto.gradle.GradleBuild.deserializeBinaryFromReader),e.setBuild(r);break;default:t.skipField()}}return e},proto.gradle.GetBuildResult.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.GetBuildResult.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.GetBuildResult.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getMessage()).length>0&&t.writeString(1,r),null!=(r=e.getBuild())&&t.writeMessage(2,r,proto.gradle.GradleBuild.serializeBinaryToWriter)},proto.gradle.GetBuildResult.prototype.getMessage=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.GetBuildResult.prototype.setMessage=function(e){return n.Message.setProto3StringField(this,1,e)},proto.gradle.GetBuildResult.prototype.getBuild=function(){return n.Message.getWrapperField(this,proto.gradle.GradleBuild,2)},proto.gradle.GetBuildResult.prototype.setBuild=function(e){return n.Message.setWrapperField(this,2,e)},proto.gradle.GetBuildResult.prototype.clearBuild=function(){return this.setBuild(void 0)},proto.gradle.GetBuildResult.prototype.hasBuild=function(){return null!=n.Message.getField(this,2)},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.GetDependenciesRequest.prototype.toObject=function(e){return proto.gradle.GetDependenciesRequest.toObject(e,this)},proto.gradle.GetDependenciesRequest.toObject=function(e,t){var r,o={projectDir:n.Message.getFieldWithDefault(t,1,""),gradleConfig:(r=t.getGradleConfig())&&proto.gradle.GradleConfig.toObject(e,r),cancellationKey:n.Message.getFieldWithDefault(t,3,"")};return e&&(o.$jspbMessageInstance=t),o}),proto.gradle.GetDependenciesRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.GetDependenciesRequest;return proto.gradle.GetDependenciesRequest.deserializeBinaryFromReader(r,t)},proto.gradle.GetDependenciesRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setProjectDir(r);break;case 2:r=new proto.gradle.GradleConfig;t.readMessage(r,proto.gradle.GradleConfig.deserializeBinaryFromReader),e.setGradleConfig(r);break;case 3:r=t.readString();e.setCancellationKey(r);break;default:t.skipField()}}return e},proto.gradle.GetDependenciesRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.GetDependenciesRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.GetDependenciesRequest.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getProjectDir()).length>0&&t.writeString(1,r),null!=(r=e.getGradleConfig())&&t.writeMessage(2,r,proto.gradle.GradleConfig.serializeBinaryToWriter),(r=e.getCancellationKey()).length>0&&t.writeString(3,r)},proto.gradle.GetDependenciesRequest.prototype.getProjectDir=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.GetDependenciesRequest.prototype.setProjectDir=function(e){return n.Message.setProto3StringField(this,1,e)},proto.gradle.GetDependenciesRequest.prototype.getGradleConfig=function(){return n.Message.getWrapperField(this,proto.gradle.GradleConfig,2)},proto.gradle.GetDependenciesRequest.prototype.setGradleConfig=function(e){return n.Message.setWrapperField(this,2,e)},proto.gradle.GetDependenciesRequest.prototype.clearGradleConfig=function(){return this.setGradleConfig(void 0)},proto.gradle.GetDependenciesRequest.prototype.hasGradleConfig=function(){return null!=n.Message.getField(this,2)},proto.gradle.GetDependenciesRequest.prototype.getCancellationKey=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.gradle.GetDependenciesRequest.prototype.setCancellationKey=function(e){return n.Message.setProto3StringField(this,3,e)},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.GetDependenciesReply.prototype.toObject=function(e){return proto.gradle.GetDependenciesReply.toObject(e,this)},proto.gradle.GetDependenciesReply.toObject=function(e,t){var r,n={item:(r=t.getItem())&&proto.gradle.DependencyItem.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.gradle.GetDependenciesReply.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.GetDependenciesReply;return proto.gradle.GetDependenciesReply.deserializeBinaryFromReader(r,t)},proto.gradle.GetDependenciesReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new proto.gradle.DependencyItem;t.readMessage(r,proto.gradle.DependencyItem.deserializeBinaryFromReader),e.setItem(r);break;default:t.skipField()}}return e},proto.gradle.GetDependenciesReply.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.GetDependenciesReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.GetDependenciesReply.serializeBinaryToWriter=function(e,t){var r;null!=(r=e.getItem())&&t.writeMessage(1,r,proto.gradle.DependencyItem.serializeBinaryToWriter)},proto.gradle.GetDependenciesReply.prototype.getItem=function(){return n.Message.getWrapperField(this,proto.gradle.DependencyItem,1)},proto.gradle.GetDependenciesReply.prototype.setItem=function(e){return n.Message.setWrapperField(this,1,e)},proto.gradle.GetDependenciesReply.prototype.clearItem=function(){return this.setItem(void 0)},proto.gradle.GetDependenciesReply.prototype.hasItem=function(){return null!=n.Message.getField(this,1)},proto.gradle.DependencyItem.repeatedFields_=[3],n.Message.GENERATE_TO_OBJECT&&(proto.gradle.DependencyItem.prototype.toObject=function(e){return proto.gradle.DependencyItem.toObject(e,this)},proto.gradle.DependencyItem.toObject=function(e,t){var r={name:n.Message.getFieldWithDefault(t,1,""),type:n.Message.getFieldWithDefault(t,2,0),childrenList:n.Message.toObjectList(t.getChildrenList(),proto.gradle.DependencyItem.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.DependencyItem.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.DependencyItem;return proto.gradle.DependencyItem.deserializeBinaryFromReader(r,t)},proto.gradle.DependencyItem.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setName(r);break;case 2:r=t.readEnum();e.setType(r);break;case 3:r=new proto.gradle.DependencyItem;t.readMessage(r,proto.gradle.DependencyItem.deserializeBinaryFromReader),e.addChildren(r);break;default:t.skipField()}}return e},proto.gradle.DependencyItem.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.DependencyItem.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.DependencyItem.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getName()).length>0&&t.writeString(1,r),0!==(r=e.getType())&&t.writeEnum(2,r),(r=e.getChildrenList()).length>0&&t.writeRepeatedMessage(3,r,proto.gradle.DependencyItem.serializeBinaryToWriter)},proto.gradle.DependencyItem.prototype.getName=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.DependencyItem.prototype.setName=function(e){return n.Message.setProto3StringField(this,1,e)},proto.gradle.DependencyItem.prototype.getType=function(){return n.Message.getFieldWithDefault(this,2,0)},proto.gradle.DependencyItem.prototype.setType=function(e){return n.Message.setProto3EnumField(this,2,e)},proto.gradle.DependencyItem.prototype.getChildrenList=function(){return n.Message.getRepeatedWrapperField(this,proto.gradle.DependencyItem,3)},proto.gradle.DependencyItem.prototype.setChildrenList=function(e){return n.Message.setRepeatedWrapperField(this,3,e)},proto.gradle.DependencyItem.prototype.addChildren=function(e,t){return n.Message.addToRepeatedWrapperField(this,3,e,proto.gradle.DependencyItem,t)},proto.gradle.DependencyItem.prototype.clearChildrenList=function(){return this.setChildrenList([])},proto.gradle.RunBuildRequest.repeatedFields_=[3],n.Message.GENERATE_TO_OBJECT&&(proto.gradle.RunBuildRequest.prototype.toObject=function(e){return proto.gradle.RunBuildRequest.toObject(e,this)},proto.gradle.RunBuildRequest.toObject=function(e,t){var r,o={projectDir:n.Message.getFieldWithDefault(t,1,""),cancellationKey:n.Message.getFieldWithDefault(t,2,""),argsList:null==(r=n.Message.getRepeatedField(t,3))?void 0:r,javaDebugPort:n.Message.getFieldWithDefault(t,4,0),gradleConfig:(r=t.getGradleConfig())&&proto.gradle.GradleConfig.toObject(e,r),input:n.Message.getFieldWithDefault(t,6,""),showOutputColors:n.Message.getBooleanFieldWithDefault(t,7,!1),javaDebugCleanOutputCache:n.Message.getBooleanFieldWithDefault(t,8,!1)};return e&&(o.$jspbMessageInstance=t),o}),proto.gradle.RunBuildRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.RunBuildRequest;return proto.gradle.RunBuildRequest.deserializeBinaryFromReader(r,t)},proto.gradle.RunBuildRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setProjectDir(r);break;case 2:r=t.readString();e.setCancellationKey(r);break;case 3:r=t.readString();e.addArgs(r);break;case 4:r=t.readInt32();e.setJavaDebugPort(r);break;case 5:r=new proto.gradle.GradleConfig;t.readMessage(r,proto.gradle.GradleConfig.deserializeBinaryFromReader),e.setGradleConfig(r);break;case 6:r=t.readString();e.setInput(r);break;case 7:r=t.readBool();e.setShowOutputColors(r);break;case 8:r=t.readBool();e.setJavaDebugCleanOutputCache(r);break;default:t.skipField()}}return e},proto.gradle.RunBuildRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.RunBuildRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.RunBuildRequest.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getProjectDir()).length>0&&t.writeString(1,r),(r=e.getCancellationKey()).length>0&&t.writeString(2,r),(r=e.getArgsList()).length>0&&t.writeRepeatedString(3,r),0!==(r=e.getJavaDebugPort())&&t.writeInt32(4,r),null!=(r=e.getGradleConfig())&&t.writeMessage(5,r,proto.gradle.GradleConfig.serializeBinaryToWriter),(r=e.getInput()).length>0&&t.writeString(6,r),(r=e.getShowOutputColors())&&t.writeBool(7,r),(r=e.getJavaDebugCleanOutputCache())&&t.writeBool(8,r)},proto.gradle.RunBuildRequest.prototype.getProjectDir=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.RunBuildRequest.prototype.setProjectDir=function(e){return n.Message.setProto3StringField(this,1,e)},proto.gradle.RunBuildRequest.prototype.getCancellationKey=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.gradle.RunBuildRequest.prototype.setCancellationKey=function(e){return n.Message.setProto3StringField(this,2,e)},proto.gradle.RunBuildRequest.prototype.getArgsList=function(){return n.Message.getRepeatedField(this,3)},proto.gradle.RunBuildRequest.prototype.setArgsList=function(e){return n.Message.setField(this,3,e||[])},proto.gradle.RunBuildRequest.prototype.addArgs=function(e,t){return n.Message.addToRepeatedField(this,3,e,t)},proto.gradle.RunBuildRequest.prototype.clearArgsList=function(){return this.setArgsList([])},proto.gradle.RunBuildRequest.prototype.getJavaDebugPort=function(){return n.Message.getFieldWithDefault(this,4,0)},proto.gradle.RunBuildRequest.prototype.setJavaDebugPort=function(e){return n.Message.setProto3IntField(this,4,e)},proto.gradle.RunBuildRequest.prototype.getGradleConfig=function(){return n.Message.getWrapperField(this,proto.gradle.GradleConfig,5)},proto.gradle.RunBuildRequest.prototype.setGradleConfig=function(e){return n.Message.setWrapperField(this,5,e)},proto.gradle.RunBuildRequest.prototype.clearGradleConfig=function(){return this.setGradleConfig(void 0)},proto.gradle.RunBuildRequest.prototype.hasGradleConfig=function(){return null!=n.Message.getField(this,5)},proto.gradle.RunBuildRequest.prototype.getInput=function(){return n.Message.getFieldWithDefault(this,6,"")},proto.gradle.RunBuildRequest.prototype.setInput=function(e){return n.Message.setProto3StringField(this,6,e)},proto.gradle.RunBuildRequest.prototype.getShowOutputColors=function(){return n.Message.getBooleanFieldWithDefault(this,7,!1)},proto.gradle.RunBuildRequest.prototype.setShowOutputColors=function(e){return n.Message.setProto3BooleanField(this,7,e)},proto.gradle.RunBuildRequest.prototype.getJavaDebugCleanOutputCache=function(){return n.Message.getBooleanFieldWithDefault(this,8,!1)},proto.gradle.RunBuildRequest.prototype.setJavaDebugCleanOutputCache=function(e){return n.Message.setProto3BooleanField(this,8,e)},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.RunBuildResult.prototype.toObject=function(e){return proto.gradle.RunBuildResult.toObject(e,this)},proto.gradle.RunBuildResult.toObject=function(e,t){var r={message:n.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.RunBuildResult.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.RunBuildResult;return proto.gradle.RunBuildResult.deserializeBinaryFromReader(r,t)},proto.gradle.RunBuildResult.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setMessage(r);break;default:t.skipField()}}return e},proto.gradle.RunBuildResult.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.RunBuildResult.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.RunBuildResult.serializeBinaryToWriter=function(e,t){var r;(r=e.getMessage()).length>0&&t.writeString(1,r)},proto.gradle.RunBuildResult.prototype.getMessage=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.RunBuildResult.prototype.setMessage=function(e){return n.Message.setProto3StringField(this,1,e)},proto.gradle.RunBuildReply.oneofGroups_=[[1,2,3,4]],proto.gradle.RunBuildReply.KindCase={KIND_NOT_SET:0,RUN_BUILD_RESULT:1,PROGRESS:2,OUTPUT:3,CANCELLED:4},proto.gradle.RunBuildReply.prototype.getKindCase=function(){return n.Message.computeOneofCase(this,proto.gradle.RunBuildReply.oneofGroups_[0])},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.RunBuildReply.prototype.toObject=function(e){return proto.gradle.RunBuildReply.toObject(e,this)},proto.gradle.RunBuildReply.toObject=function(e,t){var r,n={runBuildResult:(r=t.getRunBuildResult())&&proto.gradle.RunBuildResult.toObject(e,r),progress:(r=t.getProgress())&&proto.gradle.Progress.toObject(e,r),output:(r=t.getOutput())&&proto.gradle.Output.toObject(e,r),cancelled:(r=t.getCancelled())&&proto.gradle.Cancelled.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.gradle.RunBuildReply.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.RunBuildReply;return proto.gradle.RunBuildReply.deserializeBinaryFromReader(r,t)},proto.gradle.RunBuildReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new proto.gradle.RunBuildResult;t.readMessage(r,proto.gradle.RunBuildResult.deserializeBinaryFromReader),e.setRunBuildResult(r);break;case 2:r=new proto.gradle.Progress;t.readMessage(r,proto.gradle.Progress.deserializeBinaryFromReader),e.setProgress(r);break;case 3:r=new proto.gradle.Output;t.readMessage(r,proto.gradle.Output.deserializeBinaryFromReader),e.setOutput(r);break;case 4:r=new proto.gradle.Cancelled;t.readMessage(r,proto.gradle.Cancelled.deserializeBinaryFromReader),e.setCancelled(r);break;default:t.skipField()}}return e},proto.gradle.RunBuildReply.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.RunBuildReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.RunBuildReply.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getRunBuildResult())&&t.writeMessage(1,r,proto.gradle.RunBuildResult.serializeBinaryToWriter),null!=(r=e.getProgress())&&t.writeMessage(2,r,proto.gradle.Progress.serializeBinaryToWriter),null!=(r=e.getOutput())&&t.writeMessage(3,r,proto.gradle.Output.serializeBinaryToWriter),null!=(r=e.getCancelled())&&t.writeMessage(4,r,proto.gradle.Cancelled.serializeBinaryToWriter)},proto.gradle.RunBuildReply.prototype.getRunBuildResult=function(){return n.Message.getWrapperField(this,proto.gradle.RunBuildResult,1)},proto.gradle.RunBuildReply.prototype.setRunBuildResult=function(e){return n.Message.setOneofWrapperField(this,1,proto.gradle.RunBuildReply.oneofGroups_[0],e)},proto.gradle.RunBuildReply.prototype.clearRunBuildResult=function(){return this.setRunBuildResult(void 0)},proto.gradle.RunBuildReply.prototype.hasRunBuildResult=function(){return null!=n.Message.getField(this,1)},proto.gradle.RunBuildReply.prototype.getProgress=function(){return n.Message.getWrapperField(this,proto.gradle.Progress,2)},proto.gradle.RunBuildReply.prototype.setProgress=function(e){return n.Message.setOneofWrapperField(this,2,proto.gradle.RunBuildReply.oneofGroups_[0],e)},proto.gradle.RunBuildReply.prototype.clearProgress=function(){return this.setProgress(void 0)},proto.gradle.RunBuildReply.prototype.hasProgress=function(){return null!=n.Message.getField(this,2)},proto.gradle.RunBuildReply.prototype.getOutput=function(){return n.Message.getWrapperField(this,proto.gradle.Output,3)},proto.gradle.RunBuildReply.prototype.setOutput=function(e){return n.Message.setOneofWrapperField(this,3,proto.gradle.RunBuildReply.oneofGroups_[0],e)},proto.gradle.RunBuildReply.prototype.clearOutput=function(){return this.setOutput(void 0)},proto.gradle.RunBuildReply.prototype.hasOutput=function(){return null!=n.Message.getField(this,3)},proto.gradle.RunBuildReply.prototype.getCancelled=function(){return n.Message.getWrapperField(this,proto.gradle.Cancelled,4)},proto.gradle.RunBuildReply.prototype.setCancelled=function(e){return n.Message.setOneofWrapperField(this,4,proto.gradle.RunBuildReply.oneofGroups_[0],e)},proto.gradle.RunBuildReply.prototype.clearCancelled=function(){return this.setCancelled(void 0)},proto.gradle.RunBuildReply.prototype.hasCancelled=function(){return null!=n.Message.getField(this,4)},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.CancelBuildRequest.prototype.toObject=function(e){return proto.gradle.CancelBuildRequest.toObject(e,this)},proto.gradle.CancelBuildRequest.toObject=function(e,t){var r={cancellationKey:n.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.CancelBuildRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.CancelBuildRequest;return proto.gradle.CancelBuildRequest.deserializeBinaryFromReader(r,t)},proto.gradle.CancelBuildRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setCancellationKey(r);break;default:t.skipField()}}return e},proto.gradle.CancelBuildRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.CancelBuildRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.CancelBuildRequest.serializeBinaryToWriter=function(e,t){var r;(r=e.getCancellationKey()).length>0&&t.writeString(1,r)},proto.gradle.CancelBuildRequest.prototype.getCancellationKey=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.CancelBuildRequest.prototype.setCancellationKey=function(e){return n.Message.setProto3StringField(this,1,e)},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.CancelBuildsRequest.prototype.toObject=function(e){return proto.gradle.CancelBuildsRequest.toObject(e,this)},proto.gradle.CancelBuildsRequest.toObject=function(e,t){var r={};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.CancelBuildsRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.CancelBuildsRequest;return proto.gradle.CancelBuildsRequest.deserializeBinaryFromReader(r,t)},proto.gradle.CancelBuildsRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){t.getFieldNumber();t.skipField()}return e},proto.gradle.CancelBuildsRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.CancelBuildsRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.CancelBuildsRequest.serializeBinaryToWriter=function(e,t){},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.CancelBuildReply.prototype.toObject=function(e){return proto.gradle.CancelBuildReply.toObject(e,this)},proto.gradle.CancelBuildReply.toObject=function(e,t){var r={message:n.Message.getFieldWithDefault(t,1,""),buildRunning:n.Message.getBooleanFieldWithDefault(t,2,!1)};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.CancelBuildReply.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.CancelBuildReply;return proto.gradle.CancelBuildReply.deserializeBinaryFromReader(r,t)},proto.gradle.CancelBuildReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setMessage(r);break;case 2:r=t.readBool();e.setBuildRunning(r);break;default:t.skipField()}}return e},proto.gradle.CancelBuildReply.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.CancelBuildReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.CancelBuildReply.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getMessage()).length>0&&t.writeString(1,r),(r=e.getBuildRunning())&&t.writeBool(2,r)},proto.gradle.CancelBuildReply.prototype.getMessage=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.CancelBuildReply.prototype.setMessage=function(e){return n.Message.setProto3StringField(this,1,e)},proto.gradle.CancelBuildReply.prototype.getBuildRunning=function(){return n.Message.getBooleanFieldWithDefault(this,2,!1)},proto.gradle.CancelBuildReply.prototype.setBuildRunning=function(e){return n.Message.setProto3BooleanField(this,2,e)},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.CancelBuildsReply.prototype.toObject=function(e){return proto.gradle.CancelBuildsReply.toObject(e,this)},proto.gradle.CancelBuildsReply.toObject=function(e,t){var r={message:n.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.CancelBuildsReply.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.CancelBuildsReply;return proto.gradle.CancelBuildsReply.deserializeBinaryFromReader(r,t)},proto.gradle.CancelBuildsReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setMessage(r);break;default:t.skipField()}}return e},proto.gradle.CancelBuildsReply.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.CancelBuildsReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.CancelBuildsReply.serializeBinaryToWriter=function(e,t){var r;(r=e.getMessage()).length>0&&t.writeString(1,r)},proto.gradle.CancelBuildsReply.prototype.getMessage=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.CancelBuildsReply.prototype.setMessage=function(e){return n.Message.setProto3StringField(this,1,e)},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.CancelDependenciesRequest.prototype.toObject=function(e){return proto.gradle.CancelDependenciesRequest.toObject(e,this)},proto.gradle.CancelDependenciesRequest.toObject=function(e,t){var r={cancellationKey:n.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.CancelDependenciesRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.CancelDependenciesRequest;return proto.gradle.CancelDependenciesRequest.deserializeBinaryFromReader(r,t)},proto.gradle.CancelDependenciesRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setCancellationKey(r);break;default:t.skipField()}}return e},proto.gradle.CancelDependenciesRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.CancelDependenciesRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.CancelDependenciesRequest.serializeBinaryToWriter=function(e,t){var r;(r=e.getCancellationKey()).length>0&&t.writeString(1,r)},proto.gradle.CancelDependenciesRequest.prototype.getCancellationKey=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.CancelDependenciesRequest.prototype.setCancellationKey=function(e){return n.Message.setProto3StringField(this,1,e)},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.CancelDependenciesReply.prototype.toObject=function(e){return proto.gradle.CancelDependenciesReply.toObject(e,this)},proto.gradle.CancelDependenciesReply.toObject=function(e,t){var r={message:n.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.CancelDependenciesReply.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.CancelDependenciesReply;return proto.gradle.CancelDependenciesReply.deserializeBinaryFromReader(r,t)},proto.gradle.CancelDependenciesReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setMessage(r);break;default:t.skipField()}}return e},proto.gradle.CancelDependenciesReply.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.CancelDependenciesReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.CancelDependenciesReply.serializeBinaryToWriter=function(e,t){var r;(r=e.getMessage()).length>0&&t.writeString(1,r)},proto.gradle.CancelDependenciesReply.prototype.getMessage=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.CancelDependenciesReply.prototype.setMessage=function(e){return n.Message.setProto3StringField(this,1,e)},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.GetDaemonsStatusRequest.prototype.toObject=function(e){return proto.gradle.GetDaemonsStatusRequest.toObject(e,this)},proto.gradle.GetDaemonsStatusRequest.toObject=function(e,t){var r={projectDir:n.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.GetDaemonsStatusRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.GetDaemonsStatusRequest;return proto.gradle.GetDaemonsStatusRequest.deserializeBinaryFromReader(r,t)},proto.gradle.GetDaemonsStatusRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setProjectDir(r);break;default:t.skipField()}}return e},proto.gradle.GetDaemonsStatusRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.GetDaemonsStatusRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.GetDaemonsStatusRequest.serializeBinaryToWriter=function(e,t){var r;(r=e.getProjectDir()).length>0&&t.writeString(1,r)},proto.gradle.GetDaemonsStatusRequest.prototype.getProjectDir=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.GetDaemonsStatusRequest.prototype.setProjectDir=function(e){return n.Message.setProto3StringField(this,1,e)},proto.gradle.GetDaemonsStatusReply.repeatedFields_=[1],n.Message.GENERATE_TO_OBJECT&&(proto.gradle.GetDaemonsStatusReply.prototype.toObject=function(e){return proto.gradle.GetDaemonsStatusReply.toObject(e,this)},proto.gradle.GetDaemonsStatusReply.toObject=function(e,t){var r={daemonInfoList:n.Message.toObjectList(t.getDaemonInfoList(),proto.gradle.DaemonInfo.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.GetDaemonsStatusReply.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.GetDaemonsStatusReply;return proto.gradle.GetDaemonsStatusReply.deserializeBinaryFromReader(r,t)},proto.gradle.GetDaemonsStatusReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new proto.gradle.DaemonInfo;t.readMessage(r,proto.gradle.DaemonInfo.deserializeBinaryFromReader),e.addDaemonInfo(r);break;default:t.skipField()}}return e},proto.gradle.GetDaemonsStatusReply.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.GetDaemonsStatusReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.GetDaemonsStatusReply.serializeBinaryToWriter=function(e,t){var r;(r=e.getDaemonInfoList()).length>0&&t.writeRepeatedMessage(1,r,proto.gradle.DaemonInfo.serializeBinaryToWriter)},proto.gradle.GetDaemonsStatusReply.prototype.getDaemonInfoList=function(){return n.Message.getRepeatedWrapperField(this,proto.gradle.DaemonInfo,1)},proto.gradle.GetDaemonsStatusReply.prototype.setDaemonInfoList=function(e){return n.Message.setRepeatedWrapperField(this,1,e)},proto.gradle.GetDaemonsStatusReply.prototype.addDaemonInfo=function(e,t){return n.Message.addToRepeatedWrapperField(this,1,e,proto.gradle.DaemonInfo,t)},proto.gradle.GetDaemonsStatusReply.prototype.clearDaemonInfoList=function(){return this.setDaemonInfoList([])},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.StopDaemonsRequest.prototype.toObject=function(e){return proto.gradle.StopDaemonsRequest.toObject(e,this)},proto.gradle.StopDaemonsRequest.toObject=function(e,t){var r={projectDir:n.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.StopDaemonsRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.StopDaemonsRequest;return proto.gradle.StopDaemonsRequest.deserializeBinaryFromReader(r,t)},proto.gradle.StopDaemonsRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setProjectDir(r);break;default:t.skipField()}}return e},proto.gradle.StopDaemonsRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.StopDaemonsRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.StopDaemonsRequest.serializeBinaryToWriter=function(e,t){var r;(r=e.getProjectDir()).length>0&&t.writeString(1,r)},proto.gradle.StopDaemonsRequest.prototype.getProjectDir=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.StopDaemonsRequest.prototype.setProjectDir=function(e){return n.Message.setProto3StringField(this,1,e)},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.StopDaemonsReply.prototype.toObject=function(e){return proto.gradle.StopDaemonsReply.toObject(e,this)},proto.gradle.StopDaemonsReply.toObject=function(e,t){var r={message:n.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.StopDaemonsReply.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.StopDaemonsReply;return proto.gradle.StopDaemonsReply.deserializeBinaryFromReader(r,t)},proto.gradle.StopDaemonsReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setMessage(r);break;default:t.skipField()}}return e},proto.gradle.StopDaemonsReply.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.StopDaemonsReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.StopDaemonsReply.serializeBinaryToWriter=function(e,t){var r;(r=e.getMessage()).length>0&&t.writeString(1,r)},proto.gradle.StopDaemonsReply.prototype.getMessage=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.StopDaemonsReply.prototype.setMessage=function(e){return n.Message.setProto3StringField(this,1,e)},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.StopDaemonRequest.prototype.toObject=function(e){return proto.gradle.StopDaemonRequest.toObject(e,this)},proto.gradle.StopDaemonRequest.toObject=function(e,t){var r={pid:n.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.StopDaemonRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.StopDaemonRequest;return proto.gradle.StopDaemonRequest.deserializeBinaryFromReader(r,t)},proto.gradle.StopDaemonRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setPid(r);break;default:t.skipField()}}return e},proto.gradle.StopDaemonRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.StopDaemonRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.StopDaemonRequest.serializeBinaryToWriter=function(e,t){var r;(r=e.getPid()).length>0&&t.writeString(1,r)},proto.gradle.StopDaemonRequest.prototype.getPid=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.StopDaemonRequest.prototype.setPid=function(e){return n.Message.setProto3StringField(this,1,e)},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.StopDaemonReply.prototype.toObject=function(e){return proto.gradle.StopDaemonReply.toObject(e,this)},proto.gradle.StopDaemonReply.toObject=function(e,t){var r={message:n.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.StopDaemonReply.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.StopDaemonReply;return proto.gradle.StopDaemonReply.deserializeBinaryFromReader(r,t)},proto.gradle.StopDaemonReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setMessage(r);break;default:t.skipField()}}return e},proto.gradle.StopDaemonReply.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.StopDaemonReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.StopDaemonReply.serializeBinaryToWriter=function(e,t){var r;(r=e.getMessage()).length>0&&t.writeString(1,r)},proto.gradle.StopDaemonReply.prototype.getMessage=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.StopDaemonReply.prototype.setMessage=function(e){return n.Message.setProto3StringField(this,1,e)},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.DaemonInfo.prototype.toObject=function(e){return proto.gradle.DaemonInfo.toObject(e,this)},proto.gradle.DaemonInfo.toObject=function(e,t){var r={pid:n.Message.getFieldWithDefault(t,1,""),status:n.Message.getFieldWithDefault(t,2,0),info:n.Message.getFieldWithDefault(t,3,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.DaemonInfo.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.DaemonInfo;return proto.gradle.DaemonInfo.deserializeBinaryFromReader(r,t)},proto.gradle.DaemonInfo.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setPid(r);break;case 2:r=t.readEnum();e.setStatus(r);break;case 3:r=t.readString();e.setInfo(r);break;default:t.skipField()}}return e},proto.gradle.DaemonInfo.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.DaemonInfo.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.DaemonInfo.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getPid()).length>0&&t.writeString(1,r),0!==(r=e.getStatus())&&t.writeEnum(2,r),(r=e.getInfo()).length>0&&t.writeString(3,r)},proto.gradle.DaemonInfo.DaemonStatus={IDLE:0,BUSY:1,STOPPED:2,STOPPING:3,CANCELED:4},proto.gradle.DaemonInfo.prototype.getPid=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.DaemonInfo.prototype.setPid=function(e){return n.Message.setProto3StringField(this,1,e)},proto.gradle.DaemonInfo.prototype.getStatus=function(){return n.Message.getFieldWithDefault(this,2,0)},proto.gradle.DaemonInfo.prototype.setStatus=function(e){return n.Message.setProto3EnumField(this,2,e)},proto.gradle.DaemonInfo.prototype.getInfo=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.gradle.DaemonInfo.prototype.setInfo=function(e){return n.Message.setProto3StringField(this,3,e)},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.GradleConfig.prototype.toObject=function(e){return proto.gradle.GradleConfig.toObject(e,this)},proto.gradle.GradleConfig.toObject=function(e,t){var r={gradleHome:n.Message.getFieldWithDefault(t,1,""),userHome:n.Message.getFieldWithDefault(t,2,""),jvmArguments:n.Message.getFieldWithDefault(t,3,""),wrapperEnabled:n.Message.getBooleanFieldWithDefault(t,4,!1),version:n.Message.getFieldWithDefault(t,5,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.GradleConfig.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.GradleConfig;return proto.gradle.GradleConfig.deserializeBinaryFromReader(r,t)},proto.gradle.GradleConfig.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setGradleHome(r);break;case 2:r=t.readString();e.setUserHome(r);break;case 3:r=t.readString();e.setJvmArguments(r);break;case 4:r=t.readBool();e.setWrapperEnabled(r);break;case 5:r=t.readString();e.setVersion(r);break;default:t.skipField()}}return e},proto.gradle.GradleConfig.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.GradleConfig.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.GradleConfig.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getGradleHome()).length>0&&t.writeString(1,r),(r=e.getUserHome()).length>0&&t.writeString(2,r),(r=e.getJvmArguments()).length>0&&t.writeString(3,r),(r=e.getWrapperEnabled())&&t.writeBool(4,r),(r=e.getVersion()).length>0&&t.writeString(5,r)},proto.gradle.GradleConfig.prototype.getGradleHome=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.GradleConfig.prototype.setGradleHome=function(e){return n.Message.setProto3StringField(this,1,e)},proto.gradle.GradleConfig.prototype.getUserHome=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.gradle.GradleConfig.prototype.setUserHome=function(e){return n.Message.setProto3StringField(this,2,e)},proto.gradle.GradleConfig.prototype.getJvmArguments=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.gradle.GradleConfig.prototype.setJvmArguments=function(e){return n.Message.setProto3StringField(this,3,e)},proto.gradle.GradleConfig.prototype.getWrapperEnabled=function(){return n.Message.getBooleanFieldWithDefault(this,4,!1)},proto.gradle.GradleConfig.prototype.setWrapperEnabled=function(e){return n.Message.setProto3BooleanField(this,4,e)},proto.gradle.GradleConfig.prototype.getVersion=function(){return n.Message.getFieldWithDefault(this,5,"")},proto.gradle.GradleConfig.prototype.setVersion=function(e){return n.Message.setProto3StringField(this,5,e)},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.GradleBuild.prototype.toObject=function(e){return proto.gradle.GradleBuild.toObject(e,this)},proto.gradle.GradleBuild.toObject=function(e,t){var r,n={project:(r=t.getProject())&&proto.gradle.GradleProject.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.gradle.GradleBuild.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.GradleBuild;return proto.gradle.GradleBuild.deserializeBinaryFromReader(r,t)},proto.gradle.GradleBuild.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new proto.gradle.GradleProject;t.readMessage(r,proto.gradle.GradleProject.deserializeBinaryFromReader),e.setProject(r);break;default:t.skipField()}}return e},proto.gradle.GradleBuild.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.GradleBuild.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.GradleBuild.serializeBinaryToWriter=function(e,t){var r;null!=(r=e.getProject())&&t.writeMessage(1,r,proto.gradle.GradleProject.serializeBinaryToWriter)},proto.gradle.GradleBuild.prototype.getProject=function(){return n.Message.getWrapperField(this,proto.gradle.GradleProject,1)},proto.gradle.GradleBuild.prototype.setProject=function(e){return n.Message.setWrapperField(this,1,e)},proto.gradle.GradleBuild.prototype.clearProject=function(){return this.setProject(void 0)},proto.gradle.GradleBuild.prototype.hasProject=function(){return null!=n.Message.getField(this,1)},proto.gradle.GradleProject.repeatedFields_=[2,3],n.Message.GENERATE_TO_OBJECT&&(proto.gradle.GradleProject.prototype.toObject=function(e){return proto.gradle.GradleProject.toObject(e,this)},proto.gradle.GradleProject.toObject=function(e,t){var r={isRoot:n.Message.getBooleanFieldWithDefault(t,1,!1),tasksList:n.Message.toObjectList(t.getTasksList(),proto.gradle.GradleTask.toObject,e),projectsList:n.Message.toObjectList(t.getProjectsList(),proto.gradle.GradleProject.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.GradleProject.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.GradleProject;return proto.gradle.GradleProject.deserializeBinaryFromReader(r,t)},proto.gradle.GradleProject.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readBool();e.setIsRoot(r);break;case 2:r=new proto.gradle.GradleTask;t.readMessage(r,proto.gradle.GradleTask.deserializeBinaryFromReader),e.addTasks(r);break;case 3:r=new proto.gradle.GradleProject;t.readMessage(r,proto.gradle.GradleProject.deserializeBinaryFromReader),e.addProjects(r);break;default:t.skipField()}}return e},proto.gradle.GradleProject.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.GradleProject.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.GradleProject.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getIsRoot())&&t.writeBool(1,r),(r=e.getTasksList()).length>0&&t.writeRepeatedMessage(2,r,proto.gradle.GradleTask.serializeBinaryToWriter),(r=e.getProjectsList()).length>0&&t.writeRepeatedMessage(3,r,proto.gradle.GradleProject.serializeBinaryToWriter)},proto.gradle.GradleProject.prototype.getIsRoot=function(){return n.Message.getBooleanFieldWithDefault(this,1,!1)},proto.gradle.GradleProject.prototype.setIsRoot=function(e){return n.Message.setProto3BooleanField(this,1,e)},proto.gradle.GradleProject.prototype.getTasksList=function(){return n.Message.getRepeatedWrapperField(this,proto.gradle.GradleTask,2)},proto.gradle.GradleProject.prototype.setTasksList=function(e){return n.Message.setRepeatedWrapperField(this,2,e)},proto.gradle.GradleProject.prototype.addTasks=function(e,t){return n.Message.addToRepeatedWrapperField(this,2,e,proto.gradle.GradleTask,t)},proto.gradle.GradleProject.prototype.clearTasksList=function(){return this.setTasksList([])},proto.gradle.GradleProject.prototype.getProjectsList=function(){return n.Message.getRepeatedWrapperField(this,proto.gradle.GradleProject,3)},proto.gradle.GradleProject.prototype.setProjectsList=function(e){return n.Message.setRepeatedWrapperField(this,3,e)},proto.gradle.GradleProject.prototype.addProjects=function(e,t){return n.Message.addToRepeatedWrapperField(this,3,e,proto.gradle.GradleProject,t)},proto.gradle.GradleProject.prototype.clearProjectsList=function(){return this.setProjectsList([])},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.GradleTask.prototype.toObject=function(e){return proto.gradle.GradleTask.toObject(e,this)},proto.gradle.GradleTask.toObject=function(e,t){var r={name:n.Message.getFieldWithDefault(t,1,""),group:n.Message.getFieldWithDefault(t,2,""),path:n.Message.getFieldWithDefault(t,3,""),project:n.Message.getFieldWithDefault(t,4,""),buildfile:n.Message.getFieldWithDefault(t,5,""),rootproject:n.Message.getFieldWithDefault(t,6,""),description:n.Message.getFieldWithDefault(t,7,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.GradleTask.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.GradleTask;return proto.gradle.GradleTask.deserializeBinaryFromReader(r,t)},proto.gradle.GradleTask.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setName(r);break;case 2:r=t.readString();e.setGroup(r);break;case 3:r=t.readString();e.setPath(r);break;case 4:r=t.readString();e.setProject(r);break;case 5:r=t.readString();e.setBuildfile(r);break;case 6:r=t.readString();e.setRootproject(r);break;case 7:r=t.readString();e.setDescription(r);break;default:t.skipField()}}return e},proto.gradle.GradleTask.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.GradleTask.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.GradleTask.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getName()).length>0&&t.writeString(1,r),(r=e.getGroup()).length>0&&t.writeString(2,r),(r=e.getPath()).length>0&&t.writeString(3,r),(r=e.getProject()).length>0&&t.writeString(4,r),(r=e.getBuildfile()).length>0&&t.writeString(5,r),(r=e.getRootproject()).length>0&&t.writeString(6,r),(r=e.getDescription()).length>0&&t.writeString(7,r)},proto.gradle.GradleTask.prototype.getName=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.GradleTask.prototype.setName=function(e){return n.Message.setProto3StringField(this,1,e)},proto.gradle.GradleTask.prototype.getGroup=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.gradle.GradleTask.prototype.setGroup=function(e){return n.Message.setProto3StringField(this,2,e)},proto.gradle.GradleTask.prototype.getPath=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.gradle.GradleTask.prototype.setPath=function(e){return n.Message.setProto3StringField(this,3,e)},proto.gradle.GradleTask.prototype.getProject=function(){return n.Message.getFieldWithDefault(this,4,"")},proto.gradle.GradleTask.prototype.setProject=function(e){return n.Message.setProto3StringField(this,4,e)},proto.gradle.GradleTask.prototype.getBuildfile=function(){return n.Message.getFieldWithDefault(this,5,"")},proto.gradle.GradleTask.prototype.setBuildfile=function(e){return n.Message.setProto3StringField(this,5,e)},proto.gradle.GradleTask.prototype.getRootproject=function(){return n.Message.getFieldWithDefault(this,6,"")},proto.gradle.GradleTask.prototype.setRootproject=function(e){return n.Message.setProto3StringField(this,6,e)},proto.gradle.GradleTask.prototype.getDescription=function(){return n.Message.getFieldWithDefault(this,7,"")},proto.gradle.GradleTask.prototype.setDescription=function(e){return n.Message.setProto3StringField(this,7,e)},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.Cancelled.prototype.toObject=function(e){return proto.gradle.Cancelled.toObject(e,this)},proto.gradle.Cancelled.toObject=function(e,t){var r={message:n.Message.getFieldWithDefault(t,1,""),projectDir:n.Message.getFieldWithDefault(t,2,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.Cancelled.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.Cancelled;return proto.gradle.Cancelled.deserializeBinaryFromReader(r,t)},proto.gradle.Cancelled.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setMessage(r);break;case 2:r=t.readString();e.setProjectDir(r);break;default:t.skipField()}}return e},proto.gradle.Cancelled.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.Cancelled.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.Cancelled.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getMessage()).length>0&&t.writeString(1,r),(r=e.getProjectDir()).length>0&&t.writeString(2,r)},proto.gradle.Cancelled.prototype.getMessage=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.Cancelled.prototype.setMessage=function(e){return n.Message.setProto3StringField(this,1,e)},proto.gradle.Cancelled.prototype.getProjectDir=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.gradle.Cancelled.prototype.setProjectDir=function(e){return n.Message.setProto3StringField(this,2,e)},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.Progress.prototype.toObject=function(e){return proto.gradle.Progress.toObject(e,this)},proto.gradle.Progress.toObject=function(e,t){var r={message:n.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.Progress.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.Progress;return proto.gradle.Progress.deserializeBinaryFromReader(r,t)},proto.gradle.Progress.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setMessage(r);break;default:t.skipField()}}return e},proto.gradle.Progress.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.Progress.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.Progress.serializeBinaryToWriter=function(e,t){var r;(r=e.getMessage()).length>0&&t.writeString(1,r)},proto.gradle.Progress.prototype.getMessage=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.Progress.prototype.setMessage=function(e){return n.Message.setProto3StringField(this,1,e)},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.Environment.prototype.toObject=function(e){return proto.gradle.Environment.toObject(e,this)},proto.gradle.Environment.toObject=function(e,t){var r,n={javaEnvironment:(r=t.getJavaEnvironment())&&proto.gradle.JavaEnvironment.toObject(e,r),gradleEnvironment:(r=t.getGradleEnvironment())&&proto.gradle.GradleEnvironment.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.gradle.Environment.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.Environment;return proto.gradle.Environment.deserializeBinaryFromReader(r,t)},proto.gradle.Environment.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new proto.gradle.JavaEnvironment;t.readMessage(r,proto.gradle.JavaEnvironment.deserializeBinaryFromReader),e.setJavaEnvironment(r);break;case 2:r=new proto.gradle.GradleEnvironment;t.readMessage(r,proto.gradle.GradleEnvironment.deserializeBinaryFromReader),e.setGradleEnvironment(r);break;default:t.skipField()}}return e},proto.gradle.Environment.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.Environment.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.Environment.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getJavaEnvironment())&&t.writeMessage(1,r,proto.gradle.JavaEnvironment.serializeBinaryToWriter),null!=(r=e.getGradleEnvironment())&&t.writeMessage(2,r,proto.gradle.GradleEnvironment.serializeBinaryToWriter)},proto.gradle.Environment.prototype.getJavaEnvironment=function(){return n.Message.getWrapperField(this,proto.gradle.JavaEnvironment,1)},proto.gradle.Environment.prototype.setJavaEnvironment=function(e){return n.Message.setWrapperField(this,1,e)},proto.gradle.Environment.prototype.clearJavaEnvironment=function(){return this.setJavaEnvironment(void 0)},proto.gradle.Environment.prototype.hasJavaEnvironment=function(){return null!=n.Message.getField(this,1)},proto.gradle.Environment.prototype.getGradleEnvironment=function(){return n.Message.getWrapperField(this,proto.gradle.GradleEnvironment,2)},proto.gradle.Environment.prototype.setGradleEnvironment=function(e){return n.Message.setWrapperField(this,2,e)},proto.gradle.Environment.prototype.clearGradleEnvironment=function(){return this.setGradleEnvironment(void 0)},proto.gradle.Environment.prototype.hasGradleEnvironment=function(){return null!=n.Message.getField(this,2)},proto.gradle.JavaEnvironment.repeatedFields_=[2],n.Message.GENERATE_TO_OBJECT&&(proto.gradle.JavaEnvironment.prototype.toObject=function(e){return proto.gradle.JavaEnvironment.toObject(e,this)},proto.gradle.JavaEnvironment.toObject=function(e,t){var r,o={javaHome:n.Message.getFieldWithDefault(t,1,""),jvmArgsList:null==(r=n.Message.getRepeatedField(t,2))?void 0:r};return e&&(o.$jspbMessageInstance=t),o}),proto.gradle.JavaEnvironment.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.JavaEnvironment;return proto.gradle.JavaEnvironment.deserializeBinaryFromReader(r,t)},proto.gradle.JavaEnvironment.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setJavaHome(r);break;case 2:r=t.readString();e.addJvmArgs(r);break;default:t.skipField()}}return e},proto.gradle.JavaEnvironment.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.JavaEnvironment.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.JavaEnvironment.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getJavaHome()).length>0&&t.writeString(1,r),(r=e.getJvmArgsList()).length>0&&t.writeRepeatedString(2,r)},proto.gradle.JavaEnvironment.prototype.getJavaHome=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.JavaEnvironment.prototype.setJavaHome=function(e){return n.Message.setProto3StringField(this,1,e)},proto.gradle.JavaEnvironment.prototype.getJvmArgsList=function(){return n.Message.getRepeatedField(this,2)},proto.gradle.JavaEnvironment.prototype.setJvmArgsList=function(e){return n.Message.setField(this,2,e||[])},proto.gradle.JavaEnvironment.prototype.addJvmArgs=function(e,t){return n.Message.addToRepeatedField(this,2,e,t)},proto.gradle.JavaEnvironment.prototype.clearJvmArgsList=function(){return this.setJvmArgsList([])},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.GradleEnvironment.prototype.toObject=function(e){return proto.gradle.GradleEnvironment.toObject(e,this)},proto.gradle.GradleEnvironment.toObject=function(e,t){var r={gradleUserHome:n.Message.getFieldWithDefault(t,1,""),gradleVersion:n.Message.getFieldWithDefault(t,2,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.GradleEnvironment.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.GradleEnvironment;return proto.gradle.GradleEnvironment.deserializeBinaryFromReader(r,t)},proto.gradle.GradleEnvironment.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setGradleUserHome(r);break;case 2:r=t.readString();e.setGradleVersion(r);break;default:t.skipField()}}return e},proto.gradle.GradleEnvironment.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.GradleEnvironment.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.GradleEnvironment.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getGradleUserHome()).length>0&&t.writeString(1,r),(r=e.getGradleVersion()).length>0&&t.writeString(2,r)},proto.gradle.GradleEnvironment.prototype.getGradleUserHome=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.GradleEnvironment.prototype.setGradleUserHome=function(e){return n.Message.setProto3StringField(this,1,e)},proto.gradle.GradleEnvironment.prototype.getGradleVersion=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.gradle.GradleEnvironment.prototype.setGradleVersion=function(e){return n.Message.setProto3StringField(this,2,e)},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.Output.prototype.toObject=function(e){return proto.gradle.Output.toObject(e,this)},proto.gradle.Output.toObject=function(e,t){var r={outputType:n.Message.getFieldWithDefault(t,1,0),outputBytes:t.getOutputBytes_asB64()};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.Output.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.Output;return proto.gradle.Output.deserializeBinaryFromReader(r,t)},proto.gradle.Output.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readEnum();e.setOutputType(r);break;case 2:r=t.readBytes();e.setOutputBytes(r);break;default:t.skipField()}}return e},proto.gradle.Output.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.Output.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.Output.serializeBinaryToWriter=function(e,t){var r=void 0;0!==(r=e.getOutputType())&&t.writeEnum(1,r),(r=e.getOutputBytes_asU8()).length>0&&t.writeBytes(2,r)},proto.gradle.Output.OutputType={STDERR:0,STDOUT:1},proto.gradle.Output.prototype.getOutputType=function(){return n.Message.getFieldWithDefault(this,1,0)},proto.gradle.Output.prototype.setOutputType=function(e){return n.Message.setProto3EnumField(this,1,e)},proto.gradle.Output.prototype.getOutputBytes=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.gradle.Output.prototype.getOutputBytes_asB64=function(){return n.Message.bytesAsB64(this.getOutputBytes())},proto.gradle.Output.prototype.getOutputBytes_asU8=function(){return n.Message.bytesAsU8(this.getOutputBytes())},proto.gradle.Output.prototype.setOutputBytes=function(e){return n.Message.setProto3BytesField(this,2,e)},proto.gradle.GradleDependencyType={PROJECT:0,CONFIGURATION:1,DEPENDENCY:2},o.object.extend(t,proto.gradle)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DAEMON_ICON_MAP=t.TASK_STATE_RUNNING_REGEX=t.TREE_ITEM_STATE_FOLDER=t.TREE_ITEM_STATE_NO_TASKS=t.TREE_ITEM_STATE_TASK_DEBUG_IDLE=t.TREE_ITEM_STATE_TASK_IDLE=t.TREE_ITEM_STATE_TASK_CANCELLING=t.TREE_ITEM_STATE_TASK_RUNNING=t.RECENT_TASKS_VIEW=t.PINNED_TASKS_VIEW=t.GRADLE_DAEMONS_VIEW=t.GRADLE_DEFAULT_PROJECTS_VIEW=t.GRADLE_TASKS_VIEW=t.GRADLE_CONTAINER_VIEW=t.ICON_DAEMON_STOPPED=t.ICON_DAEMON_IDLE=t.ICON_DAEMON_BUSY=t.ICON_GRADLE_TASK=t.ICON_LOADING=void 0;const n=r(33);t.ICON_LOADING="loading.svg",t.ICON_GRADLE_TASK="script.svg",t.ICON_DAEMON_BUSY="circle-filled.svg",t.ICON_DAEMON_IDLE="circle-outline.svg",t.ICON_DAEMON_STOPPED="close.svg",t.GRADLE_CONTAINER_VIEW="gradleContainerView",t.GRADLE_TASKS_VIEW="gradleTasksView",t.GRADLE_DEFAULT_PROJECTS_VIEW="gradleDefaultProjectsView",t.GRADLE_DAEMONS_VIEW="gradleDaemonsView",t.PINNED_TASKS_VIEW="pinnedTasksView",t.RECENT_TASKS_VIEW="recentTasksView",t.TREE_ITEM_STATE_TASK_RUNNING="runningTask",t.TREE_ITEM_STATE_TASK_CANCELLING="cancellingTask",t.TREE_ITEM_STATE_TASK_IDLE="task",t.TREE_ITEM_STATE_TASK_DEBUG_IDLE="debugTask",t.TREE_ITEM_STATE_NO_TASKS="notasks",t.TREE_ITEM_STATE_FOLDER="folder",t.TASK_STATE_RUNNING_REGEX=new RegExp("^"+t.TREE_ITEM_STATE_TASK_RUNNING),t.DAEMON_ICON_MAP={[n.DaemonInfo.DaemonStatus.BUSY]:t.ICON_DAEMON_BUSY,[n.DaemonInfo.DaemonStatus.IDLE]:t.ICON_DAEMON_IDLE,[n.DaemonInfo.DaemonStatus.STOPPED]:t.ICON_DAEMON_STOPPED,[n.DaemonInfo.DaemonStatus.STOPPING]:t.ICON_DAEMON_STOPPED,[n.DaemonInfo.DaemonStatus.CANCELED]:t.ICON_DAEMON_STOPPED}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(308),t),o(r(129),t),o(r(310),t),o(r(311),t),o(r(312),t),o(r(313),t),o(r(314),t),o(r(315),t)},function(e,t,r){"use strict";function n(e){return"string"==typeof e||e instanceof String}function o(e){return"function"==typeof e}function i(e){return Array.isArray(e)}function s(e){return e&&o(e.then)}Object.defineProperty(t,"__esModule",{value:!0}),t.asPromise=t.thenable=t.typedArray=t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=o,t.array=i,t.stringArray=function(e){return i(e)&&e.every(e=>n(e))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.thenable=s,t.asPromise=function(e){return e instanceof Promise?e:s(e)?new Promise((t,r)=>{e.then(e=>t(e),e=>r(e))}):Promise.resolve(e)}},function(e,t){e.exports=require("child_process")},function(e,t){e.exports=require("url")},function(e,t,r){"use strict";var n=r(18),o=r(6),i=function(){function e(){}return e.queryCorrelationId=function(t,r){var i=t.profileQueryEndpoint+"/api/profiles/"+t.instrumentationKey+"/appId";if(e.completedLookups.hasOwnProperty(i))r(e.completedLookups[i]);else if(e.pendingLookups[i])e.pendingLookups[i].push(r);else{e.pendingLookups[i]=[r];var s=function(){if(e.pendingLookups[i]){var r={method:"GET",disableAppInsightsAutoCollection:!0};o.info(e.TAG,r);var a=n.makeRequest(t,i,r,(function(r){if(200===r.statusCode){var n="";r.setEncoding("utf-8"),r.on("data",(function(e){n+=e})),r.on("end",(function(){o.info(e.TAG,n);var t=e.correlationIdPrefix+n;e.completedLookups[i]=t,e.pendingLookups[i]&&e.pendingLookups[i].forEach((function(e){return e(t)})),delete e.pendingLookups[i]}))}else r.statusCode>=400&&r.statusCode<500?(e.completedLookups[i]=void 0,delete e.pendingLookups[i]):setTimeout(s,t.correlationIdRetryIntervalMs)}));a&&(a.on("error",(function(t){o.warn(e.TAG,t)})),a.end())}};setTimeout(s,0)}},e.cancelCorrelationIdQuery=function(t,r){var n=t.profileQueryEndpoint+"/api/profiles/"+t.instrumentationKey+"/appId",o=e.pendingLookups[n];o&&(e.pendingLookups[n]=o.filter((function(e){return e!=r})),0==e.pendingLookups[n].length&&delete e.pendingLookups[n])},e.generateRequestId=function(t){if(t){"."!==(t="|"==t[0]?t:"|"+t)[t.length-1]&&(t+=".");var r=(e.currentRootId++).toString(16);return e.appendSuffix(t,r,"_")}return e.generateRootId()},e.getRootId=function(e){var t=e.indexOf(".");t<0&&(t=e.length);var r="|"===e[0]?1:0;return e.substring(r,t)},e.generateRootId=function(){return"|"+n.w3cTraceId()+"."},e.appendSuffix=function(t,r,o){if(t.length+r.length<e.requestIdMaxLength)return t+r+o;var i=e.requestIdMaxLength-9;if(t.length>i)for(;i>1;--i){var s=t[i-1];if("."===s||"_"===s)break}if(i<=1)return e.generateRootId();for(r=n.randomu32().toString(16);r.length<8;)r="0"+r;return t.substring(0,i)+r+"#"},e.TAG="CorrelationIdManager",e.correlationIdPrefix="cid-v1:",e.w3cEnabled=!1,e.pendingLookups={},e.completedLookups={},e.requestIdMaxLength=1024,e.currentRootId=n.randomu32(),e}();e.exports=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Subchannel=t.subchannelAddressToString=t.subchannelAddressEqual=t.isTcpSubchannelAddress=void 0;const n=r(57),o=r(75),i=r(31),s=r(76),a=r(19),l=r(8),c=r(2),u=r(111),d=r(25),g=r(15),p=r(112).version;function h(e){l.trace(c.LogVerbosity.DEBUG,"subchannel",e)}function f(e){l.trace(c.LogVerbosity.DEBUG,"subchannel_refcount",e)}const{HTTP2_HEADER_AUTHORITY:m,HTTP2_HEADER_CONTENT_TYPE:y,HTTP2_HEADER_METHOD:v,HTTP2_HEADER_PATH:_,HTTP2_HEADER_TE:T,HTTP2_HEADER_USER_AGENT:S}=n.constants;const b=Buffer.from("too_many_pings","ascii");function E(e){return"port"in e}function C(e){return E(e)?e.host+":"+e.port:e.path}t.isTcpSubchannelAddress=E,t.subchannelAddressEqual=function(e,t){return E(e)?E(t)&&e.host===t.host&&e.port===t.port:!E(t)&&e.path===t.path},t.subchannelAddressToString=C;t.Subchannel=class{constructor(e,t,r,n){this.channelTarget=e,this.subchannelAddress=t,this.options=r,this.credentials=n,this.connectivityState=i.ConnectivityState.IDLE,this.session=null,this.continueConnecting=!1,this.stateListeners=[],this.disconnectListeners=[],this.keepaliveTimeMs=~(1<<31),this.keepaliveTimeoutMs=2e4,this.keepaliveWithoutCalls=!1,this.callRefcount=0,this.refcount=0,this.userAgent=[r["grpc.primary_user_agent"],"grpc-node-js/"+p,r["grpc.secondary_user_agent"]].filter(e=>e).join(" "),"grpc.keepalive_time_ms"in r&&(this.keepaliveTimeMs=r["grpc.keepalive_time_ms"]),"grpc.keepalive_timeout_ms"in r&&(this.keepaliveTimeoutMs=r["grpc.keepalive_timeout_ms"]),this.keepaliveWithoutCalls="grpc.keepalive_permit_without_calls"in r&&1===r["grpc.keepalive_permit_without_calls"],this.keepaliveIntervalId=setTimeout(()=>{},0),clearTimeout(this.keepaliveIntervalId),this.keepaliveTimeoutId=setTimeout(()=>{},0),clearTimeout(this.keepaliveTimeoutId);const o={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new s.BackoffTimeout(()=>{this.handleBackoffTimer()},o),this.subchannelAddressString=C(t)}handleBackoffTimer(){this.continueConnecting?this.transitionToState([i.ConnectivityState.TRANSIENT_FAILURE],i.ConnectivityState.CONNECTING):this.transitionToState([i.ConnectivityState.TRANSIENT_FAILURE],i.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}sendPing(){var e,t;l.trace(c.LogVerbosity.DEBUG,"keepalive","Sending ping to "+this.subchannelAddressString),this.keepaliveTimeoutId=setTimeout(()=>{this.transitionToState([i.ConnectivityState.READY],i.ConnectivityState.IDLE)},this.keepaliveTimeoutMs),null===(t=(e=this.keepaliveTimeoutId).unref)||void 0===t||t.call(e),this.session.ping((e,t,r)=>{clearTimeout(this.keepaliveTimeoutId)})}startKeepalivePings(){var e,t;this.keepaliveIntervalId=setInterval(()=>{this.sendPing()},this.keepaliveTimeMs),null===(t=(e=this.keepaliveIntervalId).unref)||void 0===t||t.call(e)}stopKeepalivePings(){clearInterval(this.keepaliveIntervalId),clearTimeout(this.keepaliveTimeoutId)}createSession(e){var t,r,s;e.realTarget?h(this.subchannelAddressString+" creating HTTP/2 session through proxy to "+e.realTarget):h(this.subchannelAddressString+" creating HTTP/2 session");const u=a.getDefaultAuthority(null!==(t=e.realTarget)&&void 0!==t?t:this.channelTarget);let p=this.credentials._getConnectionOptions()||{};p.maxSendHeaderBlockLength=Number.MAX_SAFE_INTEGER,"grpc-node.max_session_memory"in this.options&&(p.maxSessionMemory=this.options["grpc-node.max_session_memory"]);let f="http://";if("secureContext"in p){if(f="https://",this.options["grpc.ssl_target_name_override"]){const e=this.options["grpc.ssl_target_name_override"];p.checkServerIdentity=(t,r)=>o.checkServerIdentity(e,r),p.servername=e}else{const e=null!==(s=null===(r=g.splitHostPort(u))||void 0===r?void 0:r.host)&&void 0!==s?s:"localhost";p.servername=e}e.socket&&(p.createConnection=(t,r)=>e.socket)}else p.createConnection=(t,r)=>e.socket?e.socket:d.connect(this.subchannelAddress);p=Object.assign(Object.assign({},p),this.subchannelAddress);const m=n.connect(f+u,p);this.session=m,m.unref(),m.once("connect",()=>{this.session===m&&this.transitionToState([i.ConnectivityState.CONNECTING],i.ConnectivityState.READY)}),m.once("close",()=>{this.session===m&&(h(this.subchannelAddressString+" connection closed"),this.transitionToState([i.ConnectivityState.CONNECTING],i.ConnectivityState.TRANSIENT_FAILURE),this.transitionToState([i.ConnectivityState.READY],i.ConnectivityState.IDLE))}),m.once("goaway",(e,t,r)=>{this.session===m&&(e===n.constants.NGHTTP2_ENHANCE_YOUR_CALM&&r.equals(b)&&(this.keepaliveTimeMs=Math.min(2*this.keepaliveTimeMs,~(1<<31)),l.log(c.LogVerbosity.ERROR,`Connection to ${g.uriToString(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTimeMs} ms`)),h(this.subchannelAddressString+" connection closed by GOAWAY with code "+e),this.transitionToState([i.ConnectivityState.CONNECTING,i.ConnectivityState.READY],i.ConnectivityState.IDLE))}),m.once("error",e=>{h(this.subchannelAddressString+" connection closed with error "+e.message)})}startConnectingInternal(){var e,t;const r=this.credentials._getConnectionOptions()||{};if("secureContext"in r)if(r.ALPNProtocols=["h2"],this.options["grpc.ssl_target_name_override"]){const e=this.options["grpc.ssl_target_name_override"];r.checkServerIdentity=(t,r)=>o.checkServerIdentity(e,r),r.servername=e}else if("grpc.http_connect_target"in this.options){const n=a.getDefaultAuthority(null!==(e=g.parseUri(this.options["grpc.http_connect_target"]))&&void 0!==e?e:{path:"localhost"}),o=g.splitHostPort(n);r.servername=null!==(t=null==o?void 0:o.host)&&void 0!==t?t:n}u.getProxiedConnection(this.subchannelAddress,this.options,r).then(e=>{this.createSession(e)},e=>{this.transitionToState([i.ConnectivityState.CONNECTING],i.ConnectivityState.TRANSIENT_FAILURE)})}transitionToState(e,t){if(-1===e.indexOf(this.connectivityState))return!1;h(this.subchannelAddressString+" "+i.ConnectivityState[this.connectivityState]+" -> "+i.ConnectivityState[t]);const r=this.connectivityState;switch(this.connectivityState=t,t){case i.ConnectivityState.READY:this.stopBackoff(),this.session.socket.once("close",()=>{for(const e of this.disconnectListeners)e()}),this.keepaliveWithoutCalls&&this.startKeepalivePings();break;case i.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case i.ConnectivityState.TRANSIENT_FAILURE:this.session&&this.session.close(),this.session=null,this.stopKeepalivePings(),this.backoffTimeout.isRunning()||process.nextTick(()=>{this.handleBackoffTimer()});break;case i.ConnectivityState.IDLE:this.session&&this.session.close(),this.session=null,this.stopKeepalivePings();break;default:throw new Error("Invalid state: unknown ConnectivityState "+t)}for(const e of[...this.stateListeners])e(this,r,t);return!0}checkBothRefcounts(){0===this.callRefcount&&0===this.refcount&&this.transitionToState([i.ConnectivityState.CONNECTING,i.ConnectivityState.READY],i.ConnectivityState.TRANSIENT_FAILURE)}callRef(){f(this.subchannelAddressString+" callRefcount "+this.callRefcount+" -> "+(this.callRefcount+1)),0===this.callRefcount&&(this.session&&this.session.ref(),this.backoffTimeout.ref(),this.keepaliveWithoutCalls||this.startKeepalivePings()),this.callRefcount+=1}callUnref(){f(this.subchannelAddressString+" callRefcount "+this.callRefcount+" -> "+(this.callRefcount-1)),this.callRefcount-=1,0===this.callRefcount&&(this.session&&this.session.unref(),this.backoffTimeout.unref(),this.keepaliveWithoutCalls||this.stopKeepalivePings(),this.checkBothRefcounts())}ref(){f(this.subchannelAddressString+" refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){f(this.subchannelAddressString+" refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,this.checkBothRefcounts()}unrefIfOneRef(){return 1===this.refcount&&(this.unref(),!0)}startCallStream(e,t,r){const n=e.toHttp2Headers();let o;n[m]=t.getHost(),n[S]=this.userAgent,n[y]="application/grpc",n[v]="POST",n[_]=t.getMethod(),n[T]="trailers";try{o=this.session.request(n)}catch(e){throw this.transitionToState([i.ConnectivityState.READY],i.ConnectivityState.TRANSIENT_FAILURE),e}let s="";for(const e of Object.keys(n))s+="\t\t"+e+": "+n[e]+"\n";l.trace(c.LogVerbosity.DEBUG,"call_stream","Starting stream on subchannel "+this.subchannelAddressString+" with headers\n"+s),t.attachHttp2Stream(o,this,r)}startConnecting(){this.transitionToState([i.ConnectivityState.IDLE],i.ConnectivityState.CONNECTING)||this.connectivityState===i.ConnectivityState.TRANSIENT_FAILURE&&(this.continueConnecting=!0)}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(e){this.stateListeners.push(e)}removeConnectivityStateListener(e){const t=this.stateListeners.indexOf(e);t>-1&&this.stateListeners.splice(t,1)}addDisconnectListener(e){this.disconnectListeners.push(e)}removeDisconnectListener(e){const t=this.disconnectListeners.indexOf(e);t>-1&&this.disconnectListeners.splice(t,1)}resetBackoff(){this.backoffTimeout.reset(),this.transitionToState([i.ConnectivityState.TRANSIENT_FAILURE],i.ConnectivityState.CONNECTING)}getAddress(){return this.subchannelAddressString}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWorkspaceFolder=t.isGradleRootProject=t.waitOnTcp=t.isDebuggingServer=t.isTest=void 0;const n=r(25),o=r(4),i=r(22);t.isTest=()=>{var e;return"true"===(null===(e=process.env.VSCODE_TEST)||void 0===e?void 0:e.toLowerCase())};t.isDebuggingServer=()=>{var e;return"true"===(null===(e=process.env.VSCODE_DEBUG_SERVER)||void 0===e?void 0:e.toLowerCase())};async function s(e,t,r){if(!await function(e,t){return new Promise(r=>{const o=n.connect(t,e).on("error",()=>{r(!1)}).on("timeout",()=>{o.end(),r(!1)}).on("connect",()=>{o.end(),r(!0)});o.setTimeout(300)})}(e,t)){if(Date.now()-r>=1e4)throw new Error("Unable to wait on tcp due to maxmium timeout reached");await s(e,t,r)}}t.waitOnTcp=function(e,t){return s(e,t,Date.now())},t.isGradleRootProject=function(e){return i.existsSync(o.join(e.getProjectUri().fsPath,"gradlew"))||i.existsSync(o.join(e.getProjectUri().fsPath,"gradlew.bat"))},t.isWorkspaceFolder=function(e){return!!e&&"number"!=typeof e}},function(e,t,r){const{MAX_SAFE_COMPONENT_LENGTH:n}=r(58),o=r(59),i=(t=e.exports={}).re=[],s=t.src=[],a=t.t={};let l=0;const c=(e,t,r)=>{const n=l++;o(n,t),a[e]=n,s[n]=t,i[n]=new RegExp(t,r?"g":void 0)};c("NUMERICIDENTIFIER","0|[1-9]\\d*"),c("NUMERICIDENTIFIERLOOSE","[0-9]+"),c("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),c("MAINVERSION",`(${s[a.NUMERICIDENTIFIER]})\\.(${s[a.NUMERICIDENTIFIER]})\\.(${s[a.NUMERICIDENTIFIER]})`),c("MAINVERSIONLOOSE",`(${s[a.NUMERICIDENTIFIERLOOSE]})\\.(${s[a.NUMERICIDENTIFIERLOOSE]})\\.(${s[a.NUMERICIDENTIFIERLOOSE]})`),c("PRERELEASEIDENTIFIER",`(?:${s[a.NUMERICIDENTIFIER]}|${s[a.NONNUMERICIDENTIFIER]})`),c("PRERELEASEIDENTIFIERLOOSE",`(?:${s[a.NUMERICIDENTIFIERLOOSE]}|${s[a.NONNUMERICIDENTIFIER]})`),c("PRERELEASE",`(?:-(${s[a.PRERELEASEIDENTIFIER]}(?:\\.${s[a.PRERELEASEIDENTIFIER]})*))`),c("PRERELEASELOOSE",`(?:-?(${s[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[a.PRERELEASEIDENTIFIERLOOSE]})*))`),c("BUILDIDENTIFIER","[0-9A-Za-z-]+"),c("BUILD",`(?:\\+(${s[a.BUILDIDENTIFIER]}(?:\\.${s[a.BUILDIDENTIFIER]})*))`),c("FULLPLAIN",`v?${s[a.MAINVERSION]}${s[a.PRERELEASE]}?${s[a.BUILD]}?`),c("FULL",`^${s[a.FULLPLAIN]}$`),c("LOOSEPLAIN",`[v=\\s]*${s[a.MAINVERSIONLOOSE]}${s[a.PRERELEASELOOSE]}?${s[a.BUILD]}?`),c("LOOSE",`^${s[a.LOOSEPLAIN]}$`),c("GTLT","((?:<|>)?=?)"),c("XRANGEIDENTIFIERLOOSE",s[a.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*"),c("XRANGEIDENTIFIER",s[a.NUMERICIDENTIFIER]+"|x|X|\\*"),c("XRANGEPLAIN",`[v=\\s]*(${s[a.XRANGEIDENTIFIER]})(?:\\.(${s[a.XRANGEIDENTIFIER]})(?:\\.(${s[a.XRANGEIDENTIFIER]})(?:${s[a.PRERELEASE]})?${s[a.BUILD]}?)?)?`),c("XRANGEPLAINLOOSE",`[v=\\s]*(${s[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[a.XRANGEIDENTIFIERLOOSE]})(?:${s[a.PRERELEASELOOSE]})?${s[a.BUILD]}?)?)?`),c("XRANGE",`^${s[a.GTLT]}\\s*${s[a.XRANGEPLAIN]}$`),c("XRANGELOOSE",`^${s[a.GTLT]}\\s*${s[a.XRANGEPLAINLOOSE]}$`),c("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),c("COERCERTL",s[a.COERCE],!0),c("LONETILDE","(?:~>?)"),c("TILDETRIM",`(\\s*)${s[a.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",c("TILDE",`^${s[a.LONETILDE]}${s[a.XRANGEPLAIN]}$`),c("TILDELOOSE",`^${s[a.LONETILDE]}${s[a.XRANGEPLAINLOOSE]}$`),c("LONECARET","(?:\\^)"),c("CARETTRIM",`(\\s*)${s[a.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",c("CARET",`^${s[a.LONECARET]}${s[a.XRANGEPLAIN]}$`),c("CARETLOOSE",`^${s[a.LONECARET]}${s[a.XRANGEPLAINLOOSE]}$`),c("COMPARATORLOOSE",`^${s[a.GTLT]}\\s*(${s[a.LOOSEPLAIN]})$|^$`),c("COMPARATOR",`^${s[a.GTLT]}\\s*(${s[a.FULLPLAIN]})$|^$`),c("COMPARATORTRIM",`(\\s*)${s[a.GTLT]}\\s*(${s[a.LOOSEPLAIN]}|${s[a.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",c("HYPHENRANGE",`^\\s*(${s[a.XRANGEPLAIN]})\\s+-\\s+(${s[a.XRANGEPLAIN]})\\s*$`),c("HYPHENRANGELOOSE",`^\\s*(${s[a.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[a.XRANGEPLAINLOOSE]})\\s*$`),c("STAR","(<|>)?=?\\s*\\*"),c("GTE0","^\\s*>=\\s*0.0.0\\s*$"),c("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")},function(e,t,r){const{MAX_LENGTH:n}=r(58),{re:o,t:i}=r(42),s=r(9),a=r(60);e.exports=(e,t)=>{if(t=a(t),e instanceof s)return e;if("string"!=typeof e)return null;if(e.length>n)return null;if(!(t.loose?o[i.LOOSE]:o[i.FULL]).test(e))return null;try{return new s(e,t)}catch(e){return null}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6),o=r(65),i=function(){function e(){}return e.getCurrentContext=function(){if(!e.enabled)return null;var t=e.session.get(e.CONTEXT_NAME);return void 0===t?null:t},e.generateContextObject=function(e,t,r,n,o,i){return t=t||e,this.enabled?{operation:{name:r,id:e,parentId:t,traceparent:o,tracestate:i},customProperties:new s(n)}:null},e.runWithContext=function(t,r){return e.enabled?e.session.bind(r,((n={})[e.CONTEXT_NAME]=t,n))():r();var n},e.wrapEmitter=function(t){e.enabled&&e.session.bindEmitter(t)},e.wrapCallback=function(t){return e.enabled?e.session.bind(t):t},e.enable=function(t){this.enabled||(this.isNodeVersionCompatible()?(e.hasEverEnabled||(this.forceClsHooked=t,this.hasEverEnabled=!0,void 0===this.cls&&(!0===e.forceClsHooked||void 0===e.forceClsHooked&&e.shouldUseClsHooked()?this.cls=r(160):this.cls=r(171)),e.session=this.cls.createNamespace("AI-CLS-Session"),o.registerContextPreservation((function(t){return e.session.bind(t)}))),this.enabled=!0):this.enabled=!1)},e.disable=function(){this.enabled=!1},e.reset=function(){e.hasEverEnabled&&(e.session=null,e.session=this.cls.createNamespace("AI-CLS-Session"))},e.isNodeVersionCompatible=function(){var e=process.versions.node.split(".");return parseInt(e[0])>3||parseInt(e[0])>2&&parseInt(e[1])>2},e.shouldUseClsHooked=function(){var e=process.versions.node.split(".");return parseInt(e[0])>8||parseInt(e[0])>=8&&parseInt(e[1])>=2},e.canUseClsHooked=function(){var e=process.versions.node.split("."),t=parseInt(e[0])>8||parseInt(e[0])>=8&&parseInt(e[1])>=0,r=parseInt(e[0])<8||parseInt(e[0])<=8&&parseInt(e[1])<2,n=parseInt(e[0])>4||parseInt(e[0])>=4&&parseInt(e[1])>=7;return!(t&&r)&&n},e.enabled=!1,e.hasEverEnabled=!1,e.forceClsHooked=void 0,e.CONTEXT_NAME="ApplicationInsights-Context",e}();t.CorrelationContextManager=i;var s=function(){function e(e){this.props=[],this.addHeaderData(e)}return e.prototype.addHeaderData=function(e){var t=e?e.split(", "):[];this.props=t.map((function(e){var t=e.split("=");return{key:t[0],value:t[1]}})).concat(this.props)},e.prototype.serializeToHeader=function(){return this.props.map((function(e){return e.key+"="+e.value})).join(", ")},e.prototype.getProperty=function(e){for(var t=0;t<this.props.length;++t){var r=this.props[t];if(r.key===e)return r.value}},e.prototype.setProperty=function(t,r){if(e.bannedCharacters.test(t)||e.bannedCharacters.test(r))n.warn("Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: "+t+" and value: "+r);else{for(var o=0;o<this.props.length;++o){var i=this.props[o];if(i.key===t)return void(i.value=r)}this.props.push({key:t,value:r})}},e.bannedCharacters=/[,=]/,e}()},function(e,t){e.exports=require("http")},function(e,t,r){"use strict";var n,o,i;Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_BREEZE_ENDPOINT="https://dc.services.visualstudio.com",t.DEFAULT_LIVEMETRICS_ENDPOINT="https://rt.services.visualstudio.com",t.DEFAULT_LIVEMETRICS_HOST="rt.services.visualstudio.com",function(e){e.COMMITTED_BYTES="\\Memory\\Committed Bytes",e.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",e.REQUEST_RATE="\\ApplicationInsights\\Requests/Sec",e.REQUEST_FAILURE_RATE="\\ApplicationInsights\\Requests Failed/Sec",e.REQUEST_DURATION="\\ApplicationInsights\\Request Duration",e.DEPENDENCY_RATE="\\ApplicationInsights\\Dependency Calls/Sec",e.DEPENDENCY_FAILURE_RATE="\\ApplicationInsights\\Dependency Calls Failed/Sec",e.DEPENDENCY_DURATION="\\ApplicationInsights\\Dependency Call Duration",e.EXCEPTION_RATE="\\ApplicationInsights\\Exceptions/Sec"}(n=t.QuickPulseCounter||(t.QuickPulseCounter={})),function(e){e.PRIVATE_BYTES="\\Process(??APP_WIN32_PROC??)\\Private Bytes",e.AVAILABLE_BYTES="\\Memory\\Available Bytes",e.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",e.PROCESS_TIME="\\Process(??APP_WIN32_PROC??)\\% Processor Time",e.REQUEST_RATE="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Requests/Sec",e.REQUEST_DURATION="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Request Execution Time"}(o=t.PerformanceCounter||(t.PerformanceCounter={})),t.PerformanceToQuickPulseCounter=((i={})[o.PROCESSOR_TIME]=n.PROCESSOR_TIME,i[o.REQUEST_RATE]=n.REQUEST_RATE,i[o.REQUEST_DURATION]=n.REQUEST_DURATION,i[n.COMMITTED_BYTES]=n.COMMITTED_BYTES,i[n.REQUEST_FAILURE_RATE]=n.REQUEST_FAILURE_RATE,i[n.DEPENDENCY_RATE]=n.DEPENDENCY_RATE,i[n.DEPENDENCY_FAILURE_RATE]=n.DEPENDENCY_FAILURE_RATE,i[n.DEPENDENCY_DURATION]=n.DEPENDENCY_DURATION,i[n.EXCEPTION_RATE]=n.EXCEPTION_RATE,i),t.QuickPulseDocumentType={Event:"Event",Exception:"Exception",Trace:"Trace",Metric:"Metric",Request:"Request",Dependency:"RemoteDependency",Availability:"Availability"},t.QuickPulseType={Event:"EventTelemetryDocument",Exception:"ExceptionTelemetryDocument",Trace:"TraceTelemetryDocument",Metric:"MetricTelemetryDocument",Request:"RequestTelemetryDocument",Dependency:"DependencyTelemetryDocument",Availability:"AvailabilityTelemetryDocument"},t.TelemetryTypeStringToQuickPulseType={EventData:t.QuickPulseType.Event,ExceptionData:t.QuickPulseType.Exception,MessageData:t.QuickPulseType.Trace,MetricData:t.QuickPulseType.Metric,RequestData:t.QuickPulseType.Request,RemoteDependencyData:t.QuickPulseType.Dependency,AvailabilityData:t.QuickPulseType.Availability},t.TelemetryTypeStringToQuickPulseDocumentType={EventData:t.QuickPulseDocumentType.Event,ExceptionData:t.QuickPulseDocumentType.Exception,MessageData:t.QuickPulseDocumentType.Trace,MetricData:t.QuickPulseDocumentType.Metric,RequestData:t.QuickPulseDocumentType.Request,RemoteDependencyData:t.QuickPulseDocumentType.Dependency,AvailabilityData:t.QuickPulseDocumentType.Availability}},function(e,t,r){"use strict";e.exports={requestContextHeader:"request-context",requestContextSourceKey:"appId",requestContextTargetKey:"appId",requestIdHeader:"request-id",parentIdHeader:"x-ms-request-id",rootIdHeader:"x-ms-request-root-id",correlationContextHeader:"correlation-context",traceparentHeader:"traceparent",traceStateHeader:"tracestate"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDependenciesCancellationKey=t.getRunTaskCommandCancellationKey=t.getRunBuildCancellationKey=t.getBuildCancellationKey=void 0,t.getBuildCancellationKey=function(e){return"getBuild"+e},t.getRunBuildCancellationKey=function(e,t){return"runBuild"+e+t.join("")},t.getRunTaskCommandCancellationKey=function(e,t){return"runTask"+e+t},t.getDependenciesCancellationKey=function(e){return"getDependencies"+e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueuePicker=t.UnavailablePicker=t.PickResultType=void 0;const n=r(14),o=r(2);var i;!function(e){e[e.COMPLETE=0]="COMPLETE",e[e.QUEUE=1]="QUEUE",e[e.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",e[e.DROP=3]="DROP"}(i=t.PickResultType||(t.PickResultType={}));t.UnavailablePicker=class{constructor(e){this.status=void 0!==e?e:{code:o.Status.UNAVAILABLE,details:"No connection established",metadata:new n.Metadata}}pick(e){return{pickResultType:i.TRANSIENT_FAILURE,subchannel:null,status:this.status,extraFilterFactory:null,onCallStarted:null}}};t.QueuePicker=class{constructor(e){this.loadBalancer=e,this.calledExitIdle=!1}pick(e){return this.calledExitIdle||(process.nextTick(()=>{this.loadBalancer.exitIdle()}),this.calledExitIdle=!0),{pickResultType:i.QUEUE,subchannel:null,status:null,extraFilterFactory:null,onCallStarted:null}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseFilter=void 0;t.BaseFilter=class{async sendMetadata(e){return e}receiveMetadata(e){return e}async sendMessage(e){return e}async receiveMessage(e){return e}receiveTrailers(e){return e}}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.createServerSocketTransport=t.createClientSocketTransport=t.createServerPipeTransport=t.createClientPipeTransport=t.generateRandomPipeName=t.StreamMessageWriter=t.StreamMessageReader=t.SocketMessageWriter=t.SocketMessageReader=t.IPCMessageWriter=t.IPCMessageReader=void 0;const i=r(355);i.default.install();const s=r(140),a=r(4),l=r(23),c=r(64),u=r(25);o(r(140),t);class d extends s.AbstractMessageReader{constructor(e){super(),this.process=e;let t=this.process;t.on("error",e=>this.fireError(e)),t.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),s.Disposable.create(()=>this.process.off("message",e))}}t.IPCMessageReader=d;class g extends s.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let t=this.process;t.on("error",e=>this.fireError(e)),t.on("close",()=>this.fireClose)}write(e){try{return"function"==typeof this.process.send&&this.process.send(e,void 0,void 0,t=>{t?(this.errorCount++,this.handleError(t,e)):this.errorCount=0}),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}}t.IPCMessageWriter=g;class p extends s.ReadableStreamMessageReader{constructor(e,t="utf-8"){super(i.default().stream.asReadableStream(e),t)}}t.SocketMessageReader=p;class h extends s.WriteableStreamMessageWriter{constructor(e,t){super(i.default().stream.asWritableStream(e),t),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}}t.SocketMessageWriter=h;class f extends s.ReadableStreamMessageReader{constructor(e,t){super(i.default().stream.asReadableStream(e),t)}}t.StreamMessageReader=f;class m extends s.WriteableStreamMessageWriter{constructor(e,t){super(i.default().stream.asWritableStream(e),t)}}t.StreamMessageWriter=m;const y=process.env.XDG_RUNTIME_DIR,v=new Map([["linux",107],["darwin",103]]);t.generateRandomPipeName=function(){const e=c.randomBytes(21).toString("hex");if("win32"===process.platform)return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;t=y?a.join(y,`vscode-ipc-${e}.sock`):a.join(l.tmpdir(),`vscode-${e}.sock`);const r=v.get(process.platform);return void 0!==r&&t.length>=r&&i.default().console.warn(`WARNING: IPC handle "${t}" is longer than ${r} characters.`),t},t.createClientPipeTransport=function(e,t="utf-8"){let r;const n=new Promise((e,t)=>{r=e});return new Promise((o,i)=>{let s=u.createServer(e=>{s.close(),r([new p(e,t),new h(e,t)])});s.on("error",i),s.listen(e,()=>{s.removeListener("error",i),o({onConnected:()=>n})})})},t.createServerPipeTransport=function(e,t="utf-8"){const r=u.createConnection(e);return[new p(r,t),new h(r,t)]},t.createClientSocketTransport=function(e,t="utf-8"){let r;const n=new Promise((e,t)=>{r=e});return new Promise((o,i)=>{const s=u.createServer(e=>{s.close(),r([new p(e,t),new h(e,t)])});s.on("error",i),s.listen(e,"127.0.0.1",()=>{s.removeListener("error",i),o({onConnected:()=>n})})})},t.createServerSocketTransport=function(e,t="utf-8"){const r=u.createConnection(e,"127.0.0.1");return[new p(r,t),new h(r,t)]},t.createMessageConnection=function(e,t,r,n){r||(r=s.NullLogger);const o=function(e){const t=e;return void 0!==t.read&&void 0!==t.addListener}(e)?new f(e):e,i=function(e){const t=e;return void 0!==t.write&&void 0!==t.addListener}(t)?new m(t):t;return s.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),s.createMessageConnection(o,i,r,n)}},function(e,t,r){"use strict";function n(e){return"string"==typeof e||e instanceof String}function o(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=o,t.stringArray=function(e){return o(e)&&e.every(e=>n(e))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Emitter=t.Event=void 0;const n=r(29);!function(e){const t={dispose(){}};e.None=function(){return t}}(t.Event||(t.Event={}));class o{add(e,t=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let r=!1;for(let n=0,o=this._callbacks.length;n<o;n++)if(this._callbacks[n]===e){if(this._contexts[n]===t)return this._callbacks.splice(n,1),void this._contexts.splice(n,1);r=!0}if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];const t=[],r=this._callbacks.slice(0),o=this._contexts.slice(0);for(let i=0,s=r.length;i<s;i++)try{t.push(r[i].apply(o[i],e))}catch(e){n.default().console.error(e)}return t}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class i{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,r)=>{this._callbacks||(this._callbacks=new o),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);const n={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),n.dispose=i._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(n),n}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}t.Emitter=i,i._noop=function(){}},function(e,t,r){"use strict";var n=r(45),o=r(55),i=r(6),s=r(18),a=r(47),l=r(198),c=r(44),u=r(39),d=r(102),g=r(65),p=function(){function e(t){if(e.INSTANCE)throw new Error("Client request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return e.prototype.enable=function(e){this._isEnabled=e,this._isEnabled&&!this._isInitialized&&this._initialize(),g.IsInitialized&&(r(199).enable(e,this._client),r(200).enable(e,this._client),r(201).enable(e,this._client),r(202).enable(e,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype._initialize=function(){var t=this;this._isInitialized=!0;n.get;var r=n.request,i=o.request,s=function(r,n){var o=!n[e.disableCollectionRequestOption]&&!r[e.alreadyAutoCollectedFlag];r[e.alreadyAutoCollectedFlag]=!0,r&&n&&o&&(c.CorrelationContextManager.wrapEmitter(r),e.trackRequest(t._client,{options:n,request:r}))};n.request=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];var i=r.call.apply(r,[n,e].concat(t));return s(i,e),i},o.request=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=i.call.apply(i,[o,e].concat(t));return s(n,e),n},n.get=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var o,i=(o=n.request).call.apply(o,[n,e].concat(t));return i.end(),i},o.get=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n,i=(n=o.request).call.apply(n,[o,e].concat(t));return i.end(),i}},e.trackRequest=function(t,r){if(r.options&&r.request&&t){var n,o,g=new l(r.options,r.request),p=c.CorrelationContextManager.getCurrentContext();if(p&&p.operation&&p.operation.traceparent&&d.isValidTraceId(p.operation.traceparent.traceId))p.operation.traceparent.updateSpanId(),n=p.operation.traceparent.getBackCompatRequestId();else if(u.w3cEnabled){o=(f=new d).toString(),n=f.getBackCompatRequestId()}else n=p&&p.operation&&p.operation.parentId+e.requestNumber+++".";if(s.canIncludeCorrelationHeader(t,g.getUrl())&&r.request.getHeader&&r.request.setHeader&&t.config&&t.config.correlationId){var h=r.request.getHeader(a.requestContextHeader);try{s.safeIncludeCorrelationHeader(t,r.request,h)}catch(e){i.warn("Request-Context header could not be set. Correlation of requests may be lost",e)}if(p&&p.operation)try{if(r.request.setHeader(a.requestIdHeader,n),r.request.setHeader(a.parentIdHeader,p.operation.id),r.request.setHeader(a.rootIdHeader,n),o||p.operation.traceparent)r.request.setHeader(a.traceparentHeader,o||p.operation.traceparent.toString());else if(u.w3cEnabled){var f=(new d).toString();r.request.setHeader(a.traceparentHeader,f)}if(p.operation.tracestate){var m=p.operation.tracestate.toString();m&&r.request.setHeader(a.traceStateHeader,m)}var y=p.customProperties.serializeToHeader();y&&r.request.setHeader(a.correlationContextHeader,y)}catch(e){i.warn("Correlation headers could not be set. Correlation of requests may be lost.",e)}}r.request.on&&(r.request.on("response",(function(e){g.onResponse(e);var o=g.getDependencyTelemetry(r,n);o.contextObjects=o.contextObjects||{},o.contextObjects["http.RequestOptions"]=r.options,o.contextObjects["http.ClientRequest"]=r.request,o.contextObjects["http.ClientResponse"]=e,t.trackDependency(o)})),r.request.on("error",(function(e){g.onError(e);var o=g.getDependencyTelemetry(r,n);o.contextObjects=o.contextObjects||{},o.contextObjects["http.RequestOptions"]=r.options,o.contextObjects["http.ClientRequest"]=r.request,o.contextObjects.Error=e,t.trackDependency(o)})))}else i.info("AutoCollectHttpDependencies.trackRequest was called with invalid parameters: ",!r.options,!r.request,!t)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.disableCollectionRequestOption="disableAppInsightsAutoCollection",e.requestNumber=1,e.alreadyAutoCollectedFlag="_appInsightsAutoCollected",e}();e.exports=p},function(e,t){e.exports=require("https")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.experimental=t.StatusBuilder=t.getClientChannel=t.ServerCredentials=t.Server=t.setLogVerbosity=t.setLogger=t.load=t.loadObject=t.CallCredentials=t.ChannelCredentials=t.waitForClientReady=t.closeClient=t.Channel=t.makeGenericClientConstructor=t.makeClientConstructor=t.loadPackageDefinition=t.Client=t.propagate=t.connectivityState=t.status=t.logVerbosity=t.Metadata=t.credentials=void 0;const n=r(105);Object.defineProperty(t,"CallCredentials",{enumerable:!0,get:function(){return n.CallCredentials}});const o=r(31);Object.defineProperty(t,"connectivityState",{enumerable:!0,get:function(){return o.ConnectivityState}}),Object.defineProperty(t,"Channel",{enumerable:!0,get:function(){return o.ChannelImplementation}});const i=r(108);Object.defineProperty(t,"ChannelCredentials",{enumerable:!0,get:function(){return i.ChannelCredentials}});const s=r(114);Object.defineProperty(t,"Client",{enumerable:!0,get:function(){return s.Client}});const a=r(2);Object.defineProperty(t,"logVerbosity",{enumerable:!0,get:function(){return a.LogVerbosity}}),Object.defineProperty(t,"status",{enumerable:!0,get:function(){return a.Status}}),Object.defineProperty(t,"propagate",{enumerable:!0,get:function(){return a.Propagate}});const l=r(8),c=r(239);Object.defineProperty(t,"loadPackageDefinition",{enumerable:!0,get:function(){return c.loadPackageDefinition}}),Object.defineProperty(t,"makeClientConstructor",{enumerable:!0,get:function(){return c.makeClientConstructor}}),Object.defineProperty(t,"makeGenericClientConstructor",{enumerable:!0,get:function(){return c.makeClientConstructor}});const u=r(14);Object.defineProperty(t,"Metadata",{enumerable:!0,get:function(){return u.Metadata}});const d=r(240);Object.defineProperty(t,"Server",{enumerable:!0,get:function(){return d.Server}});const g=r(242);Object.defineProperty(t,"ServerCredentials",{enumerable:!0,get:function(){return g.ServerCredentials}});const p=r(243);Object.defineProperty(t,"StatusBuilder",{enumerable:!0,get:function(){return p.StatusBuilder}}),t.credentials={combineChannelCredentials:(e,...t)=>t.reduce((e,t)=>e.compose(t),e),combineCallCredentials:(e,...t)=>t.reduce((e,t)=>e.compose(t),e),createInsecure:i.ChannelCredentials.createInsecure,createSsl:i.ChannelCredentials.createSsl,createFromMetadataGenerator:n.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:n.CallCredentials.createFromGoogleCredential,createEmpty:n.CallCredentials.createEmpty},t.closeClient=e=>e.close(),t.waitForClientReady=(e,t,r)=>e.waitForReady(t,r),t.loadObject=(e,t)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")},t.load=(e,t,r)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")},t.setLogger=e=>{l.setLogger(e)},t.setLogVerbosity=e=>{l.setLoggerVerbosity(e)},t.getClientChannel=e=>s.Client.prototype.getChannel.call(e);var h=r(117);Object.defineProperty(t,"ListenerBuilder",{enumerable:!0,get:function(){return h.ListenerBuilder}}),Object.defineProperty(t,"RequesterBuilder",{enumerable:!0,get:function(){return h.RequesterBuilder}}),Object.defineProperty(t,"InterceptingCall",{enumerable:!0,get:function(){return h.InterceptingCall}}),Object.defineProperty(t,"InterceptorConfigurationError",{enumerable:!0,get:function(){return h.InterceptorConfigurationError}});const f=r(244);t.experimental=f;const m=r(19),y=r(32),v=r(112).version;l.trace(a.LogVerbosity.DEBUG,"index","Loading @grpc/grpc-js version "+v),m.registerAll(),y.registerAll()},function(e,t){e.exports=require("http2")},function(e,t){const r=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:r,MAX_SAFE_COMPONENT_LENGTH:16}},function(e,t){const r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=r},function(e,t){const r=["includePrerelease","loose","rtl"];e.exports=e=>e?"object"!=typeof e?{loose:!0}:r.filter(t=>e[t]).reduce((e,t)=>(e[t]=!0,e),{}):{}},function(e,t,r){const n=r(16);e.exports=(e,t,r)=>n(e,t,r)>0},function(e,t,r){const n=Symbol("SemVer ANY");class o{static get ANY(){return n}constructor(e,t){if(t=i(t),e instanceof o){if(e.loose===!!t.loose)return e;e=e.value}c("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(e){const t=this.options.loose?s[a.COMPARATORLOOSE]:s[a.COMPARATOR],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new u(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(c("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return l(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Comparator is required");if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||new d(e.value,t).test(this.value);if(""===e.operator)return""===e.value||new d(this.value,t).test(e.semver);const r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),n=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),i=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=l(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=l(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||n||i&&s||a||c}}e.exports=o;const i=r(60),{re:s,t:a}=r(42),l=r(136),c=r(59),u=r(9),d=r(17)},function(e,t,r){const n=r(17);e.exports=(e,t,r)=>{try{t=new n(t,r)}catch(e){return!1}return t.test(e)}},function(e,t){e.exports=require("crypto")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6);t.IsInitialized=!process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL;var o="DiagnosticChannel";if(t.IsInitialized){var i=r(158),s=(process.env.APPLICATION_INSIGHTS_NO_PATCH_MODULES||"").split(","),a={bunyan:i.bunyan,console:i.console,mongodb:i.mongodb,mongodbCore:i.mongodbCore,mysql:i.mysql,redis:i.redis,pg:i.pg,pgPool:i.pgPool,winston:i.winston};for(var l in a)-1===s.indexOf(l)&&(a[l].enable(),n.info(o,"Subscribed to "+l+" events"));s.length>0&&n.info(o,"Some modules will not be patched",s)}else n.info(o,"Not subscribing to dependency autocollection because APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL was set");t.registerContextPreservation=function(e){t.IsInitialized&&r(24).channel.addContextPreservation(e)}},function(e,t){var r;t=e.exports=z,r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var n=Number.MAX_SAFE_INTEGER||9007199254740991,o=t.re=[],i=t.src=[],s=0,a=s++;i[a]="0|[1-9]\\d*";var l=s++;i[l]="[0-9]+";var c=s++;i[c]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var u=s++;i[u]="("+i[a]+")\\.("+i[a]+")\\.("+i[a]+")";var d=s++;i[d]="("+i[l]+")\\.("+i[l]+")\\.("+i[l]+")";var g=s++;i[g]="(?:"+i[a]+"|"+i[c]+")";var p=s++;i[p]="(?:"+i[l]+"|"+i[c]+")";var h=s++;i[h]="(?:-("+i[g]+"(?:\\."+i[g]+")*))";var f=s++;i[f]="(?:-?("+i[p]+"(?:\\."+i[p]+")*))";var m=s++;i[m]="[0-9A-Za-z-]+";var y=s++;i[y]="(?:\\+("+i[m]+"(?:\\."+i[m]+")*))";var v=s++,_="v?"+i[u]+i[h]+"?"+i[y]+"?";i[v]="^"+_+"$";var T="[v=\\s]*"+i[d]+i[f]+"?"+i[y]+"?",S=s++;i[S]="^"+T+"$";var b=s++;i[b]="((?:<|>)?=?)";var E=s++;i[E]=i[l]+"|x|X|\\*";var C=s++;i[C]=i[a]+"|x|X|\\*";var R=s++;i[R]="[v=\\s]*("+i[C]+")(?:\\.("+i[C]+")(?:\\.("+i[C]+")(?:"+i[h]+")?"+i[y]+"?)?)?";var w=s++;i[w]="[v=\\s]*("+i[E]+")(?:\\.("+i[E]+")(?:\\.("+i[E]+")(?:"+i[f]+")?"+i[y]+"?)?)?";var D=s++;i[D]="^"+i[b]+"\\s*"+i[R]+"$";var A=s++;i[A]="^"+i[b]+"\\s*"+i[w]+"$";var O=s++;i[O]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var I=s++;i[I]="(?:~>?)";var P=s++;i[P]="(\\s*)"+i[I]+"\\s+",o[P]=new RegExp(i[P],"g");var N=s++;i[N]="^"+i[I]+i[R]+"$";var M=s++;i[M]="^"+i[I]+i[w]+"$";var k=s++;i[k]="(?:\\^)";var j=s++;i[j]="(\\s*)"+i[k]+"\\s+",o[j]=new RegExp(i[j],"g");var x=s++;i[x]="^"+i[k]+i[R]+"$";var L=s++;i[L]="^"+i[k]+i[w]+"$";var F=s++;i[F]="^"+i[b]+"\\s*("+T+")$|^$";var B=s++;i[B]="^"+i[b]+"\\s*("+_+")$|^$";var U=s++;i[U]="(\\s*)"+i[b]+"\\s*("+T+"|"+i[R]+")",o[U]=new RegExp(i[U],"g");var G=s++;i[G]="^\\s*("+i[R]+")\\s+-\\s+("+i[R]+")\\s*$";var W=s++;i[W]="^\\s*("+i[w]+")\\s+-\\s+("+i[w]+")\\s*$";var q=s++;i[q]="(<|>)?=?\\s*\\*";for(var H=0;H<35;H++)r(H,i[H]),o[H]||(o[H]=new RegExp(i[H]));function V(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof z)return e;if("string"!=typeof e)return null;if(e.length>256)return null;if(!(t.loose?o[S]:o[v]).test(e))return null;try{return new z(e,t)}catch(e){return null}}function z(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof z){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof z))return new z(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var i=e.trim().match(t.loose?o[S]:o[v]);if(!i)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<n)return t}return e})):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}t.parse=V,t.valid=function(e,t){var r=V(e,t);return r?r.version:null},t.clean=function(e,t){var r=V(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},t.SemVer=z,z.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},z.prototype.toString=function(){return this.version},z.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof z||(e=new z(e,this.options)),this.compareMain(e)||this.comparePre(e)},z.prototype.compareMain=function(e){return e instanceof z||(e=new z(e,this.options)),K(this.major,e.major)||K(this.minor,e.minor)||K(this.patch,e.patch)},z.prototype.comparePre=function(e){if(e instanceof z||(e=new z(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return K(n,o)}while(++t)},z.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new z(e,r).inc(t,n).version}catch(e){return null}},t.diff=function(e,t){if(Q(e,t))return null;var r=V(e),n=V(t),o="";if(r.prerelease.length||n.prerelease.length){o="pre";var i="prerelease"}for(var s in r)if(("major"===s||"minor"===s||"patch"===s)&&r[s]!==n[s])return o+s;return i},t.compareIdentifiers=K;var $=/^[0-9]+$/;function K(e,t){var r=$.test(e),n=$.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}function Y(e,t,r){return new z(e,r).compare(new z(t,r))}function J(e,t,r){return Y(e,t,r)>0}function X(e,t,r){return Y(e,t,r)<0}function Q(e,t,r){return 0===Y(e,t,r)}function Z(e,t,r){return 0!==Y(e,t,r)}function ee(e,t,r){return Y(e,t,r)>=0}function te(e,t,r){return Y(e,t,r)<=0}function re(e,t,r,n){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return Q(e,r,n);case"!=":return Z(e,r,n);case">":return J(e,r,n);case">=":return ee(e,r,n);case"<":return X(e,r,n);case"<=":return te(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}function ne(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof ne){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ne))return new ne(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===oe?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}t.rcompareIdentifiers=function(e,t){return K(t,e)},t.major=function(e,t){return new z(e,t).major},t.minor=function(e,t){return new z(e,t).minor},t.patch=function(e,t){return new z(e,t).patch},t.compare=Y,t.compareLoose=function(e,t){return Y(e,t,!0)},t.rcompare=function(e,t,r){return Y(t,e,r)},t.sort=function(e,r){return e.sort((function(e,n){return t.compare(e,n,r)}))},t.rsort=function(e,r){return e.sort((function(e,n){return t.rcompare(e,n,r)}))},t.gt=J,t.lt=X,t.eq=Q,t.neq=Z,t.gte=ee,t.lte=te,t.cmp=re,t.Comparator=ne;var oe={};function ie(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof ie)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new ie(e.raw,t);if(e instanceof ne)return new ie(e.value,t);if(!(this instanceof ie))return new ie(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function se(e){return!e||"x"===e.toLowerCase()||"*"===e}function ae(e,t,r,n,o,i,s,a,l,c,u,d,g){return((t=se(r)?"":se(n)?">="+r+".0.0":se(o)?">="+r+"."+n+".0":">="+t)+" "+(a=se(l)?"":se(c)?"<"+(+l+1)+".0.0":se(u)?"<"+l+"."+(+c+1)+".0":d?"<="+l+"."+c+"."+u+"-"+d:"<="+a)).trim()}function le(e,t,n){for(var o=0;o<e.length;o++)if(!e[o].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(o=0;o<e.length;o++)if(r(e[o].semver),e[o].semver!==oe&&e[o].semver.prerelease.length>0){var i=e[o].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}function ce(e,t,r){try{t=new ie(t,r)}catch(e){return!1}return t.test(e)}function ue(e,t,r,n){var o,i,s,a,l;switch(e=new z(e,n),t=new ie(t,n),r){case">":o=J,i=te,s=X,a=">",l=">=";break;case"<":o=X,i=ee,s=J,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ce(e,t,n))return!1;for(var c=0;c<t.set.length;++c){var u=t.set[c],d=null,g=null;if(u.forEach((function(e){e.semver===oe&&(e=new ne(">=0.0.0")),d=d||e,g=g||e,o(e.semver,d.semver,n)?d=e:s(e.semver,g.semver,n)&&(g=e)})),d.operator===a||d.operator===l)return!1;if((!g.operator||g.operator===a)&&i(e,g.semver))return!1;if(g.operator===l&&s(e,g.semver))return!1}return!0}ne.prototype.parse=function(e){var t=this.options.loose?o[F]:o[B],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],"="===this.operator&&(this.operator=""),r[2]?this.semver=new z(r[2],this.options.loose):this.semver=oe},ne.prototype.toString=function(){return this.value},ne.prototype.test=function(e){return r("Comparator.test",e,this.options.loose),this.semver===oe||("string"==typeof e&&(e=new z(e,this.options)),re(e,this.operator,this.semver,this.options))},ne.prototype.intersects=function(e,t){if(!(e instanceof ne))throw new TypeError("a Comparator is required");var r;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return r=new ie(e.value,t),ce(this.value,r,t);if(""===e.operator)return r=new ie(this.value,t),ce(e.semver,r,t);var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),o=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),i=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=re(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),l=re(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||o||i&&s||a||l},t.Range=ie,ie.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},ie.prototype.toString=function(){return this.range},ie.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?o[W]:o[G];e=e.replace(n,ae),r("hyphen replace",e),e=e.replace(o[U],"$1$2$3"),r("comparator trim",e,o[U]),e=(e=(e=e.replace(o[P],"$1~")).replace(o[j],"$1^")).split(/\s+/).join(" ");var i=t?o[F]:o[B],s=e.split(" ").map((function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r("caret",e,t);var n=t.loose?o[L]:o[x];return e.replace(n,(function(t,n,o,i,s){var a;return r("caret",e,t,n,o,i,s),se(n)?a="":se(o)?a=">="+n+".0.0 <"+(+n+1)+".0.0":se(i)?a="0"===n?">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":">="+n+"."+o+".0 <"+(+n+1)+".0.0":s?(r("replaceCaret pr",s),a="0"===n?"0"===o?">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+o+"."+(+i+1):">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+i+"-"+s+" <"+(+n+1)+".0.0"):(r("no pr"),a="0"===n?"0"===o?">="+n+"."+o+"."+i+" <"+n+"."+o+"."+(+i+1):">="+n+"."+o+"."+i+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+i+" <"+(+n+1)+".0.0"),r("caret return",a),a}))}(e,t)})).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var n=t.loose?o[M]:o[N];return e.replace(n,(function(t,n,o,i,s){var a;return r("tilde",e,t,n,o,i,s),se(n)?a="":se(o)?a=">="+n+".0.0 <"+(+n+1)+".0.0":se(i)?a=">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":s?(r("replaceTilde pr",s),a=">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+(+o+1)+".0"):a=">="+n+"."+o+"."+i+" <"+n+"."+(+o+1)+".0",r("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var n=t.loose?o[A]:o[D];return e.replace(n,(function(t,n,o,i,s,a){r("xRange",e,t,n,o,i,s,a);var l=se(o),c=l||se(i),u=c||se(s);return"="===n&&u&&(n=""),l?t=">"===n||"<"===n?"<0.0.0":"*":n&&u?(c&&(i=0),s=0,">"===n?(n=">=",c?(o=+o+1,i=0,s=0):(i=+i+1,s=0)):"<="===n&&(n="<",c?o=+o+1:i=+i+1),t=n+o+"."+i+"."+s):c?t=">="+o+".0.0 <"+(+o+1)+".0.0":u&&(t=">="+o+"."+i+".0 <"+o+"."+(+i+1)+".0"),r("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(o[q],"")}(e,t),r("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(e){return!!e.match(i)}))),s=s.map((function(e){return new ne(e,this.options)}),this)},ie.prototype.intersects=function(e,t){if(!(e instanceof ie))throw new TypeError("a Range is required");return this.set.some((function(r){return r.every((function(r){return e.set.some((function(e){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new ie(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},ie.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new z(e,this.options));for(var t=0;t<this.set.length;t++)if(le(this.set[t],e,this.options))return!0;return!1},t.satisfies=ce,t.maxSatisfying=function(e,t,r){var n=null,o=null;try{var i=new ie(t,r)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(n&&-1!==o.compare(e)||(o=new z(n=e,r)))})),n},t.minSatisfying=function(e,t,r){var n=null,o=null;try{var i=new ie(t,r)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(n&&1!==o.compare(e)||(o=new z(n=e,r)))})),n},t.minVersion=function(e,t){e=new ie(e,t);var r=new z("0.0.0");if(e.test(r))return r;if(r=new z("0.0.0-0"),e.test(r))return r;r=null;for(var n=0;n<e.set.length;++n){e.set[n].forEach((function(e){var t=new z(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":r&&!J(r,t)||(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}))}if(r&&e.test(r))return r;return null},t.validRange=function(e,t){try{return new ie(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,r){return ue(e,t,"<",r)},t.gtr=function(e,t,r){return ue(e,t,">",r)},t.outside=ue,t.prerelease=function(e,t){var r=V(e,t);return r&&r.prerelease.length?r.prerelease:null},t.intersects=function(e,t,r){return e=new ie(e,r),t=new ie(t,r),e.intersects(t)},t.coerce=function(e){if(e instanceof z)return e;if("string"!=typeof e)return null;var t=e.match(o[O]);if(null==t)return null;return V(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}},function(e,t){e.exports=require("assert")},function(e,t,r){"use strict";var n=r(69),o=n.wrap,i=n.unwrap,s="wrap@before";function a(e,t,r){var n=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:n,writable:!0,value:r})}function l(e,t){var r;return r=e._events&&e._events[t],Array.isArray(r)||(r=r?[r]:[]),r}function c(e,t,r){var n=l(e,t).filter((function(e){return-1===r.indexOf(e)}));n.length>0&&function(e,t){for(var r=t.length,n=0;n<r;n++){var o=t[n],i=e[s];if("function"==typeof i)i(o);else if(Array.isArray(i))for(var a=i.length,l=0;l<a;l++)i[l](o)}}(e,n)}function u(e,t){if(e){var r=e;if("function"==typeof e)r=t(e);else if(Array.isArray(e)){r=[];for(var n=0;n<e.length;n++)r[n]=t(e[n])}return r}}e.exports=function(e,t,r){if(!(e&&e.on&&e.addListener&&e.removeListener&&e.emit))throw new Error("can only wrap real EEs");if(!t)throw new Error("must have function to run on listener addition");if(!r)throw new Error("must have function to wrap listeners when emitting");function n(e){return function(t,r){var i=l(this,t).slice();try{var s=e.call(this,t,r);return c(this,t,i),s}finally{this.on.__wrapped||o(this,"on",n),this.addListener.__wrapped||o(this,"addListener",n)}}}e[s]?"function"==typeof e[s]?a(e,s,[e[s],t]):Array.isArray(e[s])&&e[s].push(t):a(e,s,t),e.__wrapped||(o(e,"addListener",n),o(e,"on",n),o(e,"emit",(function(e){return function(t){if(!this._events||!this._events[t])return e.apply(this,arguments);var n=this._events[t];function s(e){return function(){this._events[t]=n;try{return e.apply(this,arguments)}finally{n=this._events[t],this._events[t]=u(n,r)}}}o(this,"removeListener",s);try{return this._events[t]=u(n,r),e.apply(this,arguments)}finally{i(this,"removeListener"),this._events[t]=n}}})),a(e,"__unwrap",(function(){i(e,"addListener"),i(e,"on"),i(e,"emit"),delete e[s],delete e.__wrapped})),a(e,"__wrapped",!0))}},function(e,t,r){"use strict";function n(e){return"function"==typeof e}var o=console.error.bind(console);function i(e,t,r){var n=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:n,writable:!0,value:r})}function s(e){e&&e.logger&&(n(e.logger)?o=e.logger:o("new logger isn't a function, not replacing"))}function a(e,t,r){if(e&&e[t]){if(!r)return o("no wrapper function"),void o((new Error).stack);if(n(e[t])&&n(r)){var s=e[t],a=r(s,t);return i(a,"__original",s),i(a,"__unwrap",(function(){e[t]===a&&i(e,t,s)})),i(a,"__wrapped",!0),i(e,t,a),a}o("original object and wrapper must be functions")}else o("no original function "+t+" to wrap")}function l(e,t){return e&&e[t]?e[t].__unwrap?e[t].__unwrap():void o("no original to unwrap to -- has "+t+" already been unwrapped?"):(o("no function to unwrap."),void o((new Error).stack))}s.wrap=a,s.massWrap=function(e,t,r){if(!e)return o("must provide one or more modules to patch"),void o((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){a(e,t,r)}))})):o("must provide one or more functions to wrap on modules")},s.unwrap=l,s.massUnwrap=function(e,t){if(!e)return o("must provide one or more modules to patch"),void o((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){l(e,t)}))})):o("must provide one or more functions to unwrap on modules")},e.exports=s},function(e,t){e.exports=require("zlib")},function(e,t,r){"use strict";var n=r(23),o=r(46),i=function(){function e(t,r,n){void 0===r&&(r=6e4),void 0===n&&(n=!1),this._lastIntervalRequestExecutionTime=0,this._lastIntervalDependencyExecutionTime=0,e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,this._client=t,this._collectionInterval=r,this._enableLiveMetricsCounters=n}return e.prototype.enable=function(t,r){var o=this;this._isEnabled=t,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),t?this._handle||(this._lastCpus=n.cpus(),this._lastRequests={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},this._lastDependencies={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},this._lastExceptions={totalExceptionCount:e._totalExceptionCount,time:+new Date},"function"==typeof process.cpuUsage&&(this._lastAppCpuUsage=process.cpuUsage()),this._lastHrtime=process.hrtime(),this._collectionInterval=r||this._collectionInterval,this._handle=setInterval((function(){return o.trackPerformance()}),this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},e.countRequest=function(t,r){var n;if(e.isEnabled()){if("string"==typeof t)n=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;n=t}e._intervalRequestExecutionTime+=n,!1===r&&e._totalFailedRequestCount++,e._totalRequestCount++}},e.countException=function(){e._totalExceptionCount++},e.countDependency=function(t,r){var n;if(e.isEnabled()){if("string"==typeof t)n=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;n=t}e._intervalDependencyExecutionTime+=n,!1===r&&e._totalFailedDependencyCount++,e._totalDependencyCount++}},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackPerformance=function(){this._trackCpu(),this._trackMemory(),this._trackNetwork(),this._trackDependencyRate(),this._trackExceptionRate()},e.prototype._trackCpu=function(){var e=n.cpus();if(e&&e.length&&this._lastCpus&&e.length===this._lastCpus.length){for(var t=0,r=0,i=0,s=0,a=0,l=0;e&&l<e.length;l++){var c=e[l],u=this._lastCpus[l],d=(c.model,c.speed,c.times),g=u.times;t+=d.user-g.user||0,r+=d.sys-g.sys||0,i+=d.nice-g.nice||0,s+=d.idle-g.idle||0,a+=d.irq-g.irq||0}var p=void 0;if("function"==typeof process.cpuUsage){var h=process.cpuUsage(),f=process.hrtime(),m=h.user-this._lastAppCpuUsage.user+(h.system-this._lastAppCpuUsage.system)||0;if(void 0!==this._lastHrtime&&2===this._lastHrtime.length)p=100*m/((1e6*(f[0]-this._lastHrtime[0])+(f[1]-this._lastHrtime[1])/1e3||0)*e.length);this._lastAppCpuUsage=h,this._lastHrtime=f}var y=t+r+i+s+a||1;this._client.trackMetric({name:o.PerformanceCounter.PROCESSOR_TIME,value:(y-s)/y*100}),this._client.trackMetric({name:o.PerformanceCounter.PROCESS_TIME,value:p||t/y*100})}this._lastCpus=e},e.prototype._trackMemory=function(){var e=n.freemem(),t=process.memoryUsage().rss,r=n.totalmem()-e;this._client.trackMetric({name:o.PerformanceCounter.PRIVATE_BYTES,value:t}),this._client.trackMetric({name:o.PerformanceCounter.AVAILABLE_BYTES,value:e}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:o.QuickPulseCounter.COMMITTED_BYTES,value:r})},e.prototype._trackNetwork=function(){var t=this._lastRequests,r={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},n=r.totalRequestCount-t.totalRequestCount||0,i=r.totalFailedRequestCount-t.totalFailedRequestCount||0,s=r.time-t.time,a=s/1e3,l=(e._intervalRequestExecutionTime-this._lastIntervalRequestExecutionTime)/n||0;if(this._lastIntervalRequestExecutionTime=e._intervalRequestExecutionTime,s>0){var c=n/a,u=i/a;this._client.trackMetric({name:o.PerformanceCounter.REQUEST_RATE,value:c}),(!this._enableLiveMetricsCounters||n>0)&&this._client.trackMetric({name:o.PerformanceCounter.REQUEST_DURATION,value:l}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:o.QuickPulseCounter.REQUEST_FAILURE_RATE,value:u})}this._lastRequests=r},e.prototype._trackDependencyRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastDependencies,r={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},n=r.totalDependencyCount-t.totalDependencyCount||0,i=r.totalFailedDependencyCount-t.totalFailedDependencyCount||0,s=r.time-t.time,a=s/1e3,l=(e._intervalDependencyExecutionTime-this._lastIntervalDependencyExecutionTime)/n||0;if(this._lastIntervalDependencyExecutionTime=e._intervalDependencyExecutionTime,s>0){var c=n/a,u=i/a;this._client.trackMetric({name:o.QuickPulseCounter.DEPENDENCY_RATE,value:c}),this._client.trackMetric({name:o.QuickPulseCounter.DEPENDENCY_FAILURE_RATE,value:u}),(!this._enableLiveMetricsCounters||n>0)&&this._client.trackMetric({name:o.QuickPulseCounter.DEPENDENCY_DURATION,value:l})}this._lastDependencies=r}},e.prototype._trackExceptionRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastExceptions,r={totalExceptionCount:e._totalExceptionCount,time:+new Date},n=r.totalExceptionCount-t.totalExceptionCount||0,i=r.time-t.time;if(i>0){var s=n/(i/1e3);this._client.trackMetric({name:o.QuickPulseCounter.EXCEPTION_RATE,value:s})}this._lastExceptions=r}},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e._totalRequestCount=0,e._totalFailedRequestCount=0,e._lastRequestExecutionTime=0,e._totalDependencyCount=0,e._totalFailedDependencyCount=0,e._lastDependencyExecutionTime=0,e._totalExceptionCount=0,e._intervalDependencyExecutionTime=0,e._intervalRequestExecutionTime=0,e}();e.exports=i},function(e,t,r){"use strict";var n=r(39),o=r(206),i=r(46),s=r(38),a=function(){function e(t){var r=this;this.endpointBase=i.DEFAULT_BREEZE_ENDPOINT;var n=process.env[e.ENV_connectionString],a=o.parse(t),l=o.parse(n),c=!a.instrumentationkey&&Object.keys(a).length>0?null:t;this.instrumentationKey=a.instrumentationkey||c||l.instrumentationkey||e._getInstrumentationKey(),this.endpointUrl=(a.ingestionendpoint||l.ingestionendpoint||this.endpointBase)+"/v2/track",this.maxBatchSize=250,this.maxBatchIntervalMs=15e3,this.disableAppInsights=!1,this.samplingPercentage=100,this.correlationIdRetryIntervalMs=3e4,this.correlationHeaderExcludedDomains=["*.core.windows.net","*.core.chinacloudapi.cn","*.core.cloudapi.de","*.core.usgovcloudapi.net","*.core.microsoft.scloud","*.core.eaglex.ic.gov"],this.setCorrelationId=function(e){return r.correlationId=e},this.proxyHttpUrl=process.env[e.ENV_http_proxy]||void 0,this.proxyHttpsUrl=process.env[e.ENV_https_proxy]||void 0,this.httpAgent=void 0,this.httpsAgent=void 0,this.profileQueryEndpoint=a.ingestionendpoint||l.ingestionendpoint||process.env[e.ENV_profileQueryEndpoint]||this.endpointBase,this._quickPulseHost=a.liveendpoint||l.liveendpoint||process.env[e.ENV_quickPulseHost]||i.DEFAULT_LIVEMETRICS_HOST,this._quickPulseHost.match(/^https?:\/\//)&&(this._quickPulseHost=s.parse(this._quickPulseHost).host)}return Object.defineProperty(e.prototype,"profileQueryEndpoint",{get:function(){return this._profileQueryEndpoint},set:function(e){n.cancelCorrelationIdQuery(this,this.setCorrelationId),this._profileQueryEndpoint=e,this.correlationId=n.correlationIdPrefix,n.queryCorrelationId(this,this.setCorrelationId)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"quickPulseHost",{get:function(){return this._quickPulseHost},set:function(e){this._quickPulseHost=e},enumerable:!0,configurable:!0}),e._getInstrumentationKey=function(){var t=process.env[e.ENV_iKey]||process.env[e.ENV_azurePrefix+e.ENV_iKey]||process.env[e.legacy_ENV_iKey]||process.env[e.ENV_azurePrefix+e.legacy_ENV_iKey];if(!t||""==t)throw new Error("Instrumentation key not found, pass the key in the config to this method or set the key in the environment variable APPINSIGHTS_INSTRUMENTATIONKEY before starting the server");return t},e.ENV_azurePrefix="APPSETTING_",e.ENV_iKey="APPINSIGHTS_INSTRUMENTATIONKEY",e.legacy_ENV_iKey="APPINSIGHTS_INSTRUMENTATION_KEY",e.ENV_profileQueryEndpoint="APPINSIGHTS_PROFILE_QUERY_ENDPOINT",e.ENV_quickPulseHost="APPINSIGHTS_QUICKPULSE_HOST",e.ENV_connectionString="APPLICATIONINSIGHTS_CONNECTION_STRING",e.ENV_nativeMetricsDisablers="APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC",e.ENV_nativeMetricsDisableAll="APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS",e.ENV_http_proxy="http_proxy",e.ENV_https_proxy="https_proxy",e}();e.exports=a},function(e,t,r){"use strict";var n=r(23),o=r(22),i=r(4),s=r(12),a=r(6),l=function(){function e(e){this.keys=new s.ContextTagKeys,this.tags={},this._loadApplicationContext(),this._loadDeviceContext(),this._loadInternalContext()}return e.prototype._loadApplicationContext=function(t){if(t=t||i.resolve(__dirname,"../../../../package.json"),!e.appVersion[t]){e.appVersion[t]="unknown";try{var r=JSON.parse(o.readFileSync(t,"utf8"));r&&"string"==typeof r.version&&(e.appVersion[t]=r.version)}catch(e){a.info("unable to read app version: ",e)}}this.tags[this.keys.applicationVersion]=e.appVersion[t]},e.prototype._loadDeviceContext=function(){this.tags[this.keys.deviceId]="",this.tags[this.keys.cloudRoleInstance]=n&&n.hostname(),this.tags[this.keys.deviceOSVersion]=n&&n.type()+" "+n.release(),this.tags[this.keys.cloudRole]=e.DefaultRoleName,this.tags["ai.device.osArchitecture"]=n&&n.arch(),this.tags["ai.device.osPlatform"]=n&&n.platform()},e.prototype._loadInternalContext=function(){var t=i.resolve(__dirname,"../../package.json");if(!e.sdkVersion){e.sdkVersion="unknown";try{var r=JSON.parse(o.readFileSync(t,"utf8"));r&&"string"==typeof r.version&&(e.sdkVersion=r.version)}catch(e){a.info("unable to read app version: ",e)}}this.tags[this.keys.internalSdkVersion]="node:"+e.sdkVersion},e.DefaultRoleName="Web",e.appVersion={},e.sdkVersion=null,e}();e.exports=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FilterStackFactory=t.FilterStack=void 0;class n{constructor(e){this.filters=e}sendMetadata(e){let t=e;for(let e=0;e<this.filters.length;e++)t=this.filters[e].sendMetadata(t);return t}receiveMetadata(e){let t=e;for(let e=this.filters.length-1;e>=0;e--)t=this.filters[e].receiveMetadata(t);return t}sendMessage(e){let t=e;for(let e=0;e<this.filters.length;e++)t=this.filters[e].sendMessage(t);return t}receiveMessage(e){let t=e;for(let e=this.filters.length-1;e>=0;e--)t=this.filters[e].receiveMessage(t);return t}receiveTrailers(e){let t=e;for(let e=this.filters.length-1;e>=0;e--)t=this.filters[e].receiveTrailers(t);return t}}t.FilterStack=n;t.FilterStackFactory=class{constructor(e){this.factories=e}createFilter(e){return new n(this.factories.map(t=>t.createFilter(e)))}}},function(e,t){e.exports=require("tls")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackoffTimeout=void 0;t.BackoffTimeout=class{constructor(e,t){this.callback=e,this.initialDelay=1e3,this.multiplier=1.6,this.maxDelay=12e4,this.jitter=.2,this.running=!1,this.hasRef=!0,t&&(t.initialDelay&&(this.initialDelay=t.initialDelay),t.multiplier&&(this.multiplier=t.multiplier),t.jitter&&(this.jitter=t.jitter),t.maxDelay&&(this.maxDelay=t.maxDelay)),this.nextDelay=this.initialDelay,this.timerId=setTimeout(()=>{},0),clearTimeout(this.timerId)}runOnce(){var e,t;this.running=!0,this.timerId=setTimeout(()=>{this.callback(),this.running=!1},this.nextDelay),this.hasRef||null===(t=(e=this.timerId).unref)||void 0===t||t.call(e);const r=Math.min(this.nextDelay*this.multiplier,this.maxDelay),n=r*this.jitter;var o,i;this.nextDelay=r+(o=-n,i=n,Math.random()*(i-o)+o)}stop(){clearTimeout(this.timerId),this.running=!1}reset(){this.nextDelay=this.initialDelay}isRunning(){return this.running}ref(){var e,t;this.hasRef=!0,null===(t=(e=this.timerId).ref)||void 0===t||t.call(e)}unref(){var e,t;this.hasRef=!1,null===(t=(e=this.timerId).unref)||void 0===t||t.call(e)}}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(273),t),o(r(274),t),o(r(275),t),o(r(276),t),o(r(277),t),o(r(278),t),o(r(279),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DependencyConfigurationTreeItem=void 0;const n=r(0);class o extends n.TreeItem{constructor(e,t,r,o=new n.ThemeIcon("folder-library")){super(e,t),this.parentTreeItem=r,this.iconPath=o,this.children=[]}setChildren(e){this.children=e}getChildren(){return this.children}}t.DependencyConfigurationTreeItem=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DependencyTreeItem=void 0;const n=r(0);class o extends n.TreeItem{constructor(e,t,r,o=new n.ThemeIcon("library")){super(e,t),this.parentTreeItem=r,this.iconPath=o}setChildren(e){this.children=e}getChildren(){return this.children}setOmittedTreeItem(e){this.omittedTreeItem=e}getOmittedTreeItem(){return this.omittedTreeItem}}t.DependencyTreeItem=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HintItem=void 0;const n=r(0);class o extends n.TreeItem{constructor(e){super("",n.TreeItemCollapsibleState.None),this.description=e}}t.HintItem=o},function(e,t){const r=/^[0-9]+$/,n=(e,t)=>{const n=r.test(e),o=r.test(t);return n&&o&&(e=+e,t=+t),e===t?0:n&&!o?-1:o&&!n?1:e<t?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},function(e,t,r){const n=r(16);e.exports=(e,t,r)=>0===n(e,t,r)},function(e,t,r){const n=r(9);e.exports=(e,t,r)=>{const o=new n(e,r),i=new n(t,r);return o.compare(i)||o.compareBuild(i)}},function(e,t,r){const n=r(16);e.exports=(e,t,r)=>n(e,t,r)<0},function(e,t,r){const n=r(16);e.exports=(e,t,r)=>n(e,t,r)>=0},function(e,t,r){const n=r(16);e.exports=(e,t,r)=>n(e,t,r)<=0},function(e,t,r){const n=r(9),o=r(62),{ANY:i}=o,s=r(17),a=r(63),l=r(61),c=r(84),u=r(86),d=r(85);e.exports=(e,t,r,g)=>{let p,h,f,m,y;switch(e=new n(e,g),t=new s(t,g),r){case">":p=l,h=u,f=c,m=">",y=">=";break;case"<":p=c,h=d,f=l,m="<",y="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,g))return!1;for(let r=0;r<t.set.length;++r){const n=t.set[r];let s=null,a=null;if(n.forEach(e=>{e.semver===i&&(e=new o(">=0.0.0")),s=s||e,a=a||e,p(e.semver,s.semver,g)?s=e:f(e.semver,a.semver,g)&&(a=e)}),s.operator===m||s.operator===y)return!1;if((!a.operator||a.operator===m)&&h(e,a.semver))return!1;if(a.operator===y&&f(e,a.semver))return!1}return!0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateUuid=t.parse=t.isUUID=t.v4=t.empty=void 0;class n{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}}class o extends n{constructor(){super([o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),"-",o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),"-","4",o._randomHex(),o._randomHex(),o._randomHex(),"-",o._oneOf(o._timeHighBits),o._randomHex(),o._randomHex(),o._randomHex(),"-",o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return o._oneOf(o._chars)}}function i(){return new o}o._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],o._timeHighBits=["8","9","a","b"],t.empty=new n("00000000-0000-0000-0000-000000000000"),t.v4=i;const s=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function a(e){return s.test(e)}t.isUUID=a,t.parse=function(e){if(!a(e))throw new Error("invalid uuid");return new n(e)},t.generateUuid=function(){return i().asHex()}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(22),i=r(153),s=r(0),a=r(156),l=r(219);let c,u=!1;const d={},g=[l.EventName.ERROR,l.EventName.OPERATION_END,l.EventName.OPERATION_STEP],p=["message","stack"];function h(e,t,r,n){if(c)throw new Error("TelemetryReporter already initialized.");if(r){const o=n&&n.firstParty;c=r instanceof Array?r.map(r=>new a.default(e,t,r,o)):[new a.default(e,t,r,o)]}u=!(!n||!n.debug)}function f(e,t,r){return(...o)=>n(this,void 0,void 0,(function*(){let n;const i=T(),s=Date.now();try{return y(i,e),yield t.apply(r,[i,...o])}catch(t){n=t,_(i,e,t)}finally{const t=Date.now()-s;v(i,e,t,n)}}))}function m(e,t,r){return f(e,(e,...o)=>n(this,void 0,void 0,(function*(){return yield t.apply(r,o)})),r)}function y(e,t){b({eventName:l.EventName.OPERATION_START,operationId:e,operationName:t})}function v(e,t,r,n){b(Object.assign({eventName:l.EventName.OPERATION_END,operationId:e,operationName:t,duration:r},S(n)))}function _(e,t,r){b(Object.assign({eventName:l.EventName.ERROR,operationId:e,operationName:t},S(r)))}function T(){return i()}function S(e){if(!e)return{errorCode:l.ErrorCodes.NO_ERROR};const t=e;return{errorCode:t.errorCode||l.ErrorCodes.GENERAL_ERROR,errorType:t.isUserError?l.ErrorType.USER_ERROR:l.ErrorType.SYSTEM_ERROR,message:e.message,stack:e.stack}}function b(e){if(!c)return;const t={};for(const r of l.DimensionEntries){const n=e[r];void 0!==n&&(t[r]=String(n))}const r={};for(const t of l.MeasurementEntries){const n=e[t];void 0!==n&&(r[t]=n)}E(e.eventName,t,r)}function E(e,t,r){t=Object.assign(Object.assign({},d),t),e in g?c.forEach(n=>{n.sendTelemetryErrorEvent(e,t,r,p)}):c.forEach(n=>{n.sendTelemetryEvent(e,t,r)}),u&&console.log(e,{eventName:e,dimensions:t,measurements:r})}t.initializeFromJsonFile=function(e,t){return n(this,void 0,void 0,(function*(){return new Promise((r,n)=>{o.exists(e,i=>{if(i){const{publisher:n,name:i,version:s,aiKey:a}=JSON.parse(o.readFileSync(e,"utf-8"));return h(`${n}.${i}`,s,a,t),r()}return n(new Error(`The Json file '${e}' does not exist.`))})})}))},t.initialize=h,t.setUserError=function(e){e.isUserError=!0},t.setErrorCode=function(e,t){e.errorCode=t},t.instrumentOperation=f,t.instrumentSimpleOperation=m,t.instrumentOperationAsVsCodeCommand=function(e,t,r){return s.commands.registerCommand(e,m(e,t,r))},t.sendOperationStart=y,t.sendOperationEnd=v,t.sendError=function(e){b(Object.assign({eventName:l.EventName.ERROR},S(e)))},t.sendOperationError=_,t.sendInfo=function(e,t,r){let n,o;if(r)n=t,o=r;else{n={},o={};for(const e in t)"string"==typeof t[e]?n[e]=t[e]:"number"==typeof t[e]&&(o[e]=t[e])}E(l.EventName.INFO,Object.assign(Object.assign({},n),{operationId:e}),o)},t.instrumentOperationStep=function(e,t,r){return(...o)=>n(this,void 0,void 0,(function*(){let n;const i=Date.now();try{return yield r(...o)}catch(e){throw n=e,e}finally{b(Object.assign({eventName:l.EventName.OPERATION_STEP,operationId:e,stepName:t,duration:Date.now()-i},S(n)))}}))},t.createUuid=T,t.dispose=function(){return n(this,void 0,void 0,(function*(){if(c)return yield Promise.all(c.map(e=>e.dispose()))}))},t.addContextProperty=function(e,t){d[e]=t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4),o=r(66),i=r(91),s=Object.keys(process.binding("natives")),a=i.prototype.require;t.makePatchingRequire=function(e){var t={};return function(r){var l=a.apply(this,arguments);if(e[r]){var c=i._resolveFilename(r,this);if(t.hasOwnProperty(c))return t[c];var u=void 0;if(s.indexOf(r)<0)try{u=a.call(this,n.join(r,"package.json")).version}catch(e){return l}else u=process.version.substring(1);var d=u.indexOf("-");d>=0&&(u=u.substring(0,d));for(var g=l,p=0,h=e[r];p<h.length;p++){var f=h[p];o.satisfies(u,f.versionSpecifier)&&(g=f.patch(g,c))}return t[c]=g}return l}}},function(e,t){e.exports=require("module")},function(e,t){e.exports=require("timers")},function(e){e.exports=JSON.parse('{"_args":[["async-hook-jl@1.7.6","/home/vsts/work/1/s/extension"]],"_from":"async-hook-jl@1.7.6","_id":"async-hook-jl@1.7.6","_inBundle":false,"_integrity":"sha512-gFaHkFfSxTjvoxDMYqDuGHlcRyUuamF8s+ZTtJdDzqjws4mCt7v0vuV79/E2Wr2/riMQgtG4/yUtXWs1gZ7JMg==","_location":"/async-hook-jl","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"async-hook-jl@1.7.6","name":"async-hook-jl","escapedName":"async-hook-jl","rawSpec":"1.7.6","saveSpec":null,"fetchSpec":"1.7.6"},"_requiredBy":["/cls-hooked"],"_resolved":"https://registry.npmjs.org/async-hook-jl/-/async-hook-jl-1.7.6.tgz","_spec":"1.7.6","_where":"/home/vsts/work/1/s/extension","author":{"name":"Andreas Madsen","email":"amwebdk@gmail.com"},"bugs":{"url":"https://github.com/jeff-lewis/async-hook-jl/issues"},"dependencies":{"stack-chain":"^1.3.7"},"description":"Inspect the life of handle objects in node","devDependencies":{"async":"1.5.x","cli-color":"1.1.x","endpoint":"0.4.x","eslint":"^3.4.0"},"engines":{"node":"^4.7 || >=6.9 || >=7.3"},"homepage":"https://github.com/jeff-lewis/async-hook-jl#readme","keywords":["async","async hooks","inspect","async wrap"],"license":"MIT","main":"./index.js","name":"async-hook-jl","repository":{"type":"git","url":"git://github.com/jeff-lewis/async-hook-jl.git"},"scripts":{"test":"node ./test/runner.js && eslint ."},"version":"1.7.6"}')},function(e,t,r){if(global._stackChain){if(global._stackChain.version!==r(95).version)throw new Error("Conflicting version of stack-chain found");e.exports=global._stackChain}else e.exports=global._stackChain=r(169)},function(e){e.exports=JSON.parse('{"_args":[["stack-chain@1.3.7","/home/vsts/work/1/s/extension"]],"_from":"stack-chain@1.3.7","_id":"stack-chain@1.3.7","_inBundle":false,"_integrity":"sha1-0ZLJ/06moiyUxN1FkXHj8AzqEoU=","_location":"/stack-chain","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"stack-chain@1.3.7","name":"stack-chain","escapedName":"stack-chain","rawSpec":"1.3.7","saveSpec":null,"fetchSpec":"1.3.7"},"_requiredBy":["/async-hook-jl"],"_resolved":"https://registry.npmjs.org/stack-chain/-/stack-chain-1.3.7.tgz","_spec":"1.3.7","_where":"/home/vsts/work/1/s/extension","author":{"name":"Andreas Madsen","email":"amwebdk@gmail.com"},"bugs":{"url":"https://github.com/AndreasMadsen/stack-chain/issues"},"description":"API for combining call site modifiers","devDependencies":{"tap":"2.x.x","uglify-js":"2.5.x"},"homepage":"https://github.com/AndreasMadsen/stack-chain#readme","keywords":["stack","chain","trace","call site","concat","format"],"license":"MIT","name":"stack-chain","repository":{"type":"git","url":"git://github.com/AndreasMadsen/stack-chain.git"},"scripts":{"test":"tap ./test/simple"},"version":"1.3.7"}')},function(e,t){e.exports=require("dns")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AvailabilityData=r(178),t.Base=r(98),t.ContextTagKeys=r(179),t.Data=r(180),t.DataPoint=r(181),t.DataPointType=r(99),t.Domain=r(26),t.Envelope=r(182),t.EventData=r(100),t.ExceptionData=r(183),t.ExceptionDetails=r(184),t.MessageData=r(185),t.MetricData=r(186),t.PageViewData=r(187),t.RemoteDependencyData=r(188),t.RequestData=r(189),t.SeverityLevel=r(190),t.StackFrame=r(191)},function(e,t,r){"use strict";var n=function(){};e.exports=n},function(e,t,r){"use strict";var n;!function(e){e[e.Measurement=0]="Measurement",e[e.Aggregation=1]="Aggregation"}(n||(n={})),e.exports=n},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return o(t,e),t}(r(26));e.exports=i},function(e,t,r){"use strict";var n=function(){function e(){}return e.prototype.getUrl=function(){return this.url},e.prototype.RequestParser=function(){this.startTime=+new Date},e.prototype._setStatus=function(e,t){var r=+new Date;this.duration=r-this.startTime,this.statusCode=e;var n=this.properties||{};if(t)if("string"==typeof t)n.error=t;else if(t instanceof Error)n.error=t.message;else if("object"==typeof t)for(var o in t)n[o]=t[o]&&t[o].toString&&t[o].toString();this.properties=n},e.prototype._isSuccess=function(){return 0<this.statusCode&&this.statusCode<400},e}();e.exports=n},function(e,t,r){"use strict";var n=r(18),o=r(39),i=function(){function e(t,r){if(this.traceFlag=e.DEFAULT_TRACE_FLAG,this.version=e.DEFAULT_VERSION,t&&"string"==typeof t)if(t.split(",").length>1)this.traceId=n.w3cTraceId(),this.spanId=n.w3cTraceId().substr(0,16);else{var i=t.trim().split("-"),s=i.length;s>=4?(this.version=i[0],this.traceId=i[1],this.spanId=i[2],this.traceFlag=i[3]):(this.traceId=n.w3cTraceId(),this.spanId=n.w3cTraceId().substr(0,16)),this.version.match(/^[0-9a-f]{2}$/g)||(this.version=e.DEFAULT_VERSION,this.traceId=n.w3cTraceId()),"00"===this.version&&4!==s&&(this.traceId=n.w3cTraceId(),this.spanId=n.w3cTraceId().substr(0,16)),"ff"===this.version&&(this.version=e.DEFAULT_VERSION,this.traceId=n.w3cTraceId(),this.spanId=n.w3cTraceId().substr(0,16)),this.version.match(/^0[0-9a-f]$/g)||(this.version=e.DEFAULT_VERSION),this.traceFlag.match(/^[0-9a-f]{2}$/g)||(this.traceFlag=e.DEFAULT_TRACE_FLAG,this.traceId=n.w3cTraceId()),e.isValidTraceId(this.traceId)||(this.traceId=n.w3cTraceId()),e.isValidSpanId(this.spanId)||(this.spanId=n.w3cTraceId().substr(0,16),this.traceId=n.w3cTraceId()),this.parentId=this.getBackCompatRequestId()}else if(r){this.parentId=r.slice();var a=o.getRootId(r);e.isValidTraceId(a)||(this.legacyRootId=a,a=n.w3cTraceId()),-1!==r.indexOf("|")&&(r=r.substring(1+r.substring(0,r.length-1).lastIndexOf("."),r.length-1)),this.traceId=a,this.spanId=r}else this.traceId=n.w3cTraceId(),this.spanId=n.w3cTraceId().substr(0,16)}return e.isValidTraceId=function(e){return e.match(/^[0-9a-f]{32}$/)&&"00000000000000000000000000000000"!==e},e.isValidSpanId=function(e){return e.match(/^[0-9a-f]{16}$/)&&"0000000000000000"!==e},e.prototype.getBackCompatRequestId=function(){return"|"+this.traceId+"."+this.spanId+"."},e.prototype.toString=function(){return this.version+"-"+this.traceId+"-"+this.spanId+"-"+this.traceFlag},e.prototype.updateSpanId=function(){this.spanId=n.w3cTraceId().substr(0,16)},e.DEFAULT_TRACE_FLAG="01",e.DEFAULT_VERSION="00",e}();e.exports=i},function(e,t,r){"use strict";var n=r(45),o=r(55),i=r(6),s=r(18),a=r(47),l=r(203),c=r(44),u=r(71),d=function(){function e(t){if(e.INSTANCE)throw new Error("Server request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return e.prototype.enable=function(e){this._isEnabled=e,(this._isAutoCorrelating||this._isEnabled||u.isEnabled())&&!this._isInitialized&&(this.useAutoCorrelation(this._isAutoCorrelating),this._initialize())},e.prototype.useAutoCorrelation=function(e,t){e&&!this._isAutoCorrelating?c.CorrelationContextManager.enable(t):!e&&this._isAutoCorrelating&&c.CorrelationContextManager.disable(),this._isAutoCorrelating=e},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.isAutoCorrelating=function(){return this._isAutoCorrelating},e.prototype._generateCorrelationContext=function(e){if(this._isAutoCorrelating)return c.CorrelationContextManager.generateContextObject(e.getOperationId(this._client.context.tags),e.getRequestId(),e.getOperationName(this._client.context.tags),e.getCorrelationContextHeader(),e.getTraceparent(),e.getTracestate())},e.prototype._initialize=function(){var t=this;this._isInitialized=!0;var r=function(r){if(r){if("function"!=typeof r)throw new Error("onRequest handler must be a function");return function(n,o){c.CorrelationContextManager.wrapEmitter(n),c.CorrelationContextManager.wrapEmitter(o);var i=n&&!n[e.alreadyAutoCollectedFlag];if(n&&i){var s=new l(n),a=t._generateCorrelationContext(s);c.CorrelationContextManager.runWithContext(a,(function(){t._isEnabled&&(n[e.alreadyAutoCollectedFlag]=!0,e.trackRequest(t._client,{request:n,response:o},s)),"function"==typeof r&&r(n,o)}))}else"function"==typeof r&&r(n,o)}}},i=function(e){var t=e.addListener.bind(e);e.addListener=function(e,n){switch(e){case"request":case"checkContinue":return t(e,r(n));default:return t(e,n)}},e.on=e.addListener},s=n.createServer;n.createServer=function(e){var t=s(r(e));return i(t),t};var a=o.createServer;o.createServer=function(e,t){var n=a(e,r(t));return i(n),n}},e.trackRequestSync=function(t,r){if(r.request&&r.response&&t){e.addResponseCorrelationIdHeader(t,r.response);var n=c.CorrelationContextManager.getCurrentContext(),o=new l(r.request,n&&n.operation.parentId);n&&(n.operation.id=o.getOperationId(t.context.tags)||n.operation.id,n.operation.name=o.getOperationName(t.context.tags)||n.operation.name,n.operation.parentId=o.getRequestId()||n.operation.parentId,n.customProperties.addHeaderData(o.getCorrelationContextHeader())),e.endRequest(t,o,r,r.duration,r.error)}else i.info("AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: ",!r.request,!r.response,!t)},e.trackRequest=function(t,r,n){if(r.request&&r.response&&t){var o=c.CorrelationContextManager.getCurrentContext(),a=n||new l(r.request,o&&o.operation.parentId);s.canIncludeCorrelationHeader(t,a.getUrl())&&e.addResponseCorrelationIdHeader(t,r.response),o&&!n&&(o.operation.id=a.getOperationId(t.context.tags)||o.operation.id,o.operation.name=a.getOperationName(t.context.tags)||o.operation.name,o.operation.parentId=a.getOperationParentId(t.context.tags)||o.operation.parentId,o.customProperties.addHeaderData(a.getCorrelationContextHeader())),r.response.once&&r.response.once("finish",(function(){e.endRequest(t,a,r,null,null)})),r.request.on&&r.request.on("error",(function(n){e.endRequest(t,a,r,null,n)}))}else i.info("AutoCollectHttpRequests.trackRequest was called with invalid parameters: ",!r.request,!r.response,!t)},e.addResponseCorrelationIdHeader=function(e,t){if(e.config&&e.config.correlationId&&t.getHeader&&t.setHeader&&!t.headersSent){var r=t.getHeader(a.requestContextHeader);s.safeIncludeCorrelationHeader(e,t,r)}},e.endRequest=function(e,t,r,n,o){o?t.onError(o,n):t.onResponse(r.response,n);var i=t.getRequestTelemetry(r);if(i.tagOverrides=t.getRequestTags(e.context.tags),r.tagOverrides)for(var s in r.tagOverrides)i.tagOverrides[s]=r.tagOverrides[s];var a=t.getLegacyRootId();a&&(i.properties.ai_legacyRootId=a),i.contextObjects=i.contextObjects||{},i.contextObjects["http.ServerRequest"]=r.request,i.contextObjects["http.ServerResponse"]=r.response,e.trackRequest(i)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1,c.CorrelationContextManager.disable(),this._isAutoCorrelating=!1},e.alreadyAutoCollectedFlag="_appInsightsAutoCollected",e}();e.exports=d},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogVerbosity=void 0,function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR"}(n=t.LogVerbosity||(t.LogVerbosity={}));class o{constructor(e){this.prefix=e}static setLogVerbosity(e){o.verbosity=e}log(e,t){if(!this.channel)throw new Error("No extension output channel defined.");this.appendLine(this.format(e,t),t)}appendLine(e,t){var r;t>=o.verbosity&&(null===(r=this.channel)||void 0===r||r.appendLine(e))}append(e,t){var r;t>=o.verbosity&&(null===(r=this.channel)||void 0===r||r.append(e))}format(e,t){return`[${n[t].toLowerCase()}]${this.prefix?` [${this.prefix}]`:""} ${e}`}info(...e){this.log(e.join(" "),n.INFO)}warn(...e){this.log(e.join(" "),n.WARN)}error(...e){this.log(e.join(" "),n.ERROR)}debug(...e){this.log(e.join(" "),n.DEBUG)}getChannel(){return this.channel}setLoggingChannel(e){if(this.channel)throw new Error("Output channel already defined.");this.channel=e}reset(){this.channel=void 0}}t.Logger=o,o.verbosity=n.INFO},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallCredentials=void 0;const n=r(14);class o{static createFromMetadataGenerator(e){return new s(e)}static createFromGoogleCredential(e){return o.createFromMetadataGenerator((t,r)=>{let o;var i;o="getRequestHeaders"in(i=e)&&"function"==typeof i.getRequestHeaders?e.getRequestHeaders(t.service_url):new Promise((r,n)=>{e.getRequestMetadata(t.service_url,(e,t)=>{e?n(e):r(t)})}),o.then(e=>{const t=new n.Metadata;for(const r of Object.keys(e))t.add(r,e[r]);r(null,t)},e=>{r(e)})})}static createEmpty(){return new a}}t.CallCredentials=o;class i extends o{constructor(e){super(),this.creds=e}async generateMetadata(e){const t=new n.Metadata,r=await Promise.all(this.creds.map(t=>t.generateMetadata(e)));for(const e of r)t.merge(e);return t}compose(e){return new i(this.creds.concat([e]))}_equals(e){return this===e||e instanceof i&&this.creds.every((t,r)=>t._equals(e.creds[r]))}}class s extends o{constructor(e){super(),this.metadataGenerator=e}generateMetadata(e){return new Promise((t,r)=>{this.metadataGenerator(e,(e,n)=>{void 0!==n?t(n):r(e)})})}compose(e){return new i([this,e])}_equals(e){return this===e||e instanceof s&&this.metadataGenerator===e.metadataGenerator}}class a extends o{generateMetadata(e){return Promise.resolve(new n.Metadata)}compose(e){return e}_equals(e){return e instanceof a}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Http2CallStream=t.InterceptingListenerImpl=t.isInterceptingListener=void 0;const n=r(57),o=r(23),i=r(2),s=r(74),a=r(14),l=r(107),c=r(8),u=r(2),{HTTP2_HEADER_STATUS:d,HTTP2_HEADER_CONTENT_TYPE:g,NGHTTP2_CANCEL:p}=n.constants;t.isInterceptingListener=function(e){return void 0!==e.onReceiveMetadata&&1===e.onReceiveMetadata.length};t.InterceptingListenerImpl=class{constructor(e,t){this.listener=e,this.nextListener=t,this.processingMessage=!1,this.pendingStatus=null}onReceiveMetadata(e){this.listener.onReceiveMetadata(e,e=>{this.nextListener.onReceiveMetadata(e)})}onReceiveMessage(e){this.processingMessage=!0,this.listener.onReceiveMessage(e,e=>{this.processingMessage=!1,this.nextListener.onReceiveMessage(e),this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus)})}onReceiveStatus(e){this.listener.onReceiveStatus(e,e=>{this.processingMessage?this.pendingStatus=e:this.nextListener.onReceiveStatus(e)})}};t.Http2CallStream=class{constructor(e,t,r,n,o,s){this.methodName=e,this.channel=t,this.options=r,this.channelCallCredentials=o,this.callNumber=s,this.http2Stream=null,this.pendingRead=!1,this.isWriteFilterPending=!1,this.pendingWrite=null,this.pendingWriteCallback=null,this.writesClosed=!1,this.decoder=new l.StreamDecoder,this.isReadFilterPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.unfilteredReadMessages=[],this.mappedStatusCode=i.Status.UNKNOWN,this.finalStatus=null,this.subchannel=null,this.listener=null,this.internalError=null,this.filterStack=n.createFilter(this),this.credentials=o,this.disconnectListener=()=>{this.endCall({code:i.Status.UNAVAILABLE,details:"Connection dropped",metadata:new a.Metadata})},this.options.parentCall&&this.options.flags&i.Propagate.CANCELLATION&&this.options.parentCall.on("cancelled",()=>{this.cancelWithStatus(i.Status.CANCELLED,"Cancelled by parent call")})}outputStatus(){if(!this.statusOutput){this.statusOutput=!0;const e=this.filterStack.receiveTrailers(this.finalStatus);process.nextTick(()=>{var t;null===(t=this.listener)||void 0===t||t.onReceiveStatus(e)}),this.subchannel&&(this.subchannel.callUnref(),this.subchannel.removeDisconnectListener(this.disconnectListener))}}trace(e){c.trace(u.LogVerbosity.DEBUG,"call_stream","["+this.callNumber+"] "+e)}endCall(e){null!==this.finalStatus&&this.finalStatus.code!==i.Status.OK||(this.trace("ended with status: code="+e.code+' details="'+e.details+'"'),this.finalStatus=e,this.maybeOutputStatus()),this.destroyHttp2Stream()}maybeOutputStatus(){null!==this.finalStatus&&(this.finalStatus.code!==i.Status.OK||this.readsClosed&&0===this.unpushedReadMessages.length&&0===this.unfilteredReadMessages.length&&!this.isReadFilterPending)&&this.outputStatus()}push(e){this.trace("pushing to reader message of length "+(e instanceof Buffer?e.length:null)),this.canPush=!1,process.nextTick(()=>{var t;this.statusOutput||(null===(t=this.listener)||void 0===t||t.onReceiveMessage(e),this.maybeOutputStatus())})}handleFilterError(e){this.cancelWithStatus(i.Status.INTERNAL,e.message)}handleFilteredRead(e){if(null===this.finalStatus||this.finalStatus.code===i.Status.OK){if(this.isReadFilterPending=!1,this.canPush?(this.http2Stream.pause(),this.push(e)):(this.trace("unpushedReadMessages.push message of length "+e.length),this.unpushedReadMessages.push(e)),this.unfilteredReadMessages.length>0){const e=this.unfilteredReadMessages.shift();this.filterReceivedMessage(e)}}else this.maybeOutputStatus()}filterReceivedMessage(e){null===this.finalStatus||this.finalStatus.code===i.Status.OK?(this.trace("filterReceivedMessage of length "+e.length),this.isReadFilterPending=!0,this.filterStack.receiveMessage(Promise.resolve(e)).then(this.handleFilteredRead.bind(this),this.handleFilterError.bind(this))):this.maybeOutputStatus()}tryPush(e){this.isReadFilterPending?(this.trace("unfilteredReadMessages.push message of length "+(e&&e.length)),this.unfilteredReadMessages.push(e)):this.filterReceivedMessage(e)}handleTrailers(e){let t,r="";for(const t of Object.keys(e))r+="\t\t"+t+": "+e[t]+"\n";this.trace("Received server trailers:\n"+r);try{t=a.Metadata.fromHttp2Headers(e)}catch(e){t=new a.Metadata}const n=t.getMap();let o=this.mappedStatusCode;if(o===i.Status.UNKNOWN&&"string"==typeof n["grpc-status"]){const e=Number(n["grpc-status"]);e in i.Status&&(o=e,this.trace("received status code "+e+" from server")),t.remove("grpc-status")}let s="";"string"==typeof n["grpc-message"]&&(s=decodeURI(n["grpc-message"]),t.remove("grpc-message"),this.trace('received status details string "'+s+'" from server'));const l={code:o,details:s,metadata:t};this.endCall(l)}attachHttp2Stream(e,t,r){if(void 0!==r&&(this.filterStack=new s.FilterStack([this.filterStack,r.createFilter(this)])),null!==this.finalStatus)e.close(p);else{if(this.trace("attachHttp2Stream from subchannel "+t.getAddress()),this.http2Stream=e,this.subchannel=t,t.addDisconnectListener(this.disconnectListener),t.callRef(),e.on("response",(e,t)=>{var r;let o="";for(const t of Object.keys(e))o+="\t\t"+t+": "+e[t]+"\n";switch(this.trace("Received server headers:\n"+o),e[":status"]){case 400:this.mappedStatusCode=i.Status.INTERNAL;break;case 401:this.mappedStatusCode=i.Status.UNAUTHENTICATED;break;case 403:this.mappedStatusCode=i.Status.PERMISSION_DENIED;break;case 404:this.mappedStatusCode=i.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:this.mappedStatusCode=i.Status.UNAVAILABLE;break;default:this.mappedStatusCode=i.Status.UNKNOWN}if(t&n.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(e);else{let t;try{t=a.Metadata.fromHttp2Headers(e)}catch(e){return void this.endCall({code:i.Status.UNKNOWN,details:e.message,metadata:new a.Metadata})}try{const e=this.filterStack.receiveMetadata(t);null===(r=this.listener)||void 0===r||r.onReceiveMetadata(e)}catch(e){this.endCall({code:i.Status.UNKNOWN,details:e.message,metadata:new a.Metadata})}}}),e.on("trailers",this.handleTrailers.bind(this)),e.on("data",e=>{this.trace("receive HTTP/2 data frame of length "+e.length);const t=this.decoder.write(e);for(const e of t)this.trace("parsed message of length "+e.length),this.tryPush(e)}),e.on("end",()=>{this.readsClosed=!0,this.maybeOutputStatus()}),e.on("close",()=>{process.nextTick(()=>{var t;if(this.trace("HTTP/2 stream closed with code "+e.rstCode),(null===(t=this.finalStatus)||void 0===t?void 0:t.code)===i.Status.OK)return;let r,o="";switch(e.rstCode){case n.constants.NGHTTP2_NO_ERROR:if(null!==this.finalStatus)return;r=i.Status.INTERNAL,o="Received RST_STREAM with code "+e.rstCode;break;case n.constants.NGHTTP2_REFUSED_STREAM:r=i.Status.UNAVAILABLE,o="Stream refused by server";break;case n.constants.NGHTTP2_CANCEL:r=i.Status.CANCELLED,o="Call cancelled";break;case n.constants.NGHTTP2_ENHANCE_YOUR_CALM:r=i.Status.RESOURCE_EXHAUSTED,o="Bandwidth exhausted";break;case n.constants.NGHTTP2_INADEQUATE_SECURITY:r=i.Status.PERMISSION_DENIED,o="Protocol not secure enough";break;case n.constants.NGHTTP2_INTERNAL_ERROR:r=i.Status.INTERNAL,null===this.internalError?o=`Received RST_STREAM with code ${e.rstCode} (Internal server error)`:"ECONNRESET"===this.internalError.code?(r=i.Status.UNAVAILABLE,o=this.internalError.message):o=`Received RST_STREAM with code ${e.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:r=i.Status.INTERNAL,o="Received RST_STREAM with code "+e.rstCode}this.endCall({code:r,details:o,metadata:new a.Metadata})})}),e.on("error",e=>{"ERR_HTTP2_STREAM_ERROR"!==e.code&&(this.trace("Node error event: message="+e.message+" code="+e.code+" errno="+function(e){for(const[t,r]of Object.entries(o.constants.errno))if(r===e)return t;return"Unknown system error "+e}(e.errno)+" syscall="+e.syscall),this.internalError=e)}),this.pendingRead||e.pause(),this.pendingWrite){if(!this.pendingWriteCallback)throw new Error("Invalid state in write handling code");this.trace("sending data chunk of length "+this.pendingWrite.length+" (deferred)");try{e.write(this.pendingWrite,this.pendingWriteCallback)}catch(e){this.endCall({code:i.Status.UNAVAILABLE,details:"Write failed with error "+e.message,metadata:new a.Metadata})}}this.maybeCloseWrites()}}start(e,t){this.trace("Sending metadata"),this.listener=t,this.channel._startCallStream(this,e)}destroyHttp2Stream(){var e;if(null!==this.http2Stream&&!this.http2Stream.destroyed){let t;t=(null===(e=this.finalStatus)||void 0===e?void 0:e.code)===i.Status.OK?n.constants.NGHTTP2_NO_ERROR:n.constants.NGHTTP2_CANCEL,this.trace("close http2 stream with code "+t),this.http2Stream.close(t)}}cancelWithStatus(e,t){this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),this.endCall({code:e,details:t,metadata:new a.Metadata})}getDeadline(){if(this.options.parentCall&&this.options.flags&i.Propagate.DEADLINE){const e=this.options.parentCall.getDeadline(),t=this.options.deadline,r=e instanceof Date?e.getTime():e,n=t instanceof Date?t.getTime():t;return Math.min(r,n)}return this.options.deadline}getCredentials(){return this.credentials}setCredentials(e){this.credentials=this.channelCallCredentials.compose(e)}getStatus(){return this.finalStatus}getPeer(){var e,t;return null!==(t=null===(e=this.subchannel)||void 0===e?void 0:e.getAddress())&&void 0!==t?t:this.channel.getTarget()}getMethod(){return this.methodName}getHost(){return this.options.host}startRead(){if(null!==this.finalStatus&&this.finalStatus.code!==i.Status.OK)return this.readsClosed=!0,void this.maybeOutputStatus();if(this.canPush=!0,null===this.http2Stream)this.pendingRead=!0;else{if(this.unpushedReadMessages.length>0){const e=this.unpushedReadMessages.shift();return void this.push(e)}this.http2Stream.resume()}}maybeCloseWrites(){this.writesClosed&&!this.isWriteFilterPending&&null!==this.http2Stream&&(this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end())}sendMessageWithContext(e,t){var r;this.trace("write() called with message of length "+t.length);const n={message:t,flags:e.flags},o=null!==(r=e.callback)&&void 0!==r?r:()=>{};this.isWriteFilterPending=!0,this.filterStack.sendMessage(Promise.resolve(n)).then(e=>{if(this.isWriteFilterPending=!1,null===this.http2Stream)this.trace("deferring writing data chunk of length "+e.message.length),this.pendingWrite=e.message,this.pendingWriteCallback=o;else{this.trace("sending data chunk of length "+e.message.length);try{this.http2Stream.write(e.message,o)}catch(e){this.endCall({code:i.Status.UNAVAILABLE,details:"Write failed with error "+e.message,metadata:new a.Metadata})}this.maybeCloseWrites()}},this.handleFilterError.bind(this))}halfClose(){this.trace("end() called"),this.writesClosed=!0,this.maybeCloseWrites()}}},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.StreamDecoder=void 0,function(e){e[e.NO_DATA=0]="NO_DATA",e[e.READING_SIZE=1]="READING_SIZE",e[e.READING_MESSAGE=2]="READING_MESSAGE"}(n||(n={}));t.StreamDecoder=class{constructor(){this.readState=n.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(e){let t,r=0;const o=[];for(;r<e.length;)switch(this.readState){case n.NO_DATA:this.readCompressFlag=e.slice(r,r+1),r+=1,this.readState=n.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case n.READING_SIZE:if(t=Math.min(e.length-r,this.readSizeRemaining),e.copy(this.readPartialSize,4-this.readSizeRemaining,r,r+t),this.readSizeRemaining-=t,r+=t,0===this.readSizeRemaining)if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=n.READING_MESSAGE;else{const e=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=n.NO_DATA,o.push(e)}break;case n.READING_MESSAGE:if(t=Math.min(e.length-r,this.readMessageRemaining),this.readPartialMessage.push(e.slice(r,r+t)),this.readMessageRemaining-=t,r+=t,0===this.readMessageRemaining){const e=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),t=Buffer.concat(e,this.readMessageSize+5);this.readState=n.NO_DATA,o.push(t)}break;default:throw new Error("Unexpected read state")}return o}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelCredentials=void 0;const n=r(75),o=r(105),i=r(109);function s(e,t){if(e&&!(e instanceof Buffer))throw new TypeError(t+", if provided, must be a Buffer.")}function a(e,t){return null===e&&null===t||null!==e&&null!==t&&e.equals(t)}class l{constructor(e){this.callCredentials=e||o.CallCredentials.createEmpty()}_getCallCredentials(){return this.callCredentials}static createSsl(e,t,r,n){if(s(e,"Root certificate"),s(t,"Private key"),s(r,"Certificate chain"),t&&!r)throw new Error("Private key must be given with accompanying certificate chain");if(!t&&r)throw new Error("Certificate chain must be given with accompanying private key");return new u(e||i.getDefaultRootsData(),t||null,r||null,n||{})}static createInsecure(){return new c}}t.ChannelCredentials=l;class c extends l{constructor(e){super(e)}compose(e){throw new Error("Cannot compose insecure credentials")}_getConnectionOptions(){return null}_isSecure(){return!1}_equals(e){return e instanceof c}}class u extends l{constructor(e,t,r,o){super(),this.rootCerts=e,this.privateKey=t,this.certChain=r,this.verifyOptions=o;const s=n.createSecureContext({ca:e||void 0,key:t||void 0,cert:r||void 0,ciphers:i.CIPHER_SUITES});this.connectionOptions={secureContext:s},o&&o.checkServerIdentity&&(this.connectionOptions.checkServerIdentity=(e,t)=>o.checkServerIdentity(e,{raw:t.raw}))}compose(e){const t=this.callCredentials.compose(e);return new d(this,t)}_getConnectionOptions(){return Object.assign({},this.connectionOptions)}_isSecure(){return!0}_equals(e){return this===e||e instanceof u&&(!!a(this.rootCerts,e.rootCerts)&&(!!a(this.privateKey,e.privateKey)&&(!!a(this.certChain,e.certChain)&&this.verifyOptions.checkServerIdentity===e.verifyOptions.checkServerIdentity)))}}class d extends l{constructor(e,t){super(t),this.channelCredentials=e}compose(e){const t=this.callCredentials.compose(e);return new d(this.channelCredentials,t)}_getConnectionOptions(){return this.channelCredentials._getConnectionOptions()}_isSecure(){return!0}_equals(e){return this===e||e instanceof d&&(this.channelCredentials._equals(e.channelCredentials)&&this.callCredentials._equals(e.callCredentials))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultRootsData=t.CIPHER_SUITES=void 0;const n=r(22);t.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;const o=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH;let i=null;t.getDefaultRootsData=function(){return o?(null===i&&(i=n.readFileSync(o)),i):null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractAndSelectServiceConfig=t.validateServiceConfig=void 0;const n=r(23),o=r(32),i=/^\d+(\.\d{1,9})?s$/;function s(e){if(!("service"in e)||"string"!=typeof e.service)throw new Error("Invalid method config name: invalid service");const t={service:e.service};if("method"in e){if("string"!=typeof e.method)throw new Error("Invalid method config name: invalid method");t.method=e.method}return t}function a(e){const t={name:[]};if(!("name"in e)||!Array.isArray(e.name))throw new Error("Invalid method config: invalid name array");for(const r of e.name)t.name.push(s(r));if("waitForReady"in e){if("boolean"!=typeof e.waitForReady)throw new Error("Invalid method config: invalid waitForReady");t.waitForReady=e.waitForReady}if("timeout"in e){if("string"!=typeof e.timeout||!i.test(e.timeout))throw new Error("Invalid method config: invalid timeout");t.timeout=e.timeout}if("maxRequestBytes"in e){if("number"!=typeof e.maxRequestBytes)throw new Error("Invalid method config: invalid maxRequestBytes");t.maxRequestBytes=e.maxRequestBytes}if("maxResponseBytes"in e){if("number"!=typeof e.maxResponseBytes)throw new Error("Invalid method config: invalid maxRequestBytes");t.maxResponseBytes=e.maxResponseBytes}return t}function l(e){const t={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in e){if("string"!=typeof e.loadBalancingPolicy)throw new Error("Invalid service config: invalid loadBalancingPolicy");t.loadBalancingPolicy=e.loadBalancingPolicy}if("loadBalancingConfig"in e){if(!Array.isArray(e.loadBalancingConfig))throw new Error("Invalid service config: invalid loadBalancingConfig");for(const r of e.loadBalancingConfig)t.loadBalancingConfig.push(o.validateLoadBalancingConfig(r))}if("methodConfig"in e&&Array.isArray(e.methodConfig))for(const r of e.methodConfig)t.methodConfig.push(a(r));const r=[];for(const e of t.methodConfig)for(const t of e.name){for(const e of r)if(t.service===e.service&&t.method===e.method)throw new Error(`Invalid service config: duplicate name ${t.service}/${t.method}`);r.push(t)}return t}function c(e){if(!("serviceConfig"in e))throw new Error("Invalid service config choice: missing service config");const t={serviceConfig:l(e.serviceConfig)};if("clientLanguage"in e){if(!Array.isArray(e.clientLanguage))throw new Error("Invalid service config choice: invalid clientLanguage");t.clientLanguage=[];for(const r of e.clientLanguage){if("string"!=typeof r)throw new Error("Invalid service config choice: invalid clientLanguage");t.clientLanguage.push(r)}}if("clientHostname"in e){if(!Array.isArray(e.clientHostname))throw new Error("Invalid service config choice: invalid clientHostname");t.clientHostname=[];for(const r of e.clientHostname){if("string"!=typeof r)throw new Error("Invalid service config choice: invalid clientHostname");t.clientHostname.push(r)}}if("percentage"in e){if(!("number"==typeof e.percentage&&0<=e.percentage&&e.percentage<=100))throw new Error("Invalid service config choice: invalid percentage");t.percentage=e.percentage}const r=["clientLanguage","percentage","clientHostname","serviceConfig"];for(const t in e)if(!r.includes(t))throw new Error("Invalid service config choice: unexpected field "+t);return t}function u(e,t){if(!Array.isArray(e))throw new Error("Invalid service config list");for(const r of e){const e=c(r);if(!("number"==typeof e.percentage&&t>e.percentage)){if(Array.isArray(e.clientHostname)){let t=!1;for(const r of e.clientHostname)r===n.hostname()&&(t=!0);if(!t)continue}if(Array.isArray(e.clientLanguage)){let t=!1;for(const r of e.clientLanguage)"node"===r&&(t=!0);if(!t)continue}return e.serviceConfig}}throw new Error("No matching service config found")}t.validateServiceConfig=l,t.extractAndSelectServiceConfig=function(e,t){for(const r of e)if(r.length>0&&r[0].startsWith("grpc_config=")){const e=r.join("").substring("grpc_config=".length);return u(JSON.parse(e),t)}return null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProxiedConnection=t.mapProxyName=void 0;const n=r(8),o=r(2),i=r(19),s=r(45),a=r(75),l=r(8),c=r(40),u=r(15),d=r(38);function g(e){l.trace(o.LogVerbosity.DEBUG,"proxy",e)}t.mapProxyName=function(e,t){var r;const i={target:e,extraOptions:{}};if(0===(null!==(r=t["grpc.enable_http_proxy"])&&void 0!==r?r:1))return i;const s=function(){let e,t="",r="";if(process.env.grpc_proxy)r="grpc_proxy",t=process.env.grpc_proxy;else if(process.env.https_proxy)r="https_proxy",t=process.env.https_proxy;else{if(!process.env.http_proxy)return{};r="http_proxy",t=process.env.http_proxy}try{e=new d.URL(t)}catch(e){return n.log(o.LogVerbosity.ERROR,`cannot parse value of "${r}" env var`),{}}if("http:"!==e.protocol)return n.log(o.LogVerbosity.ERROR,`"${e.protocol}" scheme not supported in proxy URI`),{};let i=null;e.username&&(e.password?(n.log(o.LogVerbosity.INFO,"userinfo found in proxy URI"),i=`${e.username}:${e.password}`):i=e.username);const s=e.hostname;let a=e.port;""===a&&(a="80");const l={address:`${s}:${a}`};return i&&(l.creds=i),g("Proxy server "+l.address+" set by environment variable "+r),l}();if(!s.address)return i;const a=u.splitHostPort(e.path);if(!a)return i;const l=a.host;for(const t of function(){let e=process.env.no_grpc_proxy,t="no_grpc_proxy";return e||(e=process.env.no_proxy,t="no_proxy"),e?(g("No proxy server list set by environment variable "+t),e.split(",")):[]}())if(t===l)return g("Not using proxy for target in no_proxy list: "+u.uriToString(e)),i;const c={"grpc.http_connect_target":u.uriToString(e)};return s.creds&&(c["grpc.http_connect_creds"]=s.creds),{target:{scheme:"dns",path:s.address},extraOptions:c}},t.getProxiedConnection=function(e,t,r){if(!("grpc.http_connect_target"in t))return Promise.resolve({});const l=t["grpc.http_connect_target"],d=u.parseUri(l);if(null===d)return Promise.resolve({});const p={method:"CONNECT",path:d.path};c.isTcpSubchannelAddress(e)?(p.host=e.host,p.port=e.port):p.socketPath=e.path,"grpc.http_connect_creds"in t&&(p.headers={"Proxy-Authorization":"Basic "+Buffer.from(t["grpc.http_connect_creds"]).toString("base64")});const h=c.subchannelAddressToString(e);return g("Using proxy "+h+" to connect to "+p.path),new Promise((e,t)=>{const l=s.request(p);l.once("connect",(s,c,f)=>{var m;if(l.removeAllListeners(),c.removeAllListeners(),200===s.statusCode)if(g("Successfully connected to "+p.path+" through proxy "+h),"secureContext"in r){const n=i.getDefaultAuthority(d),o=u.splitHostPort(n),s=null!==(m=null==o?void 0:o.host)&&void 0!==m?m:n,l=a.connect(Object.assign({host:s,servername:s,socket:c},r),()=>{g("Successfully established a TLS connection to "+p.path+" through proxy "+h),e({socket:l,realTarget:d})});l.on("error",e=>{g("Failed to establish a TLS connection to "+p.path+" through proxy "+h+" with error "+e.message),t()})}else g("Successfully established a plaintext connection to "+p.path+" through proxy "+h),e({socket:c,realTarget:d});else n.log(o.LogVerbosity.ERROR,"Failed to connect to "+p.path+" through proxy "+h+" with status "+s.statusCode),t()}),l.once("error",e=>{l.removeAllListeners(),n.log(o.LogVerbosity.ERROR,"Failed to connect to proxy "+h+" with error "+e.message),t()}),l.end()})}},function(e){e.exports=JSON.parse('{"_args":[["@grpc/grpc-js@1.3.7","/home/vsts/work/1/s/extension"]],"_development":true,"_from":"@grpc/grpc-js@1.3.7","_id":"@grpc/grpc-js@1.3.7","_inBundle":false,"_integrity":"sha512-CKQVuwuSPh40tgOkR7c0ZisxYRiN05PcKPW72mQL5y++qd7CwBRoaJZvU5xfXnCJDFBmS3qZGQ71Frx6Ofo2XA==","_location":"/@grpc/grpc-js","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"@grpc/grpc-js@1.3.7","name":"@grpc/grpc-js","escapedName":"@grpc%2fgrpc-js","scope":"@grpc","rawSpec":"1.3.7","saveSpec":null,"fetchSpec":"1.3.7"},"_requiredBy":["#DEV:/"],"_resolved":"https://registry.npmjs.org/@grpc/grpc-js/-/grpc-js-1.3.7.tgz","_spec":"1.3.7","_where":"/home/vsts/work/1/s/extension","author":{"name":"Google Inc."},"contributors":[{"name":"Google Inc."}],"dependencies":{"@types/node":">=12.12.47"},"description":"gRPC Library for Node - pure JS implementation","devDependencies":{"@grpc/proto-loader":"^0.5.5","@types/gulp":"^4.0.6","@types/gulp-mocha":"0.0.32","@types/lodash":"^4.14.108","@types/mocha":"^5.2.6","@types/ncp":"^2.0.1","@types/pify":"^3.0.2","@types/yargs":"^15.0.5","clang-format":"^1.0.55","execa":"^2.0.3","gts":"^2.0.0","gulp":"^4.0.2","gulp-mocha":"^6.0.0","lodash":"^4.17.4","mocha-jenkins-reporter":"^0.4.1","ncp":"^2.0.0","pify":"^4.0.1","rimraf":"^3.0.2","ts-node":"^8.3.0","typescript":"^3.7.2","yargs":"^15.4.1"},"engines":{"node":"^8.13.0 || >=10.10.0"},"files":["src/**/*.ts","build/src/*.{js,d.ts,js.map}","LICENSE","deps/envoy-api/envoy/api/v2/**/*.proto","deps/envoy-api/envoy/config/**/*.proto","deps/envoy-api/envoy/service/**/*.proto","deps/envoy-api/envoy/type/**/*.proto","deps/udpa/udpa/**/*.proto","deps/googleapis/google/api/*.proto","deps/googleapis/google/rpc/*.proto","deps/protoc-gen-validate/validate/**/*.proto"],"homepage":"https://grpc.io/","keywords":[],"license":"Apache-2.0","main":"build/src/index.js","name":"@grpc/grpc-js","repository":{"type":"git","url":"https://github.com/grpc/grpc-node/tree/master/packages/grpc-js"},"scripts":{"build":"npm run compile","check":"gts check src/**/*.ts","clean":"node -e \'require(\\"rimraf\\")(\\"./build\\", () => {})\'","compile":"tsc -p .","fix":"gts fix src/*.ts","format":"clang-format -i -style=\\"{Language: JavaScript, BasedOnStyle: Google, ColumnLimit: 80}\\" src/*.ts test/*.ts","lint":"npm run check","posttest":"npm run check","prepare":"npm run compile","pretest":"npm run compile","test":"gulp test"},"types":"build/src/index.d.ts","version":"1.3.7"}')},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChildLoadBalancerHandler=void 0;const n=r(32),o=r(31);t.ChildLoadBalancerHandler=class{constructor(e){this.channelControlHelper=e,this.currentChild=null,this.pendingChild=null,this.ChildPolicyHelper=class{constructor(e){this.parent=e,this.child=null}createSubchannel(e,t){return this.parent.channelControlHelper.createSubchannel(e,t)}updateState(e,t){var r;if(this.calledByPendingChild()){if(e!==o.ConnectivityState.READY)return;null===(r=this.parent.currentChild)||void 0===r||r.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(e,t)}requestReresolution(){var e;const t=null!==(e=this.parent.pendingChild)&&void 0!==e?e:this.parent.currentChild;this.child===t&&this.parent.channelControlHelper.requestReresolution()}setChild(e){this.child=e}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}updateAddressList(e,t,r){let o;if(null===this.currentChild||this.currentChild.getTypeName()!==t.getLoadBalancerName()){const e=new this.ChildPolicyHelper(this),r=n.createLoadBalancer(t,e);e.setChild(r),null===this.currentChild?(this.currentChild=r,o=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=r,o=this.pendingChild)}else o=null===this.pendingChild?this.currentChild:this.pendingChild;o.updateAddressList(e,t,r)}exitIdle(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}destroy(){this.currentChild&&(this.currentChild.destroy(),this.currentChild=null),this.pendingChild&&(this.pendingChild.destroy(),this.pendingChild=null)}getTypeName(){return"child_load_balancer_helper"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Client=void 0;const n=r(238),o=r(31),i=r(2),s=r(14),a=r(117),l=Symbol(),c=Symbol(),u=Symbol(),d=Symbol();function g(e){return"function"==typeof e}t.Client=class{constructor(e,t,r={}){var n,i;if(r=Object.assign({},r),this[c]=null!==(n=r.interceptors)&&void 0!==n?n:[],delete r.interceptors,this[u]=null!==(i=r.interceptor_providers)&&void 0!==i?i:[],delete r.interceptor_providers,this[c].length>0&&this[u].length>0)throw new Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[d]=r.callInvocationTransformer,delete r.callInvocationTransformer,r.channelOverride)this[l]=r.channelOverride;else if(r.channelFactoryOverride){const n=r.channelFactoryOverride;delete r.channelFactoryOverride,this[l]=n(e,t,r)}else this[l]=new o.ChannelImplementation(e,t,r)}close(){this[l].close()}getChannel(){return this[l]}waitForReady(e,t){const r=n=>{if(n)return void t(new Error("Failed to connect before the deadline"));let i;try{i=this[l].getConnectivityState(!0)}catch(e){return void t(new Error("The channel has been closed"))}if(i===o.ConnectivityState.READY)t();else try{this[l].watchConnectivityState(i,e,r)}catch(e){t(new Error("The channel has been closed"))}};setImmediate(r)}checkOptionalUnaryResponseArguments(e,t,r){if(g(e))return{metadata:new s.Metadata,options:{},callback:e};if(g(t))return e instanceof s.Metadata?{metadata:e,options:{},callback:t}:{metadata:new s.Metadata,options:e,callback:t};if(!(e instanceof s.Metadata&&t instanceof Object&&g(r)))throw new Error("Incorrect arguments passed");return{metadata:e,options:t,callback:r}}makeUnaryRequest(e,t,r,o,s,g,p){var h,f;const m=this.checkOptionalUnaryResponseArguments(s,g,p),y={path:e,requestStream:!1,responseStream:!1,requestSerialize:t,responseDeserialize:r};let v={argument:o,metadata:m.metadata,call:new n.ClientUnaryCallImpl,channel:this[l],methodDefinition:y,callOptions:m.options,callback:m.callback};this[d]&&(v=this[d](v));const _=v.call,T={clientInterceptors:this[c],clientInterceptorProviders:this[u],callInterceptors:null!==(h=v.callOptions.interceptors)&&void 0!==h?h:[],callInterceptorProviders:null!==(f=v.callOptions.interceptor_providers)&&void 0!==f?f:[]},S=a.getInterceptingCall(T,v.methodDefinition,v.callOptions,v.channel);_.call=S,v.callOptions.credentials&&S.setCredentials(v.callOptions.credentials);let b=null,E=!1;return S.start(v.metadata,{onReceiveMetadata:e=>{_.emit("metadata",e)},onReceiveMessage(e){null!==b&&S.cancelWithStatus(i.Status.INTERNAL,"Too many responses received"),b=e},onReceiveStatus(e){E||(E=!0,e.code===i.Status.OK?v.callback(null,b):v.callback(n.callErrorFromStatus(e)),_.emit("status",e))}}),S.sendMessage(o),S.halfClose(),_}makeClientStreamRequest(e,t,r,o,s,g){var p,h;const f=this.checkOptionalUnaryResponseArguments(o,s,g),m={path:e,requestStream:!0,responseStream:!1,requestSerialize:t,responseDeserialize:r};let y={metadata:f.metadata,call:new n.ClientWritableStreamImpl(t),channel:this[l],methodDefinition:m,callOptions:f.options,callback:f.callback};this[d]&&(y=this[d](y));const v=y.call,_={clientInterceptors:this[c],clientInterceptorProviders:this[u],callInterceptors:null!==(p=y.callOptions.interceptors)&&void 0!==p?p:[],callInterceptorProviders:null!==(h=y.callOptions.interceptor_providers)&&void 0!==h?h:[]},T=a.getInterceptingCall(_,y.methodDefinition,y.callOptions,y.channel);v.call=T,y.callOptions.credentials&&T.setCredentials(y.callOptions.credentials);let S=null,b=!1;return T.start(y.metadata,{onReceiveMetadata:e=>{v.emit("metadata",e)},onReceiveMessage(e){null!==S&&T.cancelWithStatus(i.Status.INTERNAL,"Too many responses received"),S=e},onReceiveStatus(e){b||(b=!0,e.code===i.Status.OK?y.callback(null,S):y.callback(n.callErrorFromStatus(e)),v.emit("status",e))}}),v}checkMetadataAndOptions(e,t){let r,n;return e instanceof s.Metadata?(r=e,n=t||{}):(n=e||{},r=new s.Metadata),{metadata:r,options:n}}makeServerStreamRequest(e,t,r,o,s,g){var p,h;const f=this.checkMetadataAndOptions(s,g),m={path:e,requestStream:!1,responseStream:!0,requestSerialize:t,responseDeserialize:r};let y={argument:o,metadata:f.metadata,call:new n.ClientReadableStreamImpl(r),channel:this[l],methodDefinition:m,callOptions:f.options};this[d]&&(y=this[d](y));const v=y.call,_={clientInterceptors:this[c],clientInterceptorProviders:this[u],callInterceptors:null!==(p=y.callOptions.interceptors)&&void 0!==p?p:[],callInterceptorProviders:null!==(h=y.callOptions.interceptor_providers)&&void 0!==h?h:[]},T=a.getInterceptingCall(_,y.methodDefinition,y.callOptions,y.channel);v.call=T,y.callOptions.credentials&&T.setCredentials(y.callOptions.credentials);let S=!1;return T.start(y.metadata,{onReceiveMetadata(e){v.emit("metadata",e)},onReceiveMessage(e){v.push(e)},onReceiveStatus(e){S||(S=!0,v.push(null),e.code!==i.Status.OK&&v.emit("error",n.callErrorFromStatus(e)),v.emit("status",e))}}),T.sendMessage(o),T.halfClose(),v}makeBidiStreamRequest(e,t,r,o,s){var g,p;const h=this.checkMetadataAndOptions(o,s),f={path:e,requestStream:!0,responseStream:!0,requestSerialize:t,responseDeserialize:r};let m={metadata:h.metadata,call:new n.ClientDuplexStreamImpl(t,r),channel:this[l],methodDefinition:f,callOptions:h.options};this[d]&&(m=this[d](m));const y=m.call,v={clientInterceptors:this[c],clientInterceptorProviders:this[u],callInterceptors:null!==(g=m.callOptions.interceptors)&&void 0!==g?g:[],callInterceptorProviders:null!==(p=m.callOptions.interceptor_providers)&&void 0!==p?p:[]},_=a.getInterceptingCall(v,m.methodDefinition,m.callOptions,m.channel);y.call=_,m.callOptions.credentials&&_.setCredentials(m.callOptions.credentials);let T=!1;return _.start(m.metadata,{onReceiveMetadata(e){y.emit("metadata",e)},onReceiveMessage(e){y.push(e)},onReceiveStatus(e){T||(T=!0,y.push(null),e.code!==i.Status.OK&&y.emit("error",n.callErrorFromStatus(e)),y.emit("status",e))}}),y}}},function(e,t){e.exports=require("events")},function(e,t){e.exports=require("stream")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getInterceptingCall=t.InterceptingCall=t.RequesterBuilder=t.ListenerBuilder=t.InterceptorConfigurationError=void 0;const n=r(14),o=r(106),i=r(2);class s extends Error{constructor(e){super(e),this.name="InterceptorConfigurationError",Error.captureStackTrace(this,s)}}t.InterceptorConfigurationError=s;t.ListenerBuilder=class{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata(e){return this.metadata=e,this}withOnReceiveMessage(e){return this.message=e,this}withOnReceiveStatus(e){return this.status=e,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}};t.RequesterBuilder=class{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart(e){return this.start=e,this}withSendMessage(e){return this.message=e,this}withHalfClose(e){return this.halfClose=e,this}withCancel(e){return this.cancel=e,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}};const a={onReceiveMetadata:(e,t)=>{t(e)},onReceiveMessage:(e,t)=>{t(e)},onReceiveStatus:(e,t)=>{t(e)}},l={start:(e,t,r)=>{r(e,t)},sendMessage:(e,t)=>{t(e)},halfClose:e=>{e()},cancel:e=>{e()}};t.InterceptingCall=class{constructor(e,t){var r,n,o,i;this.nextCall=e,this.processingMessage=!1,this.pendingHalfClose=!1,this.requester=t?{start:null!==(r=t.start)&&void 0!==r?r:l.start,sendMessage:null!==(n=t.sendMessage)&&void 0!==n?n:l.sendMessage,halfClose:null!==(o=t.halfClose)&&void 0!==o?o:l.halfClose,cancel:null!==(i=t.cancel)&&void 0!==i?i:l.cancel}:l}cancelWithStatus(e,t){this.requester.cancel(()=>{this.nextCall.cancelWithStatus(e,t)})}getPeer(){return this.nextCall.getPeer()}start(e,t){var r,n,i,s,l,c;const u={onReceiveMetadata:null!==(n=null===(r=null==t?void 0:t.onReceiveMetadata)||void 0===r?void 0:r.bind(t))&&void 0!==n?n:e=>{},onReceiveMessage:null!==(s=null===(i=null==t?void 0:t.onReceiveMessage)||void 0===i?void 0:i.bind(t))&&void 0!==s?s:e=>{},onReceiveStatus:null!==(c=null===(l=null==t?void 0:t.onReceiveStatus)||void 0===l?void 0:l.bind(t))&&void 0!==c?c:e=>{}};this.requester.start(e,u,(e,t)=>{var r,n,i;let s;if(o.isInterceptingListener(t))s=t;else{const e={onReceiveMetadata:null!==(r=t.onReceiveMetadata)&&void 0!==r?r:a.onReceiveMetadata,onReceiveMessage:null!==(n=t.onReceiveMessage)&&void 0!==n?n:a.onReceiveMessage,onReceiveStatus:null!==(i=t.onReceiveStatus)&&void 0!==i?i:a.onReceiveStatus};s=new o.InterceptingListenerImpl(e,u)}this.nextCall.start(e,s)})}sendMessageWithContext(e,t){this.processingMessage=!0,this.requester.sendMessage(t,t=>{this.processingMessage=!1,this.nextCall.sendMessageWithContext(e,t),this.pendingHalfClose&&this.nextCall.halfClose()})}sendMessage(e){this.sendMessageWithContext({},e)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose(()=>{this.processingMessage?this.pendingHalfClose=!0:this.nextCall.halfClose()})}setCredentials(e){this.nextCall.setCredentials(e)}};class c{constructor(e,t){this.call=e,this.methodDefinition=t}cancelWithStatus(e,t){this.call.cancelWithStatus(e,t)}getPeer(){return this.call.getPeer()}setCredentials(e){this.call.setCredentials(e)}sendMessageWithContext(e,t){let r;try{r=this.methodDefinition.requestSerialize(t)}catch(e){return void this.call.cancelWithStatus(i.Status.INTERNAL,"Request message serialization failure: "+e.message)}this.call.sendMessageWithContext(e,r)}sendMessage(e){this.sendMessageWithContext({},e)}start(e,t){let r=null;this.call.start(e,{onReceiveMetadata:e=>{var r;null===(r=null==t?void 0:t.onReceiveMetadata)||void 0===r||r.call(t,e)},onReceiveMessage:e=>{var o;let s;try{s=this.methodDefinition.responseDeserialize(e)}catch(e){return r={code:i.Status.INTERNAL,details:"Response message parsing error: "+e.message,metadata:new n.Metadata},void this.call.cancelWithStatus(r.code,r.details)}null===(o=null==t?void 0:t.onReceiveMessage)||void 0===o||o.call(t,s)},onReceiveStatus:e=>{var n,o;r?null===(n=null==t?void 0:t.onReceiveStatus)||void 0===n||n.call(t,r):null===(o=null==t?void 0:t.onReceiveStatus)||void 0===o||o.call(t,e)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}}class u extends c{constructor(e,t){super(e,t)}start(e,t){var r,n;let o=!1;const i={onReceiveMetadata:null!==(n=null===(r=null==t?void 0:t.onReceiveMetadata)||void 0===r?void 0:r.bind(t))&&void 0!==n?n:e=>{},onReceiveMessage:e=>{var r;o=!0,null===(r=null==t?void 0:t.onReceiveMessage)||void 0===r||r.call(t,e)},onReceiveStatus:e=>{var r,n;o||null===(r=null==t?void 0:t.onReceiveMessage)||void 0===r||r.call(t,null),null===(n=null==t?void 0:t.onReceiveStatus)||void 0===n||n.call(t,e)}};super.start(e,i),this.call.startRead()}}class d extends c{}function g(e,t,r){const n=function(e,t,r){var n,o;const i=null!==(n=r.deadline)&&void 0!==n?n:1/0,s=r.host,a=null!==(o=r.parent)&&void 0!==o?o:null,l=r.propagate_flags,c=r.credentials,u=e.createCall(t,i,s,a,l);return c&&u.setCredentials(c),u}(e,r.path,t);return r.responseStream?new d(n,r):new u(n,r)}t.getInterceptingCall=function(e,t,r,n){if(e.clientInterceptors.length>0&&e.clientInterceptorProviders.length>0)throw new s("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(e.callInterceptors.length>0&&e.callInterceptorProviders.length>0)throw new s("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let o=[];o=e.callInterceptors.length>0||e.callInterceptorProviders.length>0?[].concat(e.callInterceptors,e.callInterceptorProviders.map(e=>e(t))).filter(e=>e):[].concat(e.clientInterceptors,e.clientInterceptorProviders.map(e=>e(t))).filter(e=>e);const i=Object.assign({},r,{method_definition:t});return o.reduceRight((e,t)=>r=>t(r,e),e=>g(n,e,t))(i)}},function(e,t,r){"use strict";function n(e,t,r){var n,i=/([^\s'"]([^\s'"]*(['"])([^\3]*?)\3)+[^\s'"]*)|[^\s'"]+|(['"])([^\5]*?)\5/gi,s=e,a=[];t&&a.push(t),r&&a.push(r);do{null!==(n=i.exec(s))&&a.push(o(n[1],n[6],n[0]))}while(null!==n);return a}function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0;r<e.length;r++){var n=e[r];if("string"==typeof n)return n}}t.__esModule=!0,t.default=n,t.parseArgsStringToArgv=n},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(249),t)},function(e,t,r){"use strict";const n=r(25);class o extends Error{constructor(e){super(e+" is locked")}}const i={old:new Set,young:new Set};let s;const a=e=>new Promise((t,r)=>{const o=n.createServer();o.unref(),o.on("error",r),o.listen(e,()=>{const{port:e}=o.address();o.close(()=>{t(e)})})});e.exports=async e=>{let t;e&&(t="number"==typeof e.port?[e.port]:e.port),void 0===s&&(s=setInterval(()=>{i.old=i.young,i.young=new Set},15e3),s.unref&&s.unref());for(const r of function*(e){e&&(yield*e),yield 0}(t))try{let t=await a({...e,port:r});for(;i.old.has(t)||i.young.has(t);){if(0!==r)throw new o(r);t=await a({...e,port:r})}return i.young.add(t),t}catch(e){if(!(["EADDRINUSE","EACCES"].includes(e.code)||e instanceof o))throw e}throw new Error("No available ports found")},e.exports.makeRange=(e,t)=>{if(!Number.isInteger(e)||!Number.isInteger(t))throw new TypeError("`from` and `to` must be integer numbers");if(e<1024||e>65535)throw new RangeError("`from` must be between 1024 and 65535");if(t<1024||t>65536)throw new RangeError("`to` must be between 1024 and 65536");if(t<e)throw new RangeError("`to` must be greater than or equal to `from`");return function*(e,t){for(let r=e;r<=t;r++)yield r}(e,t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectDependencyTreeItem=void 0;const n=r(0);class o extends n.TreeItem{constructor(e,t,r,o,i,s=new n.ThemeIcon("folder-library")){super(e,t),this.parentTreeItem=r,this.projectPath=o,this.projectName=i,this.iconPath=s}setChildren(e){this.children=e}getChildren(){return this.children}getProjectPath(){return this.projectPath}getProjectName(){return this.projectName}}t.ProjectDependencyTreeItem=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectTaskTreeItem=void 0;const n=r(0);class o extends n.TreeItem{constructor(e,t,r,o=new n.ThemeIcon("file-submodule")){super(e,t),this.parentTreeItem=r,this.iconPath=o}setChildren(e){this.children=e}getChildren(){return this.children}}t.ProjectTaskTreeItem=o},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(280),t),o(r(281),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSpecificVersionStatus=void 0;const n=r(0);t.getSpecificVersionStatus=function(){const e=n.workspace.getConfiguration("java").get("import.gradle.version");return!1===n.workspace.getConfiguration("java").get("import.gradle.wrapper.enabled")&&null!==e&&""!==e}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(283),t),o(r(284),t),o(r(285),t),o(r(286),t)},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(287),t),o(r(288),t),o(r(289),t),o(r(290),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventWaiter=void 0;t.EventWaiter=class{constructor(e){this.event=e,this.eventRun=!1,this.waitForEvent=e=>{const t=this.event(()=>{t.dispose(),this.eventRun=!0,e&&e()})},this.wait=()=>this.eventRun?Promise.resolve():new Promise(this.waitForEvent),this.waitForEvent()}reset(){this.eventRun=!1,this.waitForEvent()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultTaskDefinition=t.generateDefaultTaskDefinitions=t.unsetDefault=t.setDefault=void 0;const n=r(0);function o(e,t,r){return{name:e,group:t,description:r}}t.setDefault=async function(){await n.commands.executeCommand("setContext","gradle:defaultView",!0)},t.unsetDefault=async function(){await n.commands.executeCommand("setContext","gradle:defaultView",!1)},t.generateDefaultTaskDefinitions=function(){const e=[];return e.push(o("init","build setup","Initializes a new Gradle build.")),e.push(o("wrapper","build setup","Generates Gradle wrapper files.")),e.push(o("buildEnvironment","help","Displays all buildscript dependencies declared in root project.")),e.push(o("dependencies","help","Displays all dependencies declared in root project.")),e.push(o("dependencyInsight","help","Displays the insight into a specific dependency in root project.")),e.push(o("help","help","Displays a help message.")),e.push(o("javaToolchains","help","Displays the detected java toolchains.")),e.push(o("outgoingVariants","help","Displays the outgoing variants of root project.")),e.push(o("projects","help","Displays the sub-projects of root project.")),e.push(o("properties","help","Displays the properties of root project.")),e.push(o("tasks","help","Displays the tasks runnable from root project.")),e},t.getDefaultTaskDefinition=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StoreMap=void 0;const n=r(35);class o extends n.EventedStore{constructor(){super(...arguments),this.data=new Map}getItem(e){return this.data.get(e)}getData(){return this.data}get(e){return this.getData().get(e)}clear(e=!0){this.data.clear(),e&&this.fireOnDidChange(null)}setItem(e,t,r=!0){this.data.set(e,t),r&&this.fireOnDidChange(t)}removeItem(e,t=!0){const r=this.data.get(e);r&&(this.data.delete(e),t&&this.fireOnDidChange(r))}}t.StoreMap=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RootProject=void 0;t.RootProject=class{constructor(e,t,r){this.workspaceFolder=e,this.projectUri=t,this.javaDebug=r}setEnvironment(e){this.environment=e}getEnvironment(){return this.environment}getJavaDebug(){return this.javaDebug}getWorkspaceFolder(){return this.workspaceFolder}getProjectUri(){return this.projectUri}}},function(e,t,r){e.exports=u,u.Minimatch=d;var n={sep:"/"};try{n=r(4)}catch(e){}var o=u.GLOBSTAR=d.GLOBSTAR={},i=r(324),s={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="().*{}+?[]^$\\!".split("").reduce((function(e,t){return e[t]=!0,e}),{});var l=/\/+/;function c(e,t){e=e||{},t=t||{};var r={};return Object.keys(t).forEach((function(e){r[e]=t[e]})),Object.keys(e).forEach((function(t){r[t]=e[t]})),r}function u(e,t,r){if("string"!=typeof t)throw new TypeError("glob pattern string required");return r||(r={}),!(!r.nocomment&&"#"===t.charAt(0))&&(""===t.trim()?""===e:new d(t,r).match(e))}function d(e,t){if(!(this instanceof d))return new d(e,t);if("string"!=typeof e)throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),"/"!==n.sep&&(e=e.split(n.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function g(e,t){if(t||(t=this instanceof d?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:i(e)}u.filter=function(e,t){return t=t||{},function(r,n,o){return u(r,e,t)}},u.defaults=function(e){if(!e||!Object.keys(e).length)return u;var t=u,r=function(r,n,o){return t.minimatch(r,n,c(e,o))};return r.Minimatch=function(r,n){return new t.Minimatch(r,c(e,n))},r},d.defaults=function(e){return e&&Object.keys(e).length?u.defaults(e).Minimatch:d},d.prototype.debug=function(){},d.prototype.make=function(){if(this._made)return;var e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();var r=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error);this.debug(this.pattern,r),r=this.globParts=r.map((function(e){return e.split(l)})),this.debug(this.pattern,r),r=r.map((function(e,t,r){return e.map(this.parse,this)}),this),this.debug(this.pattern,r),r=r.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,r),this.set=r},d.prototype.parseNegate=function(){var e=this.pattern,t=!1,r=this.options,n=0;if(r.nonegate)return;for(var o=0,i=e.length;o<i&&"!"===e.charAt(o);o++)t=!t,n++;n&&(this.pattern=e.substr(n));this.negate=t},u.braceExpand=function(e,t){return g(e,t)},d.prototype.braceExpand=g,d.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError("pattern is too long");var r=this.options;if(!r.noglobstar&&"**"===e)return o;if(""===e)return"";var n,i="",l=!!r.nocase,c=!1,u=[],d=[],g=!1,h=-1,f=-1,m="."===e.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",y=this;function v(){if(n){switch(n){case"*":i+="[^/]*?",l=!0;break;case"?":i+="[^/]",l=!0;break;default:i+="\\"+n}y.debug("clearStateChar %j %j",n,i),n=!1}}for(var _,T=0,S=e.length;T<S&&(_=e.charAt(T));T++)if(this.debug("%s\t%s %s %j",e,T,i,_),c&&a[_])i+="\\"+_,c=!1;else switch(_){case"/":return!1;case"\\":v(),c=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,T,i,_),g){this.debug("  in class"),"!"===_&&T===f+1&&(_="^"),i+=_;continue}y.debug("call clearStateChar %j",n),v(),n=_,r.noext&&v();continue;case"(":if(g){i+="(";continue}if(!n){i+="\\(";continue}u.push({type:n,start:T-1,reStart:i.length,open:s[n].open,close:s[n].close}),i+="!"===n?"(?:(?!(?:":"(?:",this.debug("plType %j %j",n,i),n=!1;continue;case")":if(g||!u.length){i+="\\)";continue}v(),l=!0;var b=u.pop();i+=b.close,"!"===b.type&&d.push(b),b.reEnd=i.length;continue;case"|":if(g||!u.length||c){i+="\\|",c=!1;continue}v(),i+="|";continue;case"[":if(v(),g){i+="\\"+_;continue}g=!0,f=T,h=i.length,i+=_;continue;case"]":if(T===f+1||!g){i+="\\"+_,c=!1;continue}if(g){var E=e.substring(f+1,T);try{RegExp("["+E+"]")}catch(e){var C=this.parse(E,p);i=i.substr(0,h)+"\\["+C[0]+"\\]",l=l||C[1],g=!1;continue}}l=!0,g=!1,i+=_;continue;default:v(),c?c=!1:!a[_]||"^"===_&&g||(i+="\\"),i+=_}g&&(E=e.substr(f+1),C=this.parse(E,p),i=i.substr(0,h)+"\\["+C[0],l=l||C[1]);for(b=u.pop();b;b=u.pop()){var R=i.slice(b.reStart+b.open.length);this.debug("setting tail",i,b),R=R.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,r){return r||(r="\\"),t+t+r+"|"})),this.debug("tail=%j\n   %s",R,R,b,i);var w="*"===b.type?"[^/]*?":"?"===b.type?"[^/]":"\\"+b.type;l=!0,i=i.slice(0,b.reStart)+w+"\\("+R}v(),c&&(i+="\\\\");var D=!1;switch(i.charAt(0)){case".":case"[":case"(":D=!0}for(var A=d.length-1;A>-1;A--){var O=d[A],I=i.slice(0,O.reStart),P=i.slice(O.reStart,O.reEnd-8),N=i.slice(O.reEnd-8,O.reEnd),M=i.slice(O.reEnd);N+=M;var k=I.split("(").length-1,j=M;for(T=0;T<k;T++)j=j.replace(/\)[+*?]?/,"");var x="";""===(M=j)&&t!==p&&(x="$"),i=I+P+M+x+N}""!==i&&l&&(i="(?=.)"+i);D&&(i=m+i);if(t===p)return[i,l];if(!l)return function(e){return e.replace(/\\(.)/g,"$1")}(e);var L=r.nocase?"i":"";try{var F=new RegExp("^"+i+"$",L)}catch(e){return new RegExp("$.")}return F._glob=e,F._src=i,F};var p={};u.makeRe=function(e,t){return new d(e,t||{}).makeRe()},d.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,r=t.noglobstar?"[^/]*?":t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",n=t.nocase?"i":"",i=e.map((function(e){return e.map((function(e){return e===o?r:"string"==typeof e?function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(e):e._src})).join("\\/")})).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch(e){this.regexp=!1}return this.regexp},u.match=function(e,t,r){var n=new d(t,r=r||{});return e=e.filter((function(e){return n.match(e)})),n.options.nonull&&!e.length&&e.push(t),e},d.prototype.match=function(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var r=this.options;"/"!==n.sep&&(e=e.split(n.sep).join("/"));e=e.split(l),this.debug(this.pattern,"split",e);var o,i,s=this.set;for(this.debug(this.pattern,"set",s),i=e.length-1;i>=0&&!(o=e[i]);i--);for(i=0;i<s.length;i++){var a=s[i],c=e;if(r.matchBase&&1===a.length&&(c=[o]),this.matchOne(c,a,t))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate},d.prototype.matchOne=function(e,t,r){var n=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var i=0,s=0,a=e.length,l=t.length;i<a&&s<l;i++,s++){this.debug("matchOne loop");var c,u=t[s],d=e[i];if(this.debug(t,u,d),!1===u)return!1;if(u===o){this.debug("GLOBSTAR",[t,u,d]);var g=i,p=s+1;if(p===l){for(this.debug("** at the end");i<a;i++)if("."===e[i]||".."===e[i]||!n.dot&&"."===e[i].charAt(0))return!1;return!0}for(;g<a;){var h=e[g];if(this.debug("\nglobstar while",e,g,t,p,h),this.matchOne(e.slice(g),t.slice(p),r))return this.debug("globstar found match!",g,a,h),!0;if("."===h||".."===h||!n.dot&&"."===h.charAt(0)){this.debug("dot detected!",e,g,t,p);break}this.debug("globstar swallow a segment, and continue"),g++}return!(!r||(this.debug("\n>>> no match, partial?",e,g,t,p),g!==a))}if("string"==typeof u?(c=n.nocase?d.toLowerCase()===u.toLowerCase():d===u,this.debug("string match",u,d,c)):(c=d.match(u),this.debug("pattern match",u,d,c)),!c)return!1}if(i===a&&s===l)return!0;if(i===a)return r;if(s===l)return i===a-1&&""===e[i];throw new Error("wtf?")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDependencyConfigurationTreeItems=t.GRADLE_DEPENDENCY_REVEAL=void 0;const n=r(0),o=r(33),i=r(78),s=r(79);function a(e,t){const r=e.getName(),s=new Map,a=new i.DependencyConfigurationTreeItem(r,n.TreeItemCollapsibleState.Collapsed,t),c=e.getChildrenList(),u=[];for(const e of c)e.getType()===o.GradleDependencyType.DEPENDENCY&&u.push(l(e,a,s));if(u.length)return a.setChildren(u),a}function l(e,t,r){const i=e.getName(),a=new s.DependencyTreeItem(i,n.TreeItemCollapsibleState.Collapsed,t);if(r.has(i)){const e=r.get(i);e&&a.setOmittedTreeItem(e),a.contextValue="omitted",a.label=a.label+" (*)",a.collapsibleState=n.TreeItemCollapsibleState.None,a.tooltip='Dependency omitted. Click "Go to Dependency" to reveal the previously listed dependency.'}else{r.set(i,a);const t=e.getChildrenList(),s=[];for(const e of t)e.getType()===o.GradleDependencyType.DEPENDENCY&&s.push(l(e,a,r));a.collapsibleState=s.length>0?n.TreeItemCollapsibleState.Collapsed:n.TreeItemCollapsibleState.None,a.setChildren(s)}return a}t.GRADLE_DEPENDENCY_REVEAL="gradle.dependency.reveal",t.getDependencyConfigurationTreeItems=function(e,t){const r=e.getChildrenList(),n=[];for(const e of r){if(e.getType()!==o.GradleDependencyType.CONFIGURATION)continue;const r=a(e,t);r&&n.push(r)}if(n.length)return n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.startLanguageServer=t.isLanguageServerStarted=void 0;const n=r(25),o=r(4),i=r(0),s=r(134),a=r(399),l=r(20);async function c(e){const t=parseInt(e);return new Promise((e,r)=>{const o=n.createServer(t=>{o.close(),e({reader:t,writer:t})});return o.on("error",r),o.listen(t,()=>{o.removeListener("error",r)}),o})}function u(){return{gradleHome:l.getConfigJavaImportGradleHome(),gradleVersion:l.getConfigJavaImportGradleVersion(),gradleWrapperEnabled:l.getConfigJavaImportGradleWrapperEnabled(),gradleUserHome:l.getConfigJavaImportGradleUserHome()}}t.isLanguageServerStarted=!1,t.startLanguageServer=async function(e){i.window.withProgress({location:i.ProgressLocation.Window},r=>new Promise(async(n,d)=>{r.report({message:"Initializing Gradle Language Server"});const g={documentSelector:[{scheme:"file",language:"gradle"}],outputChannel:i.window.createOutputChannel("Gradle Language Server"),outputChannelName:"Gradle Language Server",initializationOptions:{settings:u()}};let p;if("true"===process.env.VSCODE_DEBUG_LANGUAGE_SERVER){const e=process.env.VSCODE_GRADLE_PORT;if(!e)return void i.window.showErrorMessage("VSCODE_GRADLE_PORT is invalid, please check it in launch.json.");p=c.bind(null,e)}else{const t=l.getConfigGradleJavaHome()||process.env.JAVA_HOME;if(!t)return void i.window.showErrorMessage('There is no valid JAVA_HOME setting to launch Gradle Language Server. Please check your "java.home" setting.',"Open Settings").then(e=>{"Open Settings"===e&&i.commands.executeCommand("workbench.action.openSettings","java.home")});const r=["-jar",o.resolve(e.extensionPath,"lib","gradle-language-server.jar")];p={command:o.join(t,"bin","java"),args:r}}const h=new a.LanguageClient("gradle","Gradle Language Server",p,g);h.onReady().then(()=>{t.isLanguageServerStarted=!0,n()},e=>{i.window.showErrorMessage(e)});const f=h.start();e.subscriptions.push(f),e.subscriptions.push(i.workspace.onDidChangeConfiguration(e=>{e.affectsConfiguration("java.import.gradle")&&h.sendNotification(s.DidChangeConfigurationNotification.type,{settings:u()})}))}))}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingMonitor=t.LanguageClient=t.TransportKind=void 0;const i=r(37),s=r(22),a=r(4),l=r(328),c=r(0),u=r(36),d=r(137),g=r(13),p=r(397),h=r(151);o(r(151),t),o(r(398),t);var f,m,y,v,_,T;!function(e){e.is=function(e){return u.string(e.command)}}(f||(f={})),function(e){e[e.stdio=0]="stdio",e[e.ipc=1]="ipc",e[e.pipe=2]="pipe",e[e.socket=3]="socket"}(m=t.TransportKind||(t.TransportKind={})),function(e){e.isSocket=function(e){let t=e;return t&&t.kind===m.socket&&u.number(t.port)}}(y||(y={})),function(e){e.is=function(e){return u.string(e.module)}}(v||(v={})),function(e){e.is=function(e){let t=e;return t&&void 0!==t.writer&&void 0!==t.reader}}(_||(_={})),function(e){e.is=function(e){let t=e;return t&&void 0!==t.process&&"boolean"==typeof t.detached}}(T||(T={}));class S extends d.CommonLanguageClient{constructor(e,t,r,n,o){let i,s,a,l,c;u.string(t)?(i=e,s=t,a=r,l=n,c=!!o):(i=e.toLowerCase(),s=e,a=t,l=r,c=n),void 0===c&&(c=!1),super(i,s,l),this._serverOptions=a,this._forceDebug=c;try{this.checkVersion()}catch(e){throw u.string(e.message)&&this.outputChannel.appendLine(e.message),e}}checkVersion(){let e=l.parse(c.version);if(!e)throw new Error("No valid VS Code version detected. Version string is: "+c.version);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!l.satisfies(e,"^1.52.0"))throw new Error("The language client requires VS Code version ^1.52.0 but received version "+c.version)}stop(){return super.stop().then(()=>{if(this._serverProcess){let e=this._serverProcess;this._serverProcess=void 0,void 0!==this._isDetached&&this._isDetached||this.checkProcessDied(e),this._isDetached=void 0}})}checkProcessDied(e){e&&setTimeout(()=>{try{process.kill(e.pid,0),p.terminate(e)}catch(e){}},2e3)}handleConnectionClosed(){this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),null===e.processId&&(e.processId=process.pid)}createMessageTransports(e){function t(e,t){if(!e&&!t)return;let r=Object.create(null);return Object.keys(process.env).forEach(e=>r[e]=process.env[e]),t&&(r.ELECTRON_RUN_AS_NODE="1",r.ELECTRON_NO_ASAR="1"),e&&Object.keys(e).forEach(t=>r[t]=e[t]),r}const r=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],n=["--debug","--debug-brk","--inspect","--inspect-brk"];function o(e){if(null===e.stdin||null===e.stdout||null===e.stderr)throw new Error("Process created without stdio streams")}let s,a=this._serverOptions;if(u.func(a))return a().then(t=>{if(g.MessageTransports.is(t))return this._isDetached=!!t.detached,t;if(_.is(t))return this._isDetached=!!t.detached,{reader:new h.StreamMessageReader(t.reader),writer:new h.StreamMessageWriter(t.writer)};{let r;return T.is(t)?(r=t.process,this._isDetached=t.detached):(r=t,this._isDetached=!1),r.stderr.on("data",t=>this.outputChannel.append(u.string(t)?t:t.toString(e))),{reader:new h.StreamMessageReader(r.stdout),writer:new h.StreamMessageWriter(r.stdin)}}});let l=a;return s=l.run||l.debug?this._forceDebug||function(){let e=process.execArgv;return!!e&&e.some(e=>r.some(t=>e.startsWith(t))||n.some(t=>e===t))}()?l.debug:l.run:a,this._getServerWorkingDir(s.options).then(r=>{if(v.is(s)&&s.module){let n=s,a=n.transport||m.stdio;if(!n.runtime){let s=void 0;return new Promise((l,c)=>{let d=n.args&&n.args.slice()||[];a===m.ipc?d.push("--node-ipc"):a===m.stdio?d.push("--stdio"):a===m.pipe?(s=h.generateRandomPipeName(),d.push("--pipe="+s)):y.isSocket(a)&&d.push("--socket="+a.port),d.push("--clientProcessId="+process.pid.toString());let g=n.options||Object.create(null);if(g.env=t(g.env,!0),g.execArgv=g.execArgv||[],g.cwd=r,g.silent=!0,a===m.ipc||a===m.stdio){let t=i.fork(n.module,d||[],g);o(t),this._serverProcess=t,t.stderr.on("data",t=>this.outputChannel.append(u.string(t)?t:t.toString(e))),a===m.ipc?(t.stdout.on("data",t=>this.outputChannel.append(u.string(t)?t:t.toString(e))),l({reader:new h.IPCMessageReader(this._serverProcess),writer:new h.IPCMessageWriter(this._serverProcess)})):l({reader:new h.StreamMessageReader(t.stdout),writer:new h.StreamMessageWriter(t.stdin)})}else a===m.pipe?h.createClientPipeTransport(s).then(t=>{let r=i.fork(n.module,d||[],g);o(r),this._serverProcess=r,r.stderr.on("data",t=>this.outputChannel.append(u.string(t)?t:t.toString(e))),r.stdout.on("data",t=>this.outputChannel.append(u.string(t)?t:t.toString(e))),t.onConnected().then(e=>{l({reader:e[0],writer:e[1]})})}):y.isSocket(a)&&h.createClientSocketTransport(a.port).then(t=>{let r=i.fork(n.module,d||[],g);o(r),this._serverProcess=r,r.stderr.on("data",t=>this.outputChannel.append(u.string(t)?t:t.toString(e))),r.stdout.on("data",t=>this.outputChannel.append(u.string(t)?t:t.toString(e))),t.onConnected().then(e=>{l({reader:e[0],writer:e[1]})})})})}{let o=[],s=n.options||Object.create(null);s.execArgv&&s.execArgv.forEach(e=>o.push(e)),o.push(n.module),n.args&&n.args.forEach(e=>o.push(e));const l=Object.create(null);l.cwd=r,l.env=t(s.env,!1);const c=this._getRuntimePath(n.runtime,r);let d=void 0;if(a===m.ipc?(l.stdio=[null,null,null,"ipc"],o.push("--node-ipc")):a===m.stdio?o.push("--stdio"):a===m.pipe?(d=h.generateRandomPipeName(),o.push("--pipe="+d)):y.isSocket(a)&&o.push("--socket="+a.port),o.push("--clientProcessId="+process.pid.toString()),a===m.ipc||a===m.stdio){let t=i.spawn(c,o,l);return t&&t.pid?(this._serverProcess=t,t.stderr.on("data",t=>this.outputChannel.append(u.string(t)?t:t.toString(e))),a===m.ipc?(t.stdout.on("data",t=>this.outputChannel.append(u.string(t)?t:t.toString(e))),Promise.resolve({reader:new h.IPCMessageReader(t),writer:new h.IPCMessageWriter(t)})):Promise.resolve({reader:new h.StreamMessageReader(t.stdout),writer:new h.StreamMessageWriter(t.stdin)})):Promise.reject(`Launching server using runtime ${c} failed.`)}if(a===m.pipe)return h.createClientPipeTransport(d).then(t=>{let r=i.spawn(c,o,l);return r&&r.pid?(this._serverProcess=r,r.stderr.on("data",t=>this.outputChannel.append(u.string(t)?t:t.toString(e))),r.stdout.on("data",t=>this.outputChannel.append(u.string(t)?t:t.toString(e))),t.onConnected().then(e=>({reader:e[0],writer:e[1]}))):Promise.reject(`Launching server using runtime ${c} failed.`)});if(y.isSocket(a))return h.createClientSocketTransport(a.port).then(t=>{let r=i.spawn(c,o,l);return r&&r.pid?(this._serverProcess=r,r.stderr.on("data",t=>this.outputChannel.append(u.string(t)?t:t.toString(e))),r.stdout.on("data",t=>this.outputChannel.append(u.string(t)?t:t.toString(e))),t.onConnected().then(e=>({reader:e[0],writer:e[1]}))):Promise.reject(`Launching server using runtime ${c} failed.`)})}}else if(f.is(s)&&s.command){let t=s,n=t.args||[],o=Object.assign({},t.options);o.cwd=o.cwd||r;let a=i.spawn(t.command,n,o);return a&&a.pid?(a.stderr.on("data",t=>this.outputChannel.append(u.string(t)?t:t.toString(e))),this._serverProcess=a,this._isDetached=!!o.detached,Promise.resolve({reader:new h.StreamMessageReader(a.stdout),writer:new h.StreamMessageWriter(a.stdin)})):Promise.reject(`Launching server using command ${t.command} failed.`)}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(a,null,4)))})}_getRuntimePath(e,t){if(a.isAbsolute(e))return e;const r=this._mainGetRootPath();if(void 0!==r){const t=a.join(r,e);if(s.existsSync(t))return t}if(void 0!==t){const r=a.join(t,e);if(s.existsSync(r))return r}return e}_mainGetRootPath(){let e=c.workspace.workspaceFolders;if(!e||0===e.length)return;let t=e[0];return"file"===t.uri.scheme?t.uri.fsPath:void 0}_getServerWorkingDir(e){let t=e&&e.cwd;return t||(t=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),t?new Promise(e=>{s.lstat(t,(r,n)=>{e(!r&&n.isDirectory()?t:void 0)})}):Promise.resolve(void 0)}getLocale(){const e=process.env.VSCODE_NLS_CONFIG;if(void 0===e)return"en";let t=void 0;try{t=JSON.parse(e)}catch(e){}return void 0===t||"string"!=typeof t.locale?"en":t.locale}}t.LanguageClient=S;t.SettingMonitor=class{constructor(e,t){this._client=e,this._setting=t,this._listeners=[]}start(){return c.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new c.Disposable(()=>{this._client.needsStop()&&this._client.stop()})}onDidChangeConfiguration(){let e=this._setting.indexOf("."),t=e>=0?this._setting.substr(0,e):this._setting,r=e>=0?this._setting.substr(e+1):void 0,n=r?c.workspace.getConfiguration(t).get(r,!1):c.workspace.getConfiguration(t);n&&this._client.needsStart()?this._client.start():!n&&this._client.needsStop()&&this._client.stop()}}},function(e,t,r){const n=r(16);e.exports=(e,t,r)=>0!==n(e,t,r)},function(e,t,r){const n=r(82),o=r(135),i=r(61),s=r(85),a=r(84),l=r(86);e.exports=(e,t,r,c)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return n(e,r,c);case"!=":return o(e,r,c);case">":return i(e,r,c);case">=":return s(e,r,c);case"<":return a(e,r,c);case"<=":return l(e,r,c);default:throw new TypeError("Invalid operator: "+t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProposedFeatures=t.CommonLanguageClient=void 0;const n=r(13),o=r(385),i=r(143),s=r(386),a=r(387),l=r(388),c=r(389),u=r(390),d=r(391),g=r(392),p=r(393),h=r(394),f=r(395),m=r(396);class y extends n.BaseLanguageClient{constructor(e,t,r){super(e,t,r)}registerProposedFeatures(){this.registerFeatures(v.createAll(this))}registerBuiltinFeatures(){super.registerBuiltinFeatures(),this.registerFeature(new i.ConfigurationFeature(this)),this.registerFeature(new a.TypeDefinitionFeature(this)),this.registerFeature(new s.ImplementationFeature(this)),this.registerFeature(new o.ColorProviderFeature(this)),this.registerFeature(new l.WorkspaceFoldersFeature(this)),this.registerFeature(new c.FoldingRangeFeature(this)),this.registerFeature(new u.DeclarationFeature(this)),this.registerFeature(new d.SelectionRangeFeature(this)),this.registerFeature(new g.ProgressFeature(this)),this.registerFeature(new p.CallHierarchyFeature(this)),this.registerFeature(new h.SemanticTokensFeature(this)),this.registerFeature(new m.LinkedEditingFeature(this)),this.registerFeature(new f.DidCreateFilesFeature(this)),this.registerFeature(new f.DidRenameFilesFeature(this)),this.registerFeature(new f.DidDeleteFilesFeature(this)),this.registerFeature(new f.WillCreateFilesFeature(this)),this.registerFeature(new f.WillRenameFilesFeature(this)),this.registerFeature(new f.WillDeleteFilesFeature(this))}}var v;t.CommonLanguageClient=y,function(e){e.createAll=function(e){return[]}}(v=t.ProposedFeatures||(t.ProposedFeatures={}))},function(e,t,r){"use strict";e.exports=r(51)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Disposable=void 0,function(e){e.create=function(e){return{dispose:e}}}(t.Disposable||(t.Disposable={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=t.TraceFormat=t.Trace=t.ProgressType=t.createMessageConnection=t.NullLogger=t.ConnectionOptions=t.ConnectionStrategy=t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=t.CancellationToken=t.CancellationTokenSource=t.Emitter=t.Event=t.Disposable=t.ParameterStructures=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.ErrorCodes=t.ResponseError=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType0=t.RequestType=t.RAL=void 0,t.CancellationStrategy=void 0;const n=r(141);Object.defineProperty(t,"RequestType",{enumerable:!0,get:function(){return n.RequestType}}),Object.defineProperty(t,"RequestType0",{enumerable:!0,get:function(){return n.RequestType0}}),Object.defineProperty(t,"RequestType1",{enumerable:!0,get:function(){return n.RequestType1}}),Object.defineProperty(t,"RequestType2",{enumerable:!0,get:function(){return n.RequestType2}}),Object.defineProperty(t,"RequestType3",{enumerable:!0,get:function(){return n.RequestType3}}),Object.defineProperty(t,"RequestType4",{enumerable:!0,get:function(){return n.RequestType4}}),Object.defineProperty(t,"RequestType5",{enumerable:!0,get:function(){return n.RequestType5}}),Object.defineProperty(t,"RequestType6",{enumerable:!0,get:function(){return n.RequestType6}}),Object.defineProperty(t,"RequestType7",{enumerable:!0,get:function(){return n.RequestType7}}),Object.defineProperty(t,"RequestType8",{enumerable:!0,get:function(){return n.RequestType8}}),Object.defineProperty(t,"RequestType9",{enumerable:!0,get:function(){return n.RequestType9}}),Object.defineProperty(t,"ResponseError",{enumerable:!0,get:function(){return n.ResponseError}}),Object.defineProperty(t,"ErrorCodes",{enumerable:!0,get:function(){return n.ErrorCodes}}),Object.defineProperty(t,"NotificationType",{enumerable:!0,get:function(){return n.NotificationType}}),Object.defineProperty(t,"NotificationType0",{enumerable:!0,get:function(){return n.NotificationType0}}),Object.defineProperty(t,"NotificationType1",{enumerable:!0,get:function(){return n.NotificationType1}}),Object.defineProperty(t,"NotificationType2",{enumerable:!0,get:function(){return n.NotificationType2}}),Object.defineProperty(t,"NotificationType3",{enumerable:!0,get:function(){return n.NotificationType3}}),Object.defineProperty(t,"NotificationType4",{enumerable:!0,get:function(){return n.NotificationType4}}),Object.defineProperty(t,"NotificationType5",{enumerable:!0,get:function(){return n.NotificationType5}}),Object.defineProperty(t,"NotificationType6",{enumerable:!0,get:function(){return n.NotificationType6}}),Object.defineProperty(t,"NotificationType7",{enumerable:!0,get:function(){return n.NotificationType7}}),Object.defineProperty(t,"NotificationType8",{enumerable:!0,get:function(){return n.NotificationType8}}),Object.defineProperty(t,"NotificationType9",{enumerable:!0,get:function(){return n.NotificationType9}}),Object.defineProperty(t,"ParameterStructures",{enumerable:!0,get:function(){return n.ParameterStructures}});const o=r(139);Object.defineProperty(t,"Disposable",{enumerable:!0,get:function(){return o.Disposable}});const i=r(53);Object.defineProperty(t,"Event",{enumerable:!0,get:function(){return i.Event}}),Object.defineProperty(t,"Emitter",{enumerable:!0,get:function(){return i.Emitter}});const s=r(142);Object.defineProperty(t,"CancellationTokenSource",{enumerable:!0,get:function(){return s.CancellationTokenSource}}),Object.defineProperty(t,"CancellationToken",{enumerable:!0,get:function(){return s.CancellationToken}});const a=r(357);Object.defineProperty(t,"MessageReader",{enumerable:!0,get:function(){return a.MessageReader}}),Object.defineProperty(t,"AbstractMessageReader",{enumerable:!0,get:function(){return a.AbstractMessageReader}}),Object.defineProperty(t,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return a.ReadableStreamMessageReader}});const l=r(358);Object.defineProperty(t,"MessageWriter",{enumerable:!0,get:function(){return l.MessageWriter}}),Object.defineProperty(t,"AbstractMessageWriter",{enumerable:!0,get:function(){return l.AbstractMessageWriter}}),Object.defineProperty(t,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return l.WriteableStreamMessageWriter}});const c=r(360);Object.defineProperty(t,"ConnectionStrategy",{enumerable:!0,get:function(){return c.ConnectionStrategy}}),Object.defineProperty(t,"ConnectionOptions",{enumerable:!0,get:function(){return c.ConnectionOptions}}),Object.defineProperty(t,"NullLogger",{enumerable:!0,get:function(){return c.NullLogger}}),Object.defineProperty(t,"createMessageConnection",{enumerable:!0,get:function(){return c.createMessageConnection}}),Object.defineProperty(t,"ProgressType",{enumerable:!0,get:function(){return c.ProgressType}}),Object.defineProperty(t,"Trace",{enumerable:!0,get:function(){return c.Trace}}),Object.defineProperty(t,"TraceFormat",{enumerable:!0,get:function(){return c.TraceFormat}}),Object.defineProperty(t,"SetTraceNotification",{enumerable:!0,get:function(){return c.SetTraceNotification}}),Object.defineProperty(t,"LogTraceNotification",{enumerable:!0,get:function(){return c.LogTraceNotification}}),Object.defineProperty(t,"ConnectionErrors",{enumerable:!0,get:function(){return c.ConnectionErrors}}),Object.defineProperty(t,"ConnectionError",{enumerable:!0,get:function(){return c.ConnectionError}}),Object.defineProperty(t,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return c.CancellationReceiverStrategy}}),Object.defineProperty(t,"CancellationSenderStrategy",{enumerable:!0,get:function(){return c.CancellationSenderStrategy}}),Object.defineProperty(t,"CancellationStrategy",{enumerable:!0,get:function(){return c.CancellationStrategy}});const u=r(29);t.RAL=u.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isResponseMessage=t.isNotificationMessage=t.isRequestMessage=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType=t.RequestType0=t.AbstractMessageSignature=t.ParameterStructures=t.ResponseError=t.ErrorCodes=void 0;const n=r(52);var o;!function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=e.jsonrpcReservedErrorRangeStart,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=e.jsonrpcReservedErrorRangeEnd}(o=t.ErrorCodes||(t.ErrorCodes={}));class i extends Error{constructor(e,t,r){super(t),this.code=n.number(e)?e:o.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,i.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}}t.ResponseError=i;class s{constructor(e){this.kind=e}static is(e){return e===s.auto||e===s.byName||e===s.byPosition}toString(){return this.kind}}t.ParameterStructures=s,s.auto=new s("auto"),s.byPosition=new s("byPosition"),s.byName=new s("byName");class a{constructor(e,t){this.method=e,this.numberOfParams=t}get parameterStructures(){return s.auto}}t.AbstractMessageSignature=a;t.RequestType0=class extends a{constructor(e){super(e,0)}};t.RequestType=class extends a{constructor(e,t=s.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};t.RequestType1=class extends a{constructor(e,t=s.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};t.RequestType2=class extends a{constructor(e){super(e,2)}};t.RequestType3=class extends a{constructor(e){super(e,3)}};t.RequestType4=class extends a{constructor(e){super(e,4)}};t.RequestType5=class extends a{constructor(e){super(e,5)}};t.RequestType6=class extends a{constructor(e){super(e,6)}};t.RequestType7=class extends a{constructor(e){super(e,7)}};t.RequestType8=class extends a{constructor(e){super(e,8)}};t.RequestType9=class extends a{constructor(e){super(e,9)}};t.NotificationType=class extends a{constructor(e,t=s.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};t.NotificationType0=class extends a{constructor(e){super(e,0)}};t.NotificationType1=class extends a{constructor(e,t=s.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};t.NotificationType2=class extends a{constructor(e){super(e,2)}};t.NotificationType3=class extends a{constructor(e){super(e,3)}};t.NotificationType4=class extends a{constructor(e){super(e,4)}};t.NotificationType5=class extends a{constructor(e){super(e,5)}};t.NotificationType6=class extends a{constructor(e){super(e,6)}};t.NotificationType7=class extends a{constructor(e){super(e,7)}};t.NotificationType8=class extends a{constructor(e){super(e,8)}};t.NotificationType9=class extends a{constructor(e){super(e,9)}},t.isRequestMessage=function(e){const t=e;return t&&n.string(t.method)&&(n.string(t.id)||n.number(t.id))},t.isNotificationMessage=function(e){const t=e;return t&&n.string(t.method)&&void 0===e.id},t.isResponseMessage=function(e){const t=e;return t&&(void 0!==t.result||!!t.error)&&(n.string(t.id)||n.number(t.id)||null===t.id)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationTokenSource=t.CancellationToken=void 0;const n=r(29),o=r(52),i=r(53);var s;!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:i.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:i.Event.None}),e.is=function(t){const r=t;return r&&(r===e.None||r===e.Cancelled||o.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}}(s=t.CancellationToken||(t.CancellationToken={}));const a=Object.freeze((function(e,t){const r=n.default().timer.setTimeout(e.bind(t),0);return{dispose(){n.default().timer.clearTimeout(r)}}}));class l{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?a:(this._emitter||(this._emitter=new i.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}t.CancellationTokenSource=class{get token(){return this._token||(this._token=new l),this._token}cancel(){this._token?this._token.cancel():this._token=s.Cancelled}dispose(){this._token?this._token instanceof l&&this._token.dispose():this._token=s.None}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toJSONObject=t.ConfigurationFeature=void 0;const n=r(0),o=r(3);function i(e){if(e){if(Array.isArray(e))return e.map(i);if("object"==typeof e){const t=Object.create(null);for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=i(e[r]));return t}}return e}t.ConfigurationFeature=class{constructor(e){this._client=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(o.ConfigurationRequest.type,(t,r)=>{let n=e=>{let t=[];for(let r of e.items){let e=void 0!==r.scopeUri&&null!==r.scopeUri?this._client.protocol2CodeConverter.asUri(r.scopeUri):void 0;t.push(this.getConfiguration(e,null!==r.section?r.section:void 0))}return t},o=e.clientOptions.middleware.workspace;return o&&o.configuration?o.configuration(t,r,n):n(t)})}getConfiguration(e,t){let r=null;if(t){let o=t.lastIndexOf(".");if(-1===o)r=i(n.workspace.getConfiguration(void 0,e).get(t));else{let s=n.workspace.getConfiguration(t.substr(0,o),e);s&&(r=i(s.get(t.substr(o+1))))}}else{let t=n.workspace.getConfiguration(void 0,e);r={};for(let e of Object.keys(t))t.has(e)&&(r[e]=i(t.get(e)))}return void 0===r&&(r=null),r}dispose(){}},t.toJSONObject=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.CompletionItem{constructor(e){super(e)}}t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.CodeLens{constructor(e){super(e)}}t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.DocumentLink{constructor(e,t){super(e,t)}}t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.CodeAction{constructor(e,t){super(e),this.data=t}}t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolDiagnostic=t.DiagnosticCode=void 0;const n=r(0),o=r(36);!function(e){e.is=function(e){const t=e;return null!=t&&(o.number(t.value)||o.string(t.value))&&o.string(t.target)}}(t.DiagnosticCode||(t.DiagnosticCode={}));class i extends n.Diagnostic{constructor(e,t,r,n){super(e,t,r),this.data=n,this.hasDiagnosticCode=!1}}t.ProtocolDiagnostic=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class o extends n.CallHierarchyItem{constructor(e,t,r,n,o,i,s){super(e,t,r,n,o,i),void 0!==s&&(this.data=s)}}t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressPart=void 0;const n=r(0),o=r(3),i=r(36);t.ProgressPart=class{constructor(e,t,r){this._client=e,this._token=t,this._reported=0,this._disposable=this._client.onProgress(o.WorkDoneProgress.type,this._token,e=>{switch(e.kind){case"begin":this.begin(e);break;case"report":this.report(e);break;case"end":this.done(),r&&r(this)}})}begin(e){n.window.withProgress({location:n.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},async(t,r)=>(this._progress=t,this._infinite=void 0===e.percentage,this._cancellationToken=r,this._cancellationToken.onCancellationRequested(()=>{this._client.sendNotification(o.WorkDoneProgressCancelNotification.type,{token:this._token})}),this.report(e),new Promise((e,t)=>{this._resolve=e,this._reject=t})))}report(e){if(this._infinite&&i.string(e.message))this._progress.report({message:e.message});else if(i.number(e.percentage)){let t=Math.max(0,Math.min(e.percentage,100)),r=Math.max(0,t-this._reported);this._progress.report({message:e.message,increment:r}),this._reported+=r}}cancel(){this._disposable&&(this._disposable.dispose(),this._disposable=void 0),this._reject&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this._disposable&&(this._disposable.dispose(),this._disposable=void 0),this._resolve&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}}},function(e,t,r){"use strict";e.exports=r(3)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deactivate=t.activate=void 0;const n=r(0),o=r(89),i=r(220);function s(e,t){return new i.Extension(t).getApi()}t.activate=async function(e){return function(){const e=n.extensions.getExtension("vscjava.vscode-gradle"),t=e?e.packageJSON:void 0;t&&t.aiKey&&o.initialize(t.id,t.version,t.aiKey,{firstParty:!0})}(),o.instrumentOperation("activation",s)(e)},t.deactivate=function(){}},function(e,t,r){var n=r(154),o=r(155);e.exports=function(e,t,r){var i=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||n)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[i+a]=s[a];return t||o(s)}},function(e,t,r){var n=r(64);e.exports=function(){return n.randomBytes(16)}},function(e,t){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,o=r;return[o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]]].join("")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL=!0;var n=r(22),o=r(23),i=r(4),s=r(0),a=r(157),l=function(){function e(e,t,r,o){var a=this;this.extensionId=e,this.extensionVersion=t,this.firstParty=!1,this.userOptIn=!1,this.firstParty=!!o;var l=process.env.VSCODE_LOGS||"";l&&e&&"trace"===process.env.VSCODE_LOG_LEVEL&&(l=i.join(l,e+".txt"),this.logStream=n.createWriteStream(l,{flags:"a",encoding:"utf8",autoClose:!0})),this.updateUserOptIn(r),void 0!==s.env.onDidChangeTelemetryEnabled?this.optOutListener=s.env.onDidChangeTelemetryEnabled((function(){return a.updateUserOptIn(r)})):this.optOutListener=s.workspace.onDidChangeConfiguration((function(){return a.updateUserOptIn(r)}))}return e.prototype.updateUserOptIn=function(t){var r=s.workspace.getConfiguration(e.TELEMETRY_CONFIG_ID),n=void 0===s.env.isTelemetryEnabled?r.get(e.TELEMETRY_CONFIG_ENABLED_ID,!0):s.env.isTelemetryEnabled;this.userOptIn!==n&&(this.userOptIn=n,this.userOptIn?this.createAppInsightsClient(t):this.dispose())},e.prototype.createAppInsightsClient=function(e){a.defaultClient?(this.appInsightsClient=new a.TelemetryClient(e),this.appInsightsClient.channel.setUseDiskRetryCaching(!0)):(a.setup(e).setAutoCollectRequests(!1).setAutoCollectPerformance(!1).setAutoCollectExceptions(!1).setAutoCollectDependencies(!1).setAutoDependencyCorrelation(!1).setAutoCollectConsole(!1).setUseDiskRetryCaching(!0).start(),this.appInsightsClient=a.defaultClient),this.appInsightsClient.commonProperties=this.getCommonProperties(),s&&s.env&&(this.appInsightsClient.context.tags[this.appInsightsClient.context.keys.userId]=s.env.machineId,this.appInsightsClient.context.tags[this.appInsightsClient.context.keys.sessionId]=s.env.sessionId),e&&0===e.indexOf("AIF-")&&(this.appInsightsClient.config.endpointUrl="https://vortex.data.microsoft.com/collect/v1",this.firstParty=!0)},e.prototype.getCommonProperties=function(){var e=Object.create(null);if(e["common.os"]=o.platform(),e["common.platformversion"]=(o.release()||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),e["common.extname"]=this.extensionId,e["common.extversion"]=this.extensionVersion,s&&s.env){switch(e["common.vscodemachineid"]=s.env.machineId,e["common.vscodesessionid"]=s.env.sessionId,e["common.vscodeversion"]=s.version,e["common.isnewappinstall"]=s.env.isNewAppInstall,s.env.uiKind){case s.UIKind.Web:e["common.uikind"]="web";break;case s.UIKind.Desktop:e["common.uikind"]="desktop";break;default:e["common.uikind"]="unknown"}e["common.remotename"]=this.cleanRemoteName(s.env.remoteName)}return e},e.prototype.cleanRemoteName=function(e){if(!e)return"none";var t="other";return["ssh-remote","dev-container","attached-container","wsl"].forEach((function(r){0===e.indexOf(r+"+")&&(t=r)})),t},e.prototype.shouldSendErrorTelemetry=function(){return!this.firstParty||("other"!==this.cleanRemoteName(s.env.remoteName)||void 0!==this.extension&&this.extension.extensionKind!==s.ExtensionKind.Workspace&&s.env.uiKind!==s.UIKind.Web)},Object.defineProperty(e.prototype,"extension",{get:function(){return void 0===this._extension&&(this._extension=s.extensions.getExtension(this.extensionId)),this._extension},enumerable:!1,configurable:!0}),e.prototype.cloneAndChange=function(e,t){if(null===e||"object"!=typeof e)return e;if("function"!=typeof t)return e;var r={};for(var n in e)r[n]=t(n,e[n]);return r},e.prototype.anonymizeFilePaths=function(e,t){if(null==e)return"";var r=[new RegExp(s.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")];this.extension&&r.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));var n=e;if(t){for(var o=[],i=0,a=r;i<a.length;i++)for(var l=a[i];;){var c=l.exec(e);if(!c)break;o.push([c.index,l.lastIndex])}var u=/^[\\\/]?(node_modules|node_modules\.asar)[\\\/]/,d=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-\._]+(\\\\|\\|\/))+[\w-\._]*/g,g=0;n="";for(var p=function(){var t=d.exec(e);if(!t)return"break";!u.test(t[0])&&o.every((function(e){var r=e[0],n=e[1];return t.index<r||t.index>=n}))&&(n+=e.substring(g,t.index)+"<REDACTED: user-file-path>",g=d.lastIndex)};;){if("break"===p())break}g<e.length&&(n+=e.substr(g))}for(var h=0,f=r;h<f.length;h++){l=f[h];n=n.replace(l,"")}return n},e.prototype.sendTelemetryEvent=function(e,t,r){var n=this;if(this.userOptIn&&e&&this.appInsightsClient){var o=this.cloneAndChange(t,(function(e,t){return n.anonymizeFilePaths(t,n.firstParty)}));this.appInsightsClient.trackEvent({name:this.extensionId+"/"+e,properties:o,measurements:r}),this.logStream&&this.logStream.write("telemetry/"+e+" "+JSON.stringify({properties:t,measurements:r})+"\n")}},e.prototype.sendTelemetryErrorEvent=function(e,t,r,n){var o=this;if(this.userOptIn&&e&&this.appInsightsClient){var i=this.cloneAndChange(t,(function(e,t){return o.shouldSendErrorTelemetry()?o.anonymizeFilePaths(t,o.firstParty):void 0===n||-1!==n.indexOf(e)?"REDACTED":o.anonymizeFilePaths(t,o.firstParty)}));this.appInsightsClient.trackEvent({name:this.extensionId+"/"+e,properties:i,measurements:r}),this.logStream&&this.logStream.write("telemetry/"+e+" "+JSON.stringify({properties:t,measurements:r})+"\n")}},e.prototype.sendTelemetryException=function(e,t,r){var n=this;if(this.shouldSendErrorTelemetry()&&this.userOptIn&&e&&this.appInsightsClient){var o=this.cloneAndChange(t,(function(e,t){return n.anonymizeFilePaths(t,n.firstParty)}));this.appInsightsClient.trackException({exception:e,properties:o,measurements:r}),this.logStream&&this.logStream.write("telemetry/"+e.name+" "+e.message+" "+JSON.stringify({properties:t,measurements:r})+"\n")}},e.prototype.dispose=function(){var e=this;this.optOutListener.dispose();var t=new Promise((function(t){if(!e.logStream)return t(void 0);e.logStream.on("finish",t),e.logStream.end()})),r=new Promise((function(t){e.appInsightsClient?e.appInsightsClient.flush({callback:function(){e.appInsightsClient=void 0,t(void 0)}}):t(void 0)}));return Promise.all([r,t])},e.TELEMETRY_CONFIG_ID="telemetry",e.TELEMETRY_CONFIG_ENABLED_ID="enableTelemetry",e}();t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(44),i=r(175),s=r(196),a=r(71),l=r(54),c=r(103),u=r(39),d=r(6),g=r(205),p=r(209);t.TelemetryClient=r(211),t.Contracts=r(12),function(e){e[e.AI=0]="AI",e[e.AI_AND_W3C=1]="AI_AND_W3C"}(n=t.DistributedTracingModes||(t.DistributedTracingModes={}));var h,f,m,y,v,_,T,S,b,E=!0,C=!1,R=!0,w=!0,D=!0,A=!0,O=!0,I=!0,P=!1,N=!0,M=void 0,k=void 0,j=!1;function x(){return t.defaultClient?(j=!0,m.enable(E,C),y.enable(R),v.enable(w),_.enable(N,f),T.useAutoCorrelation(I,h),T.enable(D),S.enable(A),t.liveMetricsClient&&P&&t.liveMetricsClient.enable(P)):d.warn("Start cannot be called before setup"),L}t.setup=function(e){return t.defaultClient?d.info("The default client is already setup"):(t.defaultClient=new t.TelemetryClient(e),m=new i(t.defaultClient),y=new s(t.defaultClient),v=new a(t.defaultClient),T=new c(t.defaultClient),S=new l(t.defaultClient),_||(_=new p.AutoCollectNativePerformance(t.defaultClient))),t.defaultClient&&t.defaultClient.channel&&t.defaultClient.channel.setUseDiskRetryCaching(O,M,k),L},t.start=x,t.getCorrelationContext=function(){return I?o.CorrelationContextManager.getCurrentContext():null},t.wrapWithCorrelationContext=function(e){return o.CorrelationContextManager.wrapCallback(e)};var L=function(){function e(){}return e.setDistributedTracingMode=function(t){return u.w3cEnabled=t===n.AI_AND_W3C,e},e.setAutoCollectConsole=function(t,r){return void 0===r&&(r=!1),E=t,C=r,j&&m.enable(t,r),e},e.setAutoCollectExceptions=function(t){return R=t,j&&y.enable(t),e},e.setAutoCollectPerformance=function(t,r){void 0===r&&(r=!0),w=t;var n=p.AutoCollectNativePerformance.parseEnabled(r);return N=n.isEnabled,f=n.disabledMetrics,j&&(v.enable(t),_.enable(n.isEnabled,n.disabledMetrics)),e},e.setAutoCollectRequests=function(t){return D=t,j&&T.enable(t),e},e.setAutoCollectDependencies=function(t){return A=t,j&&S.enable(t),e},e.setAutoDependencyCorrelation=function(t,r){return I=t,h=r,j&&T.useAutoCorrelation(t,r),e},e.setUseDiskRetryCaching=function(r,n,o){return O=r,M=n,k=o,t.defaultClient&&t.defaultClient.channel&&t.defaultClient.channel.setUseDiskRetryCaching(r,n,o),e},e.setInternalLogging=function(t,r){return void 0===t&&(t=!1),void 0===r&&(r=!0),d.enableDebug=t,d.disableWarnings=!r,e},e.setSendLiveMetrics=function(r){return void 0===r&&(r=!1),t.defaultClient?(!t.liveMetricsClient&&r?(t.liveMetricsClient=new g(t.defaultClient.config.instrumentationKey),b=new a(t.liveMetricsClient,1e3,!0),t.liveMetricsClient.addCollector(b),t.defaultClient.quickPulseClient=t.liveMetricsClient):t.liveMetricsClient&&t.liveMetricsClient.enable(r),P=r,e):(d.warn("Live metrics client cannot be setup without the default client"),e)},e.start=x,e}();t.Configuration=L,t.dispose=function(){t.defaultClient=null,j=!1,m&&m.dispose(),y&&y.dispose(),v&&v.dispose(),_&&_.dispose(),T&&T.dispose(),S&&S.dispose(),t.liveMetricsClient&&(t.liveMetricsClient.enable(!1),P=!1,t.liveMetricsClient=void 0)}},function(e,t){e.exports=require("diagnostic-channel-publishers")},function(e){e.exports=JSON.parse('{"_args":[["diagnostic-channel@0.2.0","/home/vsts/work/1/s/extension"]],"_from":"diagnostic-channel@0.2.0","_id":"diagnostic-channel@0.2.0","_inBundle":false,"_integrity":"sha1-zJmvlhLCP7H/8TYSxy8sv6qNWhc=","_location":"/diagnostic-channel","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"diagnostic-channel@0.2.0","name":"diagnostic-channel","escapedName":"diagnostic-channel","rawSpec":"0.2.0","saveSpec":null,"fetchSpec":"0.2.0"},"_requiredBy":["/applicationinsights"],"_resolved":"https://registry.npmjs.org/diagnostic-channel/-/diagnostic-channel-0.2.0.tgz","_spec":"0.2.0","_where":"/home/vsts/work/1/s/extension","bugs":{"url":"https://github.com/Microsoft/node-diagnostic-channel/issues"},"dependencies":{"semver":"^5.3.0"},"description":"Provides a context-saving pub/sub channel to connect diagnostic event publishers and subscribers","devDependencies":{"@types/mocha":"^2.2.40","@types/node":"^7.0.12","mocha":"^3.2.0","rimraf":"^2.6.1","tslint":"^5.0.0","typescript":"^2.2.1"},"files":["dist/src/**/*.d.ts","dist/src/**/*.js","LICENSE","README.md","package.json"],"homepage":"https://github.com/Microsoft/node-diagnostic-channel","license":"MIT","main":"./dist/src/channel.js","name":"diagnostic-channel","repository":{"type":"git","url":"git+https://github.com/Microsoft/node-diagnostic-channel.git"},"scripts":{"build":"tsc","clean":"rimraf ./dist","lint":"tslint -c tslint.json -p tsconfig.json","test":"mocha ./dist/tests/**/*.js"},"types":"./dist/src/channel.d.ts","version":"0.2.0"}')},function(e,t,r){"use strict";const n=r(66);process&&n.gte(process.versions.node,"8.0.0")?e.exports=r(161):e.exports=r(163)},function(e,t,r){"use strict";const n=r(30),o=r(67),i=r(68),s=r(162),a=process.env.DEBUG_CLS_HOOKED;let l=-1;function c(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map,this._indent=0}function u(e){return process.namespaces[e]}function d(e){let t=u(e);o.ok(t,"can't delete nonexistent namespace! \""+e+'"'),o.ok(t.id,"don't assign to process.namespaces directly! "+n.inspect(t)),process.namespaces[e]=null}function g(...e){a&&process._rawDebug(""+n.format(...e))}e.exports={getNamespace:u,createNamespace:function(e){o.ok(e,"namespace must be given a name."),a&&g(`NS-CREATING NAMESPACE (${e})`);let t=new c(e);t.id=l;return s.createHook({init(r,o,i,c){l=s.executionAsyncId();if(t.active){t._contexts.set(r,t.active);if(a){const s=" ".repeat(t._indent<0?0:t._indent);g(`${s}INIT [${o}] (${e}) asyncId:${r} currentUid:${l} triggerId:${i} active:${n.inspect(t.active,{showHidden:true,depth:2,colors:true})} resource:${c}`)}}else if(l===0){const i=s.triggerAsyncId();const u=t._contexts.get(i);if(u){t._contexts.set(r,u);if(a){const s=" ".repeat(t._indent<0?0:t._indent);g(`${s}INIT USING CONTEXT FROM TRIGGERID [${o}] (${e}) asyncId:${r} currentUid:${l} triggerId:${i} active:${n.inspect(t.active,{showHidden:true,depth:2,colors:true})} resource:${c}`)}}else if(a){const s=" ".repeat(t._indent<0?0:t._indent);g(`${s}INIT MISSING CONTEXT [${o}] (${e}) asyncId:${r} currentUid:${l} triggerId:${i} active:${n.inspect(t.active,{showHidden:true,depth:2,colors:true})} resource:${c}`)}}if(a&&o==="PROMISE"){g(n.inspect(c,{showHidden:true}));const s=c.parentId;const a=" ".repeat(t._indent<0?0:t._indent);g(`${a}INIT RESOURCE-PROMISE [${o}] (${e}) parentId:${s} asyncId:${r} currentUid:${l} triggerId:${i} active:${n.inspect(t.active,{showHidden:true,depth:2,colors:true})} resource:${c}`)}},before(r){l=s.executionAsyncId();let o;o=t._contexts.get(r)||t._contexts.get(l);if(o){if(a){const i=s.triggerAsyncId();const a=" ".repeat(t._indent<0?0:t._indent);g(`${a}BEFORE (${e}) asyncId:${r} currentUid:${l} triggerId:${i} active:${n.inspect(t.active,{showHidden:true,depth:2,colors:true})} context:${n.inspect(o)}`);t._indent+=2}t.enter(o)}else if(a){const o=s.triggerAsyncId();const i=" ".repeat(t._indent<0?0:t._indent);g(`${i}BEFORE MISSING CONTEXT (${e}) asyncId:${r} currentUid:${l} triggerId:${o} active:${n.inspect(t.active,{showHidden:true,depth:2,colors:true})} namespace._contexts:${n.inspect(t._contexts,{showHidden:true,depth:2,colors:true})}`);t._indent+=2}},after(r){l=s.executionAsyncId();let o;o=t._contexts.get(r)||t._contexts.get(l);if(o){if(a){const i=s.triggerAsyncId();t._indent-=2;const a=" ".repeat(t._indent<0?0:t._indent);g(`${a}AFTER (${e}) asyncId:${r} currentUid:${l} triggerId:${i} active:${n.inspect(t.active,{showHidden:true,depth:2,colors:true})} context:${n.inspect(o)}`)}t.exit(o)}else if(a){const i=s.triggerAsyncId();t._indent-=2;const a=" ".repeat(t._indent<0?0:t._indent);g(`${a}AFTER MISSING CONTEXT (${e}) asyncId:${r} currentUid:${l} triggerId:${i} active:${n.inspect(t.active,{showHidden:true,depth:2,colors:true})} context:${n.inspect(o)}`)}},destroy(r){l=s.executionAsyncId();if(a){const o=s.triggerAsyncId();const i=" ".repeat(t._indent<0?0:t._indent);g(`${i}DESTROY (${e}) currentUid:${l} asyncId:${r} triggerId:${o} active:${n.inspect(t.active,{showHidden:true,depth:2,colors:true})} context:${n.inspect(t._contexts.get(l))}`)}t._contexts.delete(r)}}).enable(),process.namespaces[e]=t,t},destroyNamespace:d,reset:function(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){d(e)}));process.namespaces=Object.create(null)},ERROR_SYMBOL:"error@context"},c.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");if(this.active[e]=t,a){g(" ".repeat(this._indent<0?0:this._indent)+"CONTEXT-SET KEY:"+e+"="+t+" in ns:"+this.name+" currentUid:"+l+" active:"+n.inspect(this.active,{showHidden:!0,depth:2,colors:!0}))}return t},c.prototype.get=function(e){if(this.active){if(a){const t=s.executionAsyncId(),r=s.triggerAsyncId(),o=" ".repeat(this._indent<0?0:this._indent);g(o+"CONTEXT-GETTING KEY:"+e+"="+this.active[e]+" ("+this.name+") currentUid:"+l+" active:"+n.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),g(`${o}CONTEXT-GETTING KEY: (${this.name}) ${e}=${this.active[e]} currentUid:${l} asyncHooksCurrentId:${t} triggerId:${r} len:${this._set.length} active:${n.inspect(this.active)}`)}return this.active[e]}if(a){const t=s.currentId(),r=s.triggerAsyncId();g(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${e}=undefined currentUid:${l} asyncHooksCurrentId:${t} triggerId:${r} len:${this._set.length}`)}},c.prototype.createContext=function(){let e=Object.create(this.active?this.active:Object.prototype);if(e._ns_name=this.name,e.id=l,a){const t=s.executionAsyncId(),r=s.triggerAsyncId();g(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-CREATED Context: (${this.name}) currentUid:${l} asyncHooksCurrentId:${t} triggerId:${r} len:${this._set.length} context:${n.inspect(e,{showHidden:!0,depth:2,colors:!0})}`)}return e},c.prototype.run=function(e){let t=this.createContext();this.enter(t);try{if(a){const e=s.triggerAsyncId(),r=s.executionAsyncId();g(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${l} triggerId:${e} asyncHooksCurrentId:${r} len:${this._set.length} context:${n.inspect(t)}`)}return e(t),t}catch(e){throw e&&(e["error@context"]=t),e}finally{if(a){const e=s.triggerAsyncId(),r=s.executionAsyncId();g(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-RUN END: (${this.name}) currentUid:${l} triggerId:${e} asyncHooksCurrentId:${r} len:${this._set.length} ${n.inspect(t)}`)}this.exit(t)}},c.prototype.runAndReturn=function(e){let t;return this.run((function(r){t=e(r)})),t},c.prototype.runPromise=function(e){let t=this.createContext();this.enter(t);let r=e(t);if(!r||!r.then||!r.catch)throw new Error("fn must return a promise.");return a&&g("CONTEXT-runPromise BEFORE: ("+this.name+") currentUid:"+l+" len:"+this._set.length+" "+n.inspect(t)),r.then(e=>(a&&g("CONTEXT-runPromise AFTER then: ("+this.name+") currentUid:"+l+" len:"+this._set.length+" "+n.inspect(t)),this.exit(t),e)).catch(e=>{throw e["error@context"]=t,a&&g("CONTEXT-runPromise AFTER catch: ("+this.name+") currentUid:"+l+" len:"+this._set.length+" "+n.inspect(t)),this.exit(t),e})},c.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());let r=this;return function(){r.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e["error@context"]=t),e}finally{r.exit(t)}}},c.prototype.enter=function(e){if(o.ok(e,"context must be provided for entering"),a){const t=s.executionAsyncId(),r=s.triggerAsyncId();g(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-ENTER: (${this.name}) currentUid:${l} triggerId:${r} asyncHooksCurrentId:${t} len:${this._set.length} ${n.inspect(e)}`)}this._set.push(this.active),this.active=e},c.prototype.exit=function(e){if(o.ok(e,"context must be provided for exiting"),a){const t=s.executionAsyncId(),r=s.triggerAsyncId();g(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-EXIT: (${this.name}) currentUid:${l} triggerId:${r} asyncHooksCurrentId:${t} len:${this._set.length} ${n.inspect(e)}`)}if(this.active===e)return o.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());let t=this._set.lastIndexOf(e);t<0?(a&&g("??ERROR?? context exiting but not entered - ignoring: "+n.inspect(e)),o.ok(t>=0,"context not currently entered; can't exit. \n"+n.inspect(this)+"\n"+n.inspect(e))):(o.ok(t,"can't remove top context"),this._set.splice(t,1))},c.prototype.bindEmitter=function(e){o.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");let t=this,r="context@"+this.name;i(e,(function(e){e&&(e["cls@contexts"]||(e["cls@contexts"]=Object.create(null)),e["cls@contexts"][r]={namespace:t,context:t.active})}),(function(e){if(!e||!e["cls@contexts"])return e;let t=e,r=e["cls@contexts"];return Object.keys(r).forEach((function(e){let n=r[e];t=n.namespace.bind(t,n.context)})),t}))},c.prototype.fromException=function(e){return e["error@context"]},process.namespaces={}},function(e,t){e.exports=require("async_hooks")},function(e,t,r){"use strict";const n=r(30),o=r(67),i=r(68),s=r(164),a=[];for(let e in s.providers)a[s.providers[e]]=e;const l=process.env.DEBUG_CLS_HOOKED;let c=-1;function u(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map}function d(e){return process.namespaces[e]}function g(e){let t=d(e);o.ok(t,"can't delete nonexistent namespace! \""+e+'"'),o.ok(t.id,"don't assign to process.namespaces directly! "+n.inspect(t)),process.namespaces[e]=null}function p(e){process.env.DEBUG&&process._rawDebug(e)}function h(e){return e?"function"==typeof e?e.name?e.name:(e.toString().trim().match(/^function\s*([^\s(]+)/)||[])[1]:e.constructor&&e.constructor.name?e.constructor.name:void 0:e}if(e.exports={getNamespace:d,createNamespace:function(e){o.ok(e,"namespace must be given a name."),l&&p("CREATING NAMESPACE "+e);let t=new u(e);return t.id=c,s.addHooks({init(r,o,i,s,u){c=r,s?(t._contexts.set(r,t._contexts.get(s)),l&&p("PARENTID: "+e+" uid:"+r+" parent:"+s+" provider:"+i)):t._contexts.set(c,t.active),l&&p("INIT "+e+" uid:"+r+" parent:"+s+" provider:"+a[i]+" active:"+n.inspect(t.active,!0))},pre(r,o){c=r;let i=t._contexts.get(r);i?(l&&p(" PRE "+e+" uid:"+r+" handle:"+h(o)+" context:"+n.inspect(i)),t.enter(i)):l&&p(" PRE MISSING CONTEXT "+e+" uid:"+r+" handle:"+h(o))},post(r,o){c=r;let i=t._contexts.get(r);i?(l&&p(" POST "+e+" uid:"+r+" handle:"+h(o)+" context:"+n.inspect(i)),t.exit(i)):l&&p(" POST MISSING CONTEXT "+e+" uid:"+r+" handle:"+h(o))},destroy(r){c=r,l&&p("DESTROY "+e+" uid:"+r+" context:"+n.inspect(t._contexts.get(c))+" active:"+n.inspect(t.active,!0)),t._contexts.delete(r)}}),process.namespaces[e]=t,t},destroyNamespace:g,reset:function(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){g(e)}));process.namespaces=Object.create(null)},ERROR_SYMBOL:"error@context"},u.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return l&&p("    SETTING KEY:"+e+"="+t+" in ns:"+this.name+" uid:"+c+" active:"+n.inspect(this.active,!0)),this.active[e]=t,t},u.prototype.get=function(e){if(this.active)return l&&p("    GETTING KEY:"+e+"="+this.active[e]+" "+this.name+" uid:"+c+" active:"+n.inspect(this.active,!0)),this.active[e];l&&p("    GETTING KEY:"+e+"=undefined "+this.name+" uid:"+c+" active:"+n.inspect(this.active,!0))},u.prototype.createContext=function(){l&&p("   CREATING Context: "+this.name+" uid:"+c+" len:"+this._set.length+"  active:"+n.inspect(this.active,!0,2,!0));let e=Object.create(this.active?this.active:Object.prototype);return e._ns_name=this.name,e.id=c,l&&p("   CREATED Context: "+this.name+" uid:"+c+" len:"+this._set.length+"  context:"+n.inspect(e,!0,2,!0)),e},u.prototype.run=function(e){let t=this.createContext();this.enter(t);try{return l&&p(" BEFORE RUN: "+this.name+" uid:"+c+" len:"+this._set.length+" "+n.inspect(t)),e(t),t}catch(e){throw e&&(e["error@context"]=t),e}finally{l&&p(" AFTER RUN: "+this.name+" uid:"+c+" len:"+this._set.length+" "+n.inspect(t)),this.exit(t)}},u.prototype.runAndReturn=function(e){var t;return this.run((function(r){t=e(r)})),t},u.prototype.runPromise=function(e){let t=this.createContext();this.enter(t);let r=e(t);if(!r||!r.then||!r.catch)throw new Error("fn must return a promise.");return l&&p(" BEFORE runPromise: "+this.name+" uid:"+c+" len:"+this._set.length+" "+n.inspect(t)),r.then(e=>(l&&p(" AFTER runPromise: "+this.name+" uid:"+c+" len:"+this._set.length+" "+n.inspect(t)),this.exit(t),e)).catch(e=>{throw e["error@context"]=t,l&&p(" AFTER runPromise: "+this.name+" uid:"+c+" len:"+this._set.length+" "+n.inspect(t)),this.exit(t),e})},u.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());let r=this;return function(){r.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e["error@context"]=t),e}finally{r.exit(t)}}},u.prototype.enter=function(e){o.ok(e,"context must be provided for entering"),l&&p("  ENTER "+this.name+" uid:"+c+" len:"+this._set.length+" context: "+n.inspect(e)),this._set.push(this.active),this.active=e},u.prototype.exit=function(e){if(o.ok(e,"context must be provided for exiting"),l&&p("  EXIT "+this.name+" uid:"+c+" len:"+this._set.length+" context: "+n.inspect(e)),this.active===e)return o.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());let t=this._set.lastIndexOf(e);t<0?(l&&p("??ERROR?? context exiting but not entered - ignoring: "+n.inspect(e)),o.ok(t>=0,"context not currently entered; can't exit. \n"+n.inspect(this)+"\n"+n.inspect(e))):(o.ok(t,"can't remove top context"),this._set.splice(t,1))},u.prototype.bindEmitter=function(e){o.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");let t=this,r="context@"+this.name;i(e,(function(e){e&&(e["cls@contexts"]||(e["cls@contexts"]=Object.create(null)),e["cls@contexts"][r]={namespace:t,context:t.active})}),(function(e){if(!e||!e["cls@contexts"])return e;let t=e,r=e["cls@contexts"];return Object.keys(r).forEach((function(e){let n=r[e];t=n.namespace.bind(t,n.context)})),t}))},u.prototype.fromException=function(e){return e["error@context"]},process.namespaces={},s._state&&!s._state.enabled&&s.enable(),l){var f=r(94);for(var m in f.filter._modifiers)f.filter.deattach(m)}},function(e,t,r){"use strict";const n=r(165);if(global._asyncHook){if(global._asyncHook.version!==r(93).version)throw new Error("Conflicting version of async-hook-jl found");e.exports=global._asyncHook}else{r(94).filter.attach((function(e,t){return t.filter((function(e){const t=e.getFileName();return!(t&&t.slice(0,__dirname.length)===__dirname)}))})),e.exports=global._asyncHook=new n}},function(e,t,r){"use strict";const n=process.binding("async_wrap"),o=n.Providers.TIMERWRAP,i={nextTick:r(166),promise:r(167),timers:r(168)},s=new Set;function a(){this.enabled=!1,this.counter=0}function l(){const e=this.initFns=[],t=this.preFns=[],r=this.postFns=[],n=this.destroyFns=[];this.init=function(t,r,n,i){if(r!==o)for(const o of e)o(t,this,r,n,i);else s.add(t)},this.pre=function(e){if(!s.has(e))for(const r of t)r(e,this)},this.post=function(e,t){if(!s.has(e))for(const n of r)n(e,this,t)},this.destroy=function(e){if(s.has(e))s.delete(e);else for(const t of n)t(e)}}function c(e,t){const r=e.indexOf(t);-1!==r&&e.splice(r,1)}function u(){this._state=new a,this._hooks=new l,this.version=r(93).version,this.providers=n.Providers;for(const e of Object.keys(i))i[e].call(this);process.env.hasOwnProperty("NODE_ASYNC_HOOK_WARNING")&&console.warn("warning: you are using async-hook-jl which is unstable."),n.setupHooks({init:this._hooks.init,pre:this._hooks.pre,post:this._hooks.post,destroy:this._hooks.destroy})}l.prototype.add=function(e){e.init&&this.initFns.push(e.init),e.pre&&this.preFns.push(e.pre),e.post&&this.postFns.push(e.post),e.destroy&&this.destroyFns.push(e.destroy)},l.prototype.remove=function(e){e.init&&c(this.initFns,e.init),e.pre&&c(this.preFns,e.pre),e.post&&c(this.postFns,e.post),e.destroy&&c(this.destroyFns,e.destroy)},e.exports=u,u.prototype.addHooks=function(e){this._hooks.add(e)},u.prototype.removeHooks=function(e){this._hooks.remove(e)},u.prototype.enable=function(){this._state.enabled=!0,n.enable()},u.prototype.disable=function(){this._state.enabled=!1,n.disable()}},function(e,t,r){"use strict";function n(){}e.exports=function(){const e=this._hooks,t=this._state,r=process.nextTick;process.nextTick=function(){if(!t.enabled)return r.apply(process,arguments);const o=new Array(arguments.length);for(let e=0;e<arguments.length;e++)o[e]=arguments[e];const i=o[0];if("function"!=typeof i)throw new TypeError("callback is not a function");const s=new n,a=--t.counter;return e.init.call(s,a,0,null,null),o[0]=function(){e.pre.call(s,a);let t=!0;try{i.apply(this,arguments),t=!1}finally{t&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",(function(){e.post.call(s,a,!0),e.destroy.call(null,a)}))}e.post.call(s,a,!1),e.destroy.call(null,a)},r.apply(process,o)}}},function(e,t,r){"use strict";function n(){}e.exports=function(){const e=this._hooks,t=this._state,r=global.Promise,o=r.prototype.then;function i(t,r,n,o){return"function"!=typeof t?o?function(t){return function(r){return e.destroy.call(null,t),r}}(n):function(t){return function(r){throw e.destroy.call(null,t),r}}(n):function(){e.pre.call(r,n);try{return t.apply(this,arguments)}finally{e.post.call(r,n,!1),e.destroy.call(null,n)}}}r.prototype.then=function(r,s){if(!t.enabled)return o.call(this,r,s);const a=new n,l=--t.counter;return e.init.call(a,l,0,null,null),o.call(this,i(r,a,l,!0),i(s,a,l,!1))}}},function(e,t,r){"use strict";const n=r(92);function o(){}function i(){}function s(){}const a=new Map,l=new Map,c=new Map;let u=null,d=!1;function g(e,t,r,o,i,s,a){const l=n[r],c=n[o];n[r]=function(){if(!t.enabled)return l.apply(n,arguments);const r=new Array(arguments.length);for(let e=0;e<arguments.length;e++)r[e]=arguments[e];const o=r[0];if("function"!=typeof o)throw new TypeError('"callback" argument must be a function');const c=new i,g=--t.counter;let p=void 0;return e.init.call(c,g,0,null,null),r[0]=function(){u=p,e.pre.call(c,g);let t=!0;try{o.apply(this,arguments),t=!1}finally{t&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",(function(){e.post.call(c,g,!0),s.delete(p),e.destroy.call(null,g)}))}e.post.call(c,g,!1),u=null,(a||d)&&(d=!1,s.delete(p),e.destroy.call(null,g))},p=l.apply(n,r),s.set(p,g),p},n[o]=function(t){if(u===t&&null!==t)d=!0;else if(s.has(t)){const r=s.get(t);s.delete(t),e.destroy.call(null,r)}c.apply(n,arguments)}}e.exports=function(){g(this._hooks,this._state,"setTimeout","clearTimeout",o,a,!0),g(this._hooks,this._state,"setInterval","clearInterval",i,l,!1),g(this._hooks,this._state,"setImmediate","clearImmediate",s,c,!0),global.setTimeout=n.setTimeout,global.setInterval=n.setInterval,global.setImmediate=n.setImmediate,global.clearTimeout=n.clearTimeout,global.clearInterval=n.clearInterval,global.clearImmediate=n.clearImmediate}},function(e,t,r){var n=r(170);function o(){this.extend=new a,this.filter=new a,this.format=new l,this.version=r(95).version}var i=!1;o.prototype.callSite=function e(t){t||(t={}),i=!0;var r={};Error.captureStackTrace(r,e);var n=r.stack;return i=!1,n=n.slice(t.slice||0),t.extend&&(n=this.extend._modify(r,n)),t.filter&&(n=this.filter._modify(r,n)),n};var s=new o;function a(){this._modifiers=[]}function l(){this._formater=n,this._previous=void 0}a.prototype._modify=function(e,t){for(var r=0,n=this._modifiers.length;r<n;r++)t=this._modifiers[r](e,t);return t},a.prototype.attach=function(e){this._modifiers.push(e)},a.prototype.deattach=function(e){var t=this._modifiers.indexOf(e);return-1!==t&&(this._modifiers.splice(t,1),!0)},l.prototype.replace=function(e){e?this._formater=e:this.restore()},l.prototype.restore=function(){this._formater=n,this._previous=void 0},l.prototype._backup=function(){this._previous=this._formater},l.prototype._roolback=function(){this._previous===n?this.replace(void 0):this.replace(this._previous),this._previous=void 0},Error.prepareStackTrace&&s.format.replace(Error.prepareStackTrace);var c=!1;function u(e,t){if(i)return t;if(c)return n(e,t);var r=t.concat();r=s.extend._modify(e,r),r=(r=s.filter._modify(e,r)).slice(0,Error.stackTraceLimit),Object.isExtensible(e)&&void 0===Object.getOwnPropertyDescriptor(e,"callSite")&&(e.callSite={original:t,mutated:r}),c=!0;var o=s.format._formater(e,r);return c=!1,o}Object.defineProperty(Error,"prepareStackTrace",{get:function(){return u},set:function(e){e===u?s.format._roolback():(s.format._backup(),s.format.replace(e))}}),Object.defineProperty(Error.prototype,"callSite",{get:function(){return this.stack,this.callSite},set:function(e){Object.defineProperty(this,"callSite",{value:e,writable:!0,configurable:!0})},configurable:!0}),e.exports=s},function(e,t){e.exports=function(e,t){var r=[];r.push(function(e){try{return Error.prototype.toString.call(e)}catch(e){try{return"<error: "+e+">"}catch(e){return"<error>"}}}(e));for(var n=0;n<t.length;n++){var o,i=t[n];try{o=i.toString()}catch(e){try{o="<error: "+e+">"}catch(e){o="<error>"}}r.push("    at "+o)}return r.join("\n")}},function(e,t,r){"use strict";var n=r(67),o=r(68);function i(e){this.name=e,this.active=null,this._set=[],this.id=null}function s(e){return process.namespaces[e]}function a(e){var t=s(e);n.ok(t,"can't delete nonexistent namespace!"),n.ok(t.id,"don't assign to process.namespaces directly!"),process.removeAsyncListener(t.id),process.namespaces[e]=null}function l(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){a(e)})),process.namespaces=Object.create(null)}process.addAsyncListener||r(172),i.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[e]=t,t},i.prototype.get=function(e){if(this.active)return this.active[e]},i.prototype.createContext=function(){return Object.create(this.active)},i.prototype.run=function(e){var t=this.createContext();this.enter(t);try{return e(t),t}catch(e){throw e&&(e["error@context"]=t),e}finally{this.exit(t)}},i.prototype.runAndReturn=function(e){var t;return this.run((function(r){t=e(r)})),t},i.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());var r=this;return function(){r.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e["error@context"]=t),e}finally{r.exit(t)}}},i.prototype.enter=function(e){n.ok(e,"context must be provided for entering"),this._set.push(this.active),this.active=e},i.prototype.exit=function(e){if(n.ok(e,"context must be provided for exiting"),this.active===e)return n.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());var t=this._set.lastIndexOf(e);n.ok(t>=0,"context not currently entered; can't exit"),n.ok(t,"can't remove top context"),this._set.splice(t,1)},i.prototype.bindEmitter=function(e){n.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");var t=this,r="context@"+this.name;o(e,(function(e){e&&(e["cls@contexts"]||(e["cls@contexts"]=Object.create(null)),e["cls@contexts"][r]={namespace:t,context:t.active})}),(function(e){if(!e||!e["cls@contexts"])return e;var t=e,r=e["cls@contexts"];return Object.keys(r).forEach((function(e){var n=r[e];t=n.namespace.bind(t,n.context)})),t}))},i.prototype.fromException=function(e){return e["error@context"]},process.namespaces||l(),e.exports={getNamespace:s,createNamespace:function(e){n.ok(e,"namespace must be given a name!");var t=new i(e);return t.id=process.addAsyncListener({create:function(){return t.active},before:function(e,r){r&&t.enter(r)},after:function(e,r){r&&t.exit(r)},error:function(e){e&&t.exit(e)}}),process.namespaces[e]=t,t},destroyNamespace:a,reset:l}},function(e,t,r){"use strict";if(process.addAsyncListener)throw new Error("Don't require polyfill unless needed");var n=r(69),o=r(66),i=n.wrap,s=n.massWrap,a=r(173),l=r(30),c=o.gte(process.version,"6.0.0"),u=o.gte(process.version,"7.0.0"),d=o.gte(process.version,"8.0.0"),g=o.gte(process.version,"11.0.0"),p=r(25);function h(e){return function(){this.on("connection",(function(e){e._handle&&(e._handle.onread=a(e._handle.onread))}));try{return e.apply(this,arguments)}finally{this._handle&&this._handle.onconnection&&(this._handle.onconnection=a(this._handle.onconnection))}}}function f(e){if(e&&e._handle){var t=e._handle;t._originalOnread||(t._originalOnread=t.onread),t.onread=a(t._originalOnread)}}u&&!p._normalizeArgs?p._normalizeArgs=function(e){if(0===e.length)return[{},null];var t,r,n=e[0],o={};"object"==typeof n&&null!==n?o=n:"string"==typeof(t=n)&&!1===(r=t,(r=Number(r))>=0&&r)?o.path=n:(o.port=n,e.length>1&&"string"==typeof e[1]&&(o.host=e[1]));var i=e[e.length-1];return"function"!=typeof i?[o,null]:[o,i]}:u||p._normalizeConnectArgs||(p._normalizeConnectArgs=function(e){var t,r={};"object"==typeof e[0]&&null!==e[0]?r=e[0]:"string"==typeof e[0]&&!1===(t=e[0],(t=Number(t))>=0&&t)?r.path=e[0]:(r.port=e[0],"string"==typeof e[1]&&(r.host=e[1]));var n=e[e.length-1];return"function"==typeof n?[r,n]:[r]}),"_setUpListenHandle"in p.Server.prototype?i(p.Server.prototype,"_setUpListenHandle",h):i(p.Server.prototype,"_listen2",h),i(p.Socket.prototype,"connect",(function(e){return function(){var t;(t=d&&Array.isArray(arguments[0])&&Object.getOwnPropertySymbols(arguments[0]).length>0?arguments[0]:u?p._normalizeArgs(arguments):p._normalizeConnectArgs(arguments))[1]&&(t[1]=a(t[1]));var r=e.apply(this,t);return f(this),r}}));var m=r(45);i(m.Agent.prototype,"addRequest",(function(e){return function(t){var r=t.onSocket;return t.onSocket=a((function(e){return f(e),r.apply(this,arguments)})),e.apply(this,arguments)}}));var y=r(37);function v(e){Array.isArray(e.stdio)&&e.stdio.forEach((function(e){e&&e._handle&&(e._handle.onread=a(e._handle.onread),i(e._handle,"close",N))})),e._handle&&(e._handle.onexit=a(e._handle.onexit))}y.ChildProcess?i(y.ChildProcess.prototype,"spawn",(function(e){return function(){var t=e.apply(this,arguments);return v(this),t}})):s(y,["execFile","fork","spawn"],(function(e){return function(){var t=e.apply(this,arguments);return v(t),t}})),process._fatalException||(process._originalNextTick=process.nextTick);var _=[];process._nextDomainTick&&_.push("_nextDomainTick"),process._tickDomainCallback&&_.push("_tickDomainCallback"),s(process,_,P),i(process,"nextTick",N);var T=["setTimeout","setInterval"];global.setImmediate&&T.push("setImmediate");var S=r(92),b=global.setTimeout===S.setTimeout;s(S,T,N),b&&s(global,T,N);var E=r(96);s(E,["lookup","resolve","resolve4","resolve6","resolveCname","resolveMx","resolveNs","resolveTxt","resolveSrv","reverse"],P),E.resolveNaptr&&i(E,"resolveNaptr",P);var C,R,w=r(22);s(w,["watch","rename","truncate","chown","fchown","chmod","fchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","watchFile","unwatchFile","exists"],P),w.lchown&&i(w,"lchown",P),w.lchmod&&i(w,"lchmod",P),w.ftruncate&&i(w,"ftruncate",P);try{C=r(70)}catch(e){}if(C&&C.Deflate&&C.Deflate.prototype){var D=Object.getPrototypeOf(C.Deflate.prototype);D._transform?i(D,"_transform",P):D.write&&D.flush&&D.end&&s(D,["write","flush","end"],P)}try{R=r(64)}catch(e){}if(R){var A=["pbkdf2","randomBytes"];g||A.push("pseudoRandomBytes"),s(R,A,P)}var O=!!global.Promise&&"function Promise() { [native code] }"===Promise.toString()&&"function toString() { [native code] }"===Promise.toString.toString();if(O){var I=process.addAsyncListener({create:function(){O=!1}});global.Promise.resolve(!0).then((function(){O=!1})),process.removeAsyncListener(I)}function P(e){var t=function(){var t,r=arguments.length-1;if("function"==typeof arguments[r]){t=Array(arguments.length);for(var n=0;n<arguments.length-1;n++)t[n]=arguments[n];t[r]=a(arguments[r])}return e.apply(this,t||arguments)};switch(e.length){case 1:return function(r){return 1!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=a(r)),e.call(this,r))};case 2:return function(r,n){return 2!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=a(n)),e.call(this,r,n))};case 3:return function(r,n,o){return 3!==arguments.length?t.apply(this,arguments):("function"==typeof o&&(o=a(o)),e.call(this,r,n,o))};case 4:return function(r,n,o,i){return 4!==arguments.length?t.apply(this,arguments):("function"==typeof i&&(i=a(i)),e.call(this,r,n,o,i))};case 5:return function(r,n,o,i,s){return 5!==arguments.length?t.apply(this,arguments):("function"==typeof s&&(s=a(s)),e.call(this,r,n,o,i,s))};case 6:return function(r,n,o,i,s,l){return 6!==arguments.length?t.apply(this,arguments):("function"==typeof l&&(l=a(l)),e.call(this,r,n,o,i,s,l))};default:return t}}function N(e){var t=function(){var t;if("function"==typeof arguments[0]){(t=Array(arguments.length))[0]=a(arguments[0]);for(var r=1;r<arguments.length;r++)t[r]=arguments[r]}return e.apply(this,t||arguments)};switch(e.length){case 1:return function(r){return 1!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=a(r)),e.call(this,r))};case 2:return function(r,n){return 2!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=a(r)),e.call(this,r,n))};case 3:return function(r,n,o){return 3!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=a(r)),e.call(this,r,n,o))};case 4:return function(r,n,o,i){return 4!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=a(r)),e.call(this,r,n,o,i))};case 5:return function(r,n,o,i,s){return 5!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=a(r)),e.call(this,r,n,o,i,s))};case 6:return function(r,n,o,i,s,l){return 6!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=a(r)),e.call(this,r,n,o,i,s,l))};default:return t}}O&&function(){var e=global.Promise;function t(r){if(!(this instanceof t))return e(r);if("function"!=typeof r)return new e(r);var o,i,s=new e((function(e,t){o=this,i=[function(t){return n(s,!1),e(t)},function(e){return n(s,!1),t(e)}]}));s.__proto__=t.prototype;try{r.apply(o,i)}catch(e){i[1](e)}return s}l.inherits(t,e),i(e.prototype,"then",s),e.prototype.chain&&i(e.prototype,"chain",s);if(c)global.Promise=r(174)(e,n);else{["all","race","reject","resolve","accept","defer"].forEach((function(r){"function"==typeof e[r]&&(t[r]=e[r])})),global.Promise=t}function n(e,t){e.__asl_wrapper&&!t||(e.__asl_wrapper=a(o))}function o(t,r,i,s){var a;try{return{returnVal:a=r.call(t,i),error:!1}}catch(e){return{errorVal:e,error:!0}}finally{a instanceof e?s.__asl_wrapper=function(){var e=a.__asl_wrapper||o;return e.apply(this,arguments)}:n(s,!0)}}function s(e){return function(){var t=this,r=e.apply(t,Array.prototype.map.call(arguments,n));return r.__asl_wrapper=function(e,n,i,s){return t.__asl_wrapper?(t.__asl_wrapper(e,(function(){}),null,r),r.__asl_wrapper(e,n,i,s)):o(e,n,i,s)},r;function n(e){return"function"!=typeof e?e:a((function(n){var i=(t.__asl_wrapper||o)(this,e,n,r);if(i.error)throw i.errorVal;return i.returnVal}))}}}}()},function(e,t,r){var n,o,i=r(69).wrap,s=[],a=0,l=!1,c=[];function u(e,t){var r=e.length,n=t.length,o=[];if(0===r&&0===n)return o;for(var i=0;i<r;i++)o[i]=e[i];if(0===n)return o;for(var s=0;s<n;s++){var a=!0;for(i=0;i<r;i++)if(e[i].uid===t[s].uid){a=!1;break}a&&o.push(t[s])}return o}if(process._fatalException){var d,g=!1;n=function(e){var t=s.length;if(g||0===t)return!1;var r=!1;g=!0;for(var n=0;n<t;++n){var o=s[n];if(0!=(8&o.flags)){var i=d&&d[o.uid];r=o.error(i,e)||r}}return g=!1,c.length>0&&(s=c.pop()),d=void 0,r&&!l},o=function(e,t,r){var n=[];l=!0;for(var o=0;o<r;++o){var i=t[o];if(n[i.uid]=i.data,0!=(1&i.flags)){var a=i.create(i.data);void 0!==a&&(n[i.uid]=a)}}return l=!1,function(){d=n,c.push(s),s=u(t,s),l=!0;for(var o=0;o<r;++o)(2&t[o].flags)>0&&t[o].before(this,n[t[o].uid]);l=!1;var i=e.apply(this,arguments);for(l=!0,o=0;o<r;++o)(4&t[o].flags)>0&&t[o].after(this,n[t[o].uid]);return l=!1,s=c.pop(),d=void 0,i}},i(process,"_fatalException",(function(e){return function(t){return n(t)||e(t)}}))}else{var p=!1;n=function(e){if(p)throw e;for(var t=!1,r=s.length,n=0;n<r;++n){var o=s[n];0!=(8&o.flags)&&(t=o.error(null,e)||t)}if(!t&&l)throw e},o=function(e,t,r){var o=[];l=!0;for(var i=0;i<r;++i){var a=t[i];if(o[a.uid]=a.data,0!=(1&a.flags)){var d=a.create(a.data);void 0!==d&&(o[a.uid]=d)}}return l=!1,function(){var i,a=!1,d=!1;c.push(s),s=u(t,s),l=!0;for(var g=0;g<r;++g)(2&t[g].flags)>0&&t[g].before(this,o[t[g].uid]);l=!1;try{i=e.apply(this,arguments)}catch(e){a=!0;for(g=0;g<r;++g)if(0!=(8&s[g].flags))try{d=s[g].error(o[t[g].uid],e)||d}catch(e){throw p=!0,e}if(!d)throw process.removeListener("uncaughtException",n),process._originalNextTick((function(){process.addListener("uncaughtException",n)})),e}finally{if(!a||d){for(l=!0,g=0;g<r;++g)(4&t[g].flags)>0&&t[g].after(this,o[t[g].uid]);l=!1}s=c.pop()}return i}},process.addListener("uncaughtException",n)}function h(e,t){"function"==typeof e.create&&(this.create=e.create,this.flags|=1),"function"==typeof e.before&&(this.before=e.before,this.flags|=2),"function"==typeof e.after&&(this.after=e.after,this.flags|=4),"function"==typeof e.error&&(this.error=e.error,this.flags|=8),this.uid=++a,this.data=void 0===t?null:t}function f(e,t){if("object"!=typeof e||!e)throw new TypeError("callbacks argument must be an object");return e instanceof h?e:new h(e,t)}h.prototype.create=void 0,h.prototype.before=void 0,h.prototype.after=void 0,h.prototype.error=void 0,h.prototype.data=void 0,h.prototype.uid=0,h.prototype.flags=0,process.createAsyncListener=f,process.addAsyncListener=function(e,t){var r;r=e instanceof h?e:f(e,t);for(var n=!1,o=0;o<s.length;o++)if(r===s[o]){n=!0;break}return n||s.push(r),r},process.removeAsyncListener=function(e){for(var t=0;t<s.length;t++)if(e===s[t]){s.splice(t,1);break}},e.exports=function(e){var t=s.length;if(0===t)return e;for(var r=s.slice(),n=0;n<t;++n)if(r[n].flags>0)return o(e,r,t);return function(e,t,r){l=!0;for(var n=0;n<r;++n){var o=t[n];o.create&&o.create(o.data)}return l=!1,function(){c.push(s),s=u(t,s);var r=e.apply(this,arguments);return s=c.pop(),r}}(e,r,t)}},function(e,t,r){"use strict";e.exports=(e,t)=>class extends e{constructor(e){var r,n;super((function(e,i){r=this,n=[function(r){return t(o,!1),e(r)},function(e){return t(o,!1),i(e)}]}));var o=this;try{e.apply(r,n)}catch(e){n[1](e)}return o}}},function(e,t,r){"use strict";var n=r(65),o=function(){function e(t){if(e.INSTANCE)throw new Error("Console logging adapter tracking should be configured from the applicationInsights object");this._client=t,e.INSTANCE=this}return e.prototype.enable=function(e,t){n.IsInitialized&&(r(176).enable(e&&t,this._client),r(194).enable(e,this._client),r(195).enable(e,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1,!1)},e._methodNames=["debug","info","log","warn","error"],e}();e.exports=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(12),o=r(24),i=[],s=function(e){var t=e.data.message;i.forEach((function(r){t instanceof Error?r.trackException({exception:t}):(t.lastIndexOf("\n")==t.length-1&&(t=t.substring(0,t.length-1)),r.trackTrace({message:t,severity:e.data.stderr?n.SeverityLevel.Warning:n.SeverityLevel.Information}))}))};t.enable=function(e,t){e?(0===i.length&&o.channel.subscribe("console",s),i.push(t)):0===(i=i.filter((function(e){return e!=t}))).length&&o.channel.unsubscribe("console",s)},t.dispose=function(){o.channel.unsubscribe("console",s),i=[]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(97),o=function(){function e(){}return e.TYPE_HTTP="Http",e.TYPE_AI="Http (tracked component)",e}();t.RemoteDependencyDataConstants=o,t.domainSupportsProperties=function(e){return"properties"in e||e instanceof n.EventData||e instanceof n.ExceptionData||e instanceof n.MessageData||e instanceof n.MetricData||e instanceof n.PageViewData||e instanceof n.RemoteDependencyData||e instanceof n.RequestData}},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return o(t,e),t}(r(26));e.exports=i},function(e,t,r){"use strict";var n=function(){this.applicationVersion="ai.application.ver",this.deviceId="ai.device.id",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceOEMName="ai.device.oemName",this.deviceOSVersion="ai.device.osVersion",this.deviceType="ai.device.type",this.locationIp="ai.location.ip",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationCorrelationVector="ai.operation.correlationVector",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.userAccountId="ai.user.accountId",this.userId="ai.user.id",this.userAuthUserId="ai.user.authUserId",this.cloudRole="ai.cloud.role",this.cloudRoleInstance="ai.cloud.roleInstance",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion",this.internalNodeName="ai.internal.nodeName"};e.exports=n},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(e){function t(){return e.call(this)||this}return o(t,e),t}(r(98));e.exports=i},function(e,t,r){"use strict";var n=r(99),o=function(){this.kind=n.Measurement};e.exports=o},function(e,t,r){"use strict";var n=function(){this.ver=1,this.sampleRate=100,this.tags={}};e.exports=n},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.exceptions=[],t.properties={},t.measurements={},t}return o(t,e),t}(r(26));e.exports=i},function(e,t,r){"use strict";var n=function(){this.hasFullStack=!0,this.parsedStack=[]};e.exports=n},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t}return o(t,e),t}(r(26));e.exports=i},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.metrics=[],t.properties={},t}return o(t,e),t}(r(26));e.exports=i},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return o(t,e),t}(r(100));e.exports=i},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.success=!0,t.properties={},t.measurements={},t}return o(t,e),t}(r(26));e.exports=i},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return o(t,e),t}(r(26));e.exports=i},function(e,t,r){"use strict";var n;!function(e){e[e.Verbose=0]="Verbose",e[e.Information=1]="Information",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.Critical=4]="Critical"}(n||(n={})),e.exports=n},function(e,t,r){"use strict";var n=function(){};e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(193))},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.telemetryTypeToBaseType=function(e){switch(e){case n.Event:return"EventData";case n.Exception:return"ExceptionData";case n.Trace:return"MessageData";case n.Metric:return"MetricData";case n.Request:return"RequestData";case n.Dependency:return"RemoteDependencyData";case n.Availability:return"AvailabilityData"}},t.baseTypeToTelemetryType=function(e){switch(e){case"EventData":return n.Event;case"ExceptionData":return n.Exception;case"MessageData":return n.Trace;case"MetricData":return n.Metric;case"RequestData":return n.Request;case"RemoteDependencyData":return n.Dependency;case"AvailabilityData":return n.Availability}},t.TelemetryTypeString={Event:"EventData",Exception:"ExceptionData",Trace:"MessageData",Metric:"MetricData",Request:"RequestData",Dependency:"RemoteDependencyData",Availability:"AvailabilityData"},function(e){e[e.Event=0]="Event",e[e.Exception=1]="Exception",e[e.Trace=2]="Trace",e[e.Metric=3]="Metric",e[e.Request=4]="Request",e[e.Dependency=5]="Dependency",e[e.Availability=6]="Availability"}(n=t.TelemetryType||(t.TelemetryType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(12),o=r(24),i=[],s={10:n.SeverityLevel.Verbose,20:n.SeverityLevel.Verbose,30:n.SeverityLevel.Information,40:n.SeverityLevel.Warning,50:n.SeverityLevel.Error,60:n.SeverityLevel.Critical},a=function(e){var t=e.data.result;i.forEach((function(r){var n=s[e.data.level];t instanceof Error?r.trackException({exception:t}):r.trackTrace({message:t,severity:n})}))};t.enable=function(e,t){e?(0===i.length&&o.channel.subscribe("bunyan",a),i.push(t)):0===(i=i.filter((function(e){return e!=t}))).length&&o.channel.unsubscribe("bunyan",a)},t.dispose=function(){o.channel.unsubscribe("bunyan",a),i=[]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(12),o=r(24),i=[],s={syslog:function(e){var t={emerg:n.SeverityLevel.Critical,alert:n.SeverityLevel.Critical,crit:n.SeverityLevel.Critical,error:n.SeverityLevel.Error,warning:n.SeverityLevel.Warning,notice:n.SeverityLevel.Information,info:n.SeverityLevel.Information,debug:n.SeverityLevel.Verbose};return void 0===t[e]?n.SeverityLevel.Information:t[e]},npm:function(e){var t={error:n.SeverityLevel.Error,warn:n.SeverityLevel.Warning,info:n.SeverityLevel.Information,verbose:n.SeverityLevel.Verbose,debug:n.SeverityLevel.Verbose,silly:n.SeverityLevel.Verbose};return void 0===t[e]?n.SeverityLevel.Information:t[e]},unknown:function(e){return n.SeverityLevel.Information}},a=function(e){var t=e.data.message;i.forEach((function(r){if(t instanceof Error)r.trackException({exception:t,properties:e.data.meta});else{var n=s[e.data.levelKind](e.data.level);r.trackTrace({message:t,severity:n,properties:e.data.meta})}}))};t.enable=function(e,t){e?(0===i.length&&o.channel.subscribe("winston",a),i.push(t)):0===(i=i.filter((function(e){return e!=t}))).length&&o.channel.unsubscribe("winston",a)},t.dispose=function(){o.channel.unsubscribe("winston",a),i=[]}},function(e,t,r){"use strict";var n=function(){function e(t){if(e.INSTANCE)throw new Error("Exception tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t;var r=process.versions.node.split(".");e._canUseUncaughtExceptionMonitor=parseInt(r[0])>13||13===parseInt(r[0])&&parseInt(r[1])>=7}return e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.enable=function(t){var r=this;if(t){this._isInitialized=!0;if(!this._exceptionListenerHandle){var n=function(t,n,o){void 0===o&&(o=new Error(e._FALLBACK_ERROR_MESSAGE)),r._client.trackException({exception:o}),r._client.flush({isAppCrashing:!0}),t&&n&&1===process.listeners(n).length&&(console.error(o),process.exit(1))};e._canUseUncaughtExceptionMonitor?(this._exceptionListenerHandle=n.bind(this,!1),process.on(e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle)):(this._exceptionListenerHandle=n.bind(this,!0,e.UNCAUGHT_EXCEPTION_HANDLER_NAME),this._rejectionListenerHandle=n.bind(this,!1),process.on(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.on(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle))}}else this._exceptionListenerHandle&&(e._canUseUncaughtExceptionMonitor?process.removeListener(e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle):(process.removeListener(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.removeListener(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle)),this._exceptionListenerHandle=void 0,this._rejectionListenerHandle=void 0,delete this._exceptionListenerHandle,delete this._rejectionListenerHandle)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.INSTANCE=null,e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME="uncaughtExceptionMonitor",e.UNCAUGHT_EXCEPTION_HANDLER_NAME="uncaughtException",e.UNHANDLED_REJECTION_HANDLER_NAME="unhandledRejection",e._RETHROW_EXIT_MESSAGE="Application Insights Rethrow Exception Handler",e._FALLBACK_ERROR_MESSAGE="A promise was rejected without providing an error. Application Insights generated this error stack for you.",e._canUseUncaughtExceptionMonitor=!1,e}();e.exports=n},function(e,t){e.exports=require("constants")},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=r(38),s=r(12),a=r(18),l=r(47),c=r(101),u=r(39),d=function(e){function t(r,n){var o=e.call(this)||this;return n&&n.method&&r&&(o.method=n.method,o.url=t._getUrlFromRequestOptions(r,n),o.startTime=+new Date),o}return o(t,e),t.prototype.onError=function(e){this._setStatus(void 0,e)},t.prototype.onResponse=function(e){this._setStatus(e.statusCode,void 0),this.correlationId=a.getCorrelationContextTarget(e,l.requestContextTargetKey)},t.prototype.getDependencyTelemetry=function(e,t){var r=i.parse(this.url);r.search=void 0,r.hash=void 0;var n=this.method.toUpperCase()+" "+r.pathname,o=s.RemoteDependencyDataConstants.TYPE_HTTP,a=r.hostname;this.correlationId?(o=s.RemoteDependencyDataConstants.TYPE_AI,this.correlationId!==u.correlationIdPrefix&&(a=r.hostname+" | "+this.correlationId)):o=s.RemoteDependencyDataConstants.TYPE_HTTP,r.port&&(a+=":"+r.port);var l={id:t,name:n,data:this.url,duration:this.duration,success:this._isSuccess(),resultCode:this.statusCode?this.statusCode.toString():null,properties:this.properties||{},dependencyTypeName:o,target:a};if(e){for(var c in e)l[c]||(l[c]=e[c]);if(e.properties)for(var c in e.properties)l.properties[c]=e.properties[c]}return l},t._getUrlFromRequestOptions=function(e,t){if("string"==typeof e)e=i.parse(e);else{var r=e;e={},r&&Object.keys(r).forEach((function(t){e[t]=r[t]}))}if(e.path){var n=i.parse(e.path);e.pathname=n.pathname,e.search=n.search}e.host&&e.port&&(!i.parse("http://"+e.host).port&&e.port&&(e.hostname=e.host,delete e.host));return e.protocol=e.protocol||t.agent&&t.agent.protocol||void 0,e.hostname=e.hostname||"localhost",i.format(e)},t}(c);e.exports=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(24),o=[];t.subscriber=function(e){e.data.event.commandName,o.forEach((function(t){var r=e.data.startedData&&e.data.startedData.databaseName||"Unknown database";t.trackDependency({target:r,data:e.data.event.commandName,name:e.data.event.commandName,duration:e.data.event.duration,success:e.data.succeeded,resultCode:e.data.succeeded?"0":"1",dependencyTypeName:"mongodb"})}))},t.enable=function(e,r){e?(0===o.length&&n.channel.subscribe("mongodb",t.subscriber),o.push(r)):0===(o=o.filter((function(e){return e!=r}))).length&&n.channel.unsubscribe("mongodb",t.subscriber)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(24),o=[];t.subscriber=function(e){o.forEach((function(t){var r=e.data.query||{},n=r.sql||"Unknown query",o=!e.data.err,i=(r._connection||{}).config||{},s=i.socketPath?i.socketPath:(i.host||"localhost")+":"+i.port;t.trackDependency({target:s,data:n,name:n,duration:e.data.duration,success:o,resultCode:o?"0":"1",dependencyTypeName:"mysql"})}))},t.enable=function(e,r){e?(0===o.length&&n.channel.subscribe("mysql",t.subscriber),o.push(r)):0===(o=o.filter((function(e){return e!=r}))).length&&n.channel.unsubscribe("mysql",t.subscriber)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(24),o=[];t.subscriber=function(e){o.forEach((function(t){"info"!==e.data.commandObj.command&&t.trackDependency({target:e.data.address,name:e.data.commandObj.command,data:e.data.commandObj.command,duration:e.data.duration,success:!e.data.err,resultCode:e.data.err?"1":"0",dependencyTypeName:"redis"})}))},t.enable=function(e,r){e?(0===o.length&&n.channel.subscribe("redis",t.subscriber),o.push(r)):0===(o=o.filter((function(e){return e!=r}))).length&&n.channel.unsubscribe("redis",t.subscriber)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(24),o=[];t.subscriber=function(e){o.forEach((function(t){var r=e.data.query,n=r.preparable&&r.preparable.text||r.plan||r.text||"unknown query",o=!e.data.error,i=e.data.database.host+":"+e.data.database.port;t.trackDependency({target:i,data:n,name:n,duration:e.data.duration,success:o,resultCode:o?"0":"1",dependencyTypeName:"postgres"})}))},t.enable=function(e,r){e?(0===o.length&&n.channel.subscribe("postgres",t.subscriber),o.push(r)):0===(o=o.filter((function(e){return e!=r}))).length&&n.channel.unsubscribe("postgres",t.subscriber)}},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=r(38),s=r(12),a=r(18),l=r(47),c=r(101),u=r(39),d=r(204),g=r(102),p=function(e){function t(t,r){var n=e.call(this)||this;return t&&(n.method=t.method,n.url=n._getAbsoluteUrl(t),n.startTime=+new Date,n.socketRemoteAddress=t.socket&&t.socket.remoteAddress,n.parseHeaders(t,r),t.connection&&(n.connectionRemoteAddress=t.connection.remoteAddress,n.legacySocketRemoteAddress=t.connection.socket&&t.connection.socket.remoteAddress)),n}return o(t,e),t.prototype.onError=function(e,t){this._setStatus(void 0,e),t&&(this.duration=t)},t.prototype.onResponse=function(e,t){this._setStatus(e.statusCode,void 0),t&&(this.duration=t)},t.prototype.getRequestTelemetry=function(e){var t={id:this.requestId,name:this.method+" "+i.parse(this.url).pathname,url:this.url,source:this.sourceCorrelationId,duration:this.duration,resultCode:this.statusCode?this.statusCode.toString():null,success:this._isSuccess(),properties:this.properties};if(e){for(var r in e)t[r]||(t[r]=e[r]);if(e.properties)for(var r in e.properties)t.properties[r]=e.properties[r]}return t},t.prototype.getRequestTags=function(e){var r={};for(var n in e)r[n]=e[n];return r[t.keys.locationIp]=e[t.keys.locationIp]||this._getIp(),r[t.keys.sessionId]=e[t.keys.sessionId]||this._getId("ai_session"),r[t.keys.userId]=e[t.keys.userId]||this._getId("ai_user"),r[t.keys.userAuthUserId]=e[t.keys.userAuthUserId]||this._getId("ai_authUser"),r[t.keys.operationName]=this.getOperationName(e),r[t.keys.operationParentId]=this.getOperationParentId(e),r[t.keys.operationId]=this.getOperationId(e),r},t.prototype.getOperationId=function(e){return e[t.keys.operationId]||this.operationId},t.prototype.getOperationParentId=function(e){return e[t.keys.operationParentId]||this.parentId||this.getOperationId(e)},t.prototype.getOperationName=function(e){return e[t.keys.operationName]||this.method+" "+i.parse(this.url).pathname},t.prototype.getRequestId=function(){return this.requestId},t.prototype.getCorrelationContextHeader=function(){return this.correlationContextHeader},t.prototype.getTraceparent=function(){return this.traceparent},t.prototype.getTracestate=function(){return this.tracestate},t.prototype.getLegacyRootId=function(){return this.legacyRootId},t.prototype._getAbsoluteUrl=function(e){if(!e.headers)return e.url;var t=e.connection?e.connection.encrypted:null,r=i.parse(e.url),n=r.pathname,o=r.search;return i.format({protocol:t?"https":"http",host:e.headers.host,pathname:n,search:o})},t.prototype._getIp=function(){var e=/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/,t=function(t){var r=e.exec(t);if(r)return r[0]},r=t(this.rawHeaders["x-forwarded-for"])||t(this.rawHeaders["x-client-ip"])||t(this.rawHeaders["x-real-ip"])||t(this.connectionRemoteAddress)||t(this.socketRemoteAddress)||t(this.legacySocketRemoteAddress);return!r&&this.connectionRemoteAddress&&this.connectionRemoteAddress.substr&&"::"===this.connectionRemoteAddress.substr(0,2)&&(r="127.0.0.1"),r},t.prototype._getId=function(e){var r=this.rawHeaders&&this.rawHeaders.cookie&&"string"==typeof this.rawHeaders.cookie&&this.rawHeaders.cookie||"";return t.parseId(a.getCookie(e,r))},t.prototype.setBackCompatFromThisTraceContext=function(){this.operationId=this.traceparent.traceId,this.traceparent.legacyRootId&&(this.legacyRootId=this.traceparent.legacyRootId),this.parentId=this.traceparent.parentId,this.traceparent.updateSpanId(),this.requestId=this.traceparent.getBackCompatRequestId()},t.prototype.parseHeaders=function(e,t){if(this.rawHeaders=e.headers||e.rawHeaders,this.userAgent=e.headers&&e.headers["user-agent"],this.sourceCorrelationId=a.getCorrelationContextTarget(e,l.requestContextSourceKey),e.headers){var r=e.headers[l.traceStateHeader],n=e.headers[l.traceparentHeader],o=e.headers[l.requestIdHeader],i=e.headers[l.parentIdHeader],s=e.headers[l.rootIdHeader];this.correlationContextHeader=e.headers[l.correlationContextHeader],u.w3cEnabled&&(n||r)?(this.traceparent=new g(n),this.tracestate=n&&r&&new d(r),this.setBackCompatFromThisTraceContext()):o?u.w3cEnabled?(this.traceparent=new g(null,o),this.setBackCompatFromThisTraceContext()):(this.parentId=o,this.requestId=u.generateRequestId(this.parentId),this.operationId=u.getRootId(this.requestId)):u.w3cEnabled?(this.traceparent=new g,this.traceparent.parentId=i,this.traceparent.legacyRootId=s||i,this.setBackCompatFromThisTraceContext()):(this.parentId=i,this.requestId=u.generateRequestId(s||this.parentId),this.correlationContextHeader=null,this.operationId=u.getRootId(this.requestId)),t&&(this.requestId=t,this.operationId=u.getRootId(this.requestId))}},t.parseId=function(e){var t=e.split("|");return t.length>0?t[0]:""},t.keys=new s.ContextTagKeys,t}(c);e.exports=p},function(e,t,r){"use strict";var n=function(){function e(e){this.fieldmap=[],e&&(this.fieldmap=this.parseHeader(e))}return e.prototype.toString=function(){var e=this.fieldmap;return e&&0!=e.length?e.join(", "):null},e.validateKeyChars=function(e){var t=e.split("@");if(2==t.length){var r=t[0].trim(),n=t[1].trim(),o=Boolean(r.match(/^[\ ]?[a-z0-9\*\-\_/]{1,241}$/)),i=Boolean(n.match(/^[\ ]?[a-z0-9\*\-\_/]{1,14}$/));return o&&i}return 1==t.length&&Boolean(e.match(/^[\ ]?[a-z0-9\*\-\_/]{1,256}$/))},e.prototype.parseHeader=function(t){var r=[],n={},o=t.split(",");if(o.length>32)return null;for(var i=0,s=o;i<s.length;i++){var a=s[i].trim();if(0!==a.length){var l=a.split("=");if(2!==l.length)return null;if(!e.validateKeyChars(l[0]))return null;if(n[l[0]])return null;n[l[0]]=!0,r.push(a)}}return r},e.strict=!0,e}();e.exports=n},function(e,t,r){"use strict";var n=r(6),o=r(72),i=r(207),s=r(208),a=r(46),l=r(73),c=function(){function e(e,t){this._isCollectingData=!1,this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0,this._metrics={},this._documents=[],this._collectors=[],this.config=new o(e),this.context=t||new l,this._sender=new s(this.config),this._isEnabled=!1}return e.prototype.addCollector=function(e){this._collectors.push(e)},e.prototype.trackMetric=function(e){this._addMetric(e)},e.prototype.addDocument=function(e){var t=i.telemetryEnvelopeToQuickPulseDocument(e);t&&this._documents.push(t)},e.prototype.enable=function(e){e&&!this._isEnabled?(this._isEnabled=!0,this._goQuickPulse()):!e&&this._isEnabled&&(this._isEnabled=!1,clearTimeout(this._handle),this._handle=void 0)},e.prototype.enableCollectors=function(e){this._collectors.forEach((function(t){t.enable(e)}))},e.prototype._addMetric=function(e){var t=e.value,r=e.count||1,n=a.PerformanceToQuickPulseCounter[e.name];n&&(this._metrics[n]?(this._metrics[n].Value=(this._metrics[n].Value*this._metrics[n].Weight+t*r)/(this._metrics[n].Weight+r),this._metrics[n].Weight+=r):(this._metrics[n]=i.createQuickPulseMetric(e),this._metrics[n].Name=n,this._metrics[n].Weight=1))},e.prototype._resetQuickPulseBuffer=function(){delete this._metrics,this._metrics={},this._documents.length=0},e.prototype._goQuickPulse=function(){var t=this,r=Object.keys(this._metrics).map((function(e){return t._metrics[e]})),n=i.createQuickPulseEnvelope(r,this._documents.slice(),this.config,this.context);this._resetQuickPulseBuffer(),this._isCollectingData?this._post(n):this._ping(n);var o=this._isCollectingData?e.POST_INTERVAL:e.PING_INTERVAL;this._isCollectingData&&Date.now()-this._lastSuccessTime>=e.MAX_POST_WAIT_TIME&&!this._lastSendSucceeded?(this._isCollectingData=!1,o=e.FALLBACK_INTERVAL):!this._isCollectingData&&Date.now()-this._lastSuccessTime>=e.MAX_PING_WAIT_TIME&&!this._lastSendSucceeded&&(o=e.FALLBACK_INTERVAL),this._lastSendSucceeded=null,this._handle=setTimeout(this._goQuickPulse.bind(this),o),this._handle.unref()},e.prototype._ping=function(e){this._sender.ping(e,this._quickPulseDone.bind(this))},e.prototype._post=function(e){this._sender.post(e,this._quickPulseDone.bind(this))},e.prototype._quickPulseDone=function(e,t){null!=e?(this._isCollectingData!==e&&(n.info("Live Metrics sending data",e),this.enableCollectors(e)),this._isCollectingData=e,t&&t.statusCode<300&&t.statusCode>=200?(this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0):this._lastSendSucceeded=!1):this._lastSendSucceeded=!1},e.MAX_POST_WAIT_TIME=2e4,e.MAX_PING_WAIT_TIME=6e4,e.FALLBACK_INTERVAL=6e4,e.PING_INTERVAL=5e3,e.POST_INTERVAL=1e3,e}();e.exports=c},function(e,t,r){"use strict";var n=r(46),o=function(){function e(){}return e.parse=function(t){if(!t)return{};var r=t.split(e._FIELDS_SEPARATOR).reduce((function(t,r){var n=r.split(e._FIELD_KEY_VALUE_SEPARATOR);if(2===n.length){var o=n[0].toLowerCase(),i=n[1];t[o]=i}return t}),{});if(Object.keys(r).length>0){if(r.endpointsuffix){var o=r.location?r.location+".":"";r.ingestionendpoint=r.ingestionendpoint||"https://"+o+"dc."+r.endpointsuffix,r.liveendpoint=r.liveendpoint||"https://"+o+"live."+r.endpointsuffix}r.ingestionendpoint=r.ingestionendpoint||n.DEFAULT_BREEZE_ENDPOINT,r.liveendpoint=r.liveendpoint||n.DEFAULT_LIVEMETRICS_ENDPOINT}return r},e._FIELDS_SEPARATOR=";",e._FIELD_KEY_VALUE_SEPARATOR="=",e}();e.exports=o},function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=r(23),i=r(12),s=r(46),a=r(18),l=r(6),c=a.w3cTraceId(),u=function(){function e(){}return e.createQuickPulseEnvelope=function(e,t,r,n){var i=o&&"function"==typeof o.hostname&&o.hostname()||"Unknown",s=n.tags&&n.keys&&n.keys.cloudRoleInstance&&n.tags[n.keys.cloudRoleInstance]||i;return{Documents:t.length>0?t:null,InstrumentationKey:r.instrumentationKey||"",Metrics:e.length>0?e:null,InvariantVersion:1,Timestamp:"/Date("+Date.now()+")/",Version:n.tags[n.keys.internalSdkVersion],StreamId:c,MachineName:i,Instance:s}},e.createQuickPulseMetric=function(e){return{Name:e.name,Value:e.value,Weight:e.count||1}},e.telemetryEnvelopeToQuickPulseDocument=function(t){switch(t.data.baseType){case i.TelemetryTypeString.Event:return e.createQuickPulseEventDocument(t);case i.TelemetryTypeString.Exception:return e.createQuickPulseExceptionDocument(t);case i.TelemetryTypeString.Trace:return e.createQuickPulseTraceDocument(t);case i.TelemetryTypeString.Dependency:return e.createQuickPulseDependencyDocument(t);case i.TelemetryTypeString.Request:return e.createQuickPulseRequestDocument(t)}return null},e.createQuickPulseEventDocument=function(t){var r=e.createQuickPulseDocument(t),o=t.data.baseData.name;return n({},r,{Name:o})},e.createQuickPulseTraceDocument=function(t){var r=e.createQuickPulseDocument(t),o=t.data.baseData.severityLevel||0;return n({},r,{Message:t.data.baseData.message,SeverityLevel:i.SeverityLevel[o]})},e.createQuickPulseExceptionDocument=function(t){var r=e.createQuickPulseDocument(t),o=t.data.baseData.exceptions,i="",s="",a="";return o&&o.length>0&&(o[0].parsedStack&&o[0].parsedStack.length>0?o[0].parsedStack.forEach((function(e){i+=e.assembly+"\n"})):o[0].stack&&o[0].stack.length>0&&(i=o[0].stack),s=o[0].message,a=o[0].typeName),n({},r,{Exception:i,ExceptionMessage:s,ExceptionType:a})},e.createQuickPulseRequestDocument=function(t){var r=e.createQuickPulseDocument(t),o=t.data.baseData;return n({},r,{Name:o.name,Success:o.success,Duration:o.duration,ResponseCode:o.responseCode,OperationName:o.name})},e.createQuickPulseDependencyDocument=function(t){var r=e.createQuickPulseDocument(t),o=t.data.baseData;return n({},r,{Name:o.name,Target:o.target,Success:o.success,Duration:o.duration,ResultCode:o.resultCode,CommandName:o.data,OperationName:r.OperationId,DependencyTypeName:o.type})},e.createQuickPulseDocument=function(t){var r,n;return t.data.baseType?(n=s.TelemetryTypeStringToQuickPulseType[t.data.baseType],r=s.TelemetryTypeStringToQuickPulseDocumentType[t.data.baseType]):l.warn("Document type invalid; not sending live metric document",t.data.baseType),{DocumentType:r,__type:n,OperationId:t.tags[e.keys.operationId],Version:"1.0",Properties:e.aggregateProperties(t)}},e.aggregateProperties=function(e){var t=[],r=e.data.baseData.measurements||{};for(var n in r)if(r.hasOwnProperty(n)){var o={key:n,value:r[n]};t.push(o)}var i=e.data.baseData.properties||{};for(var n in i)if(i.hasOwnProperty(n)){o={key:n,value:i[n]};t.push(o)}return t},e.keys=new i.ContextTagKeys,e}();e.exports=u},function(e,t,r){"use strict";var n=r(55),o=r(54),i=r(6),s="POST",a="x-ms-qps-transmission-time",l="x-ms-qps-subscribed",c=function(){function e(e){this._config=e,this._consecutiveErrors=0}return e.prototype.ping=function(e,t){this._submitData(e,t,"ping")},e.prototype.post=function(e,t){this._submitData([e],t,"post")},e.prototype._submitData=function(t,r,c){var u,d,g=this,p=JSON.stringify(t),h=((u={})[o.disableCollectionRequestOption]=!0,u.host=this._config.quickPulseHost,u.method=s,u.path="/QuickPulseService.svc/"+c+"?ikey="+this._config.instrumentationKey,u.headers=((d={Expect:"100-continue"})[a]=1e4*Date.now(),d["Content-Type"]="application/json",d["Content-Length"]=Buffer.byteLength(p),d),u),f=n.request(h,(function(e){var t="true"===e.headers[l];g._consecutiveErrors=0,r(t,e)}));f.on("error",(function(t){g._consecutiveErrors++;var n="Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:";g._consecutiveErrors%e.MAX_QPS_FAILURES_BEFORE_WARN==0?(n="Live Metrics endpoint could not be reached "+g._consecutiveErrors+" consecutive times. Most recent error:",i.warn(e.TAG,n,t)):i.info(e.TAG,n,t),r()})),f.write(p),f.end()},e.TAG="QuickPulseSender",e.MAX_QPS_FAILURES_BEFORE_WARN=25,e}();e.exports=c},function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=r(72),i=r(73),s=r(6),a=function(){function e(t){this._disabledMetrics={},e.INSTANCE&&e.INSTANCE.dispose(),e.INSTANCE=this,this._client=t}return e.isNodeVersionCompatible=function(){var e=process.versions.node.split(".");return parseInt(e[0])>=6},e.prototype.enable=function(t,n,o){var i=this;if(void 0===n&&(n={}),void 0===o&&(o=6e4),e.isNodeVersionCompatible()){if(null==e._metricsAvailable&&t&&!this._isInitialized)try{var a=r(210);e._emitter=new a,e._metricsAvailable=!0,s.info("Native metrics module successfully loaded!")}catch(t){return void(e._metricsAvailable=!1)}this._isEnabled=t,this._disabledMetrics=n,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),this._isEnabled&&e._emitter?(e._emitter.enable(!0,o),this._handle=setInterval((function(){return i._trackNativeMetrics()}),o),this._handle.unref()):e._emitter&&(e._emitter.enable(!1),this._handle&&(clearInterval(this._handle),this._handle=void 0))}},e.prototype.dispose=function(){this.enable(!1)},e.parseEnabled=function(e){var t=process.env[o.ENV_nativeMetricsDisableAll],r=process.env[o.ENV_nativeMetricsDisablers];if(t)return{isEnabled:!1,disabledMetrics:{}};if(r){var i=r.split(","),s={};if(i.length>0)for(var a=0,l=i;a<l.length;a++){s[l[a]]=!0}return"object"==typeof e?{isEnabled:!0,disabledMetrics:n({},e,s)}:{isEnabled:e,disabledMetrics:s}}return"boolean"==typeof e?{isEnabled:e,disabledMetrics:{}}:{isEnabled:!0,disabledMetrics:e}},e.prototype._trackNativeMetrics=function(){var e=!0;"object"!=typeof this._isEnabled&&(e=this._isEnabled),e&&(this._trackGarbageCollection(),this._trackEventLoop(),this._trackHeapUsage())},e.prototype._trackGarbageCollection=function(){if(!this._disabledMetrics.gc){var t,r=e._emitter.getGCData();for(var n in r){var o=r[n].metrics,s=n+" Garbage Collection Duration",a=Math.sqrt(o.sumSquares/o.count-Math.pow(o.total/o.count,2))||0;this._client.trackMetric({name:s,value:o.total,count:o.count,max:o.max,min:o.min,stdDev:a,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+i.sdkVersion,t)})}}},e.prototype._trackEventLoop=function(){if(!this._disabledMetrics.loop){var t=e._emitter.getLoopData().loopUsage;if(0!=t.count){var r,n=Math.sqrt(t.sumSquares/t.count-Math.pow(t.total/t.count,2))||0;this._client.trackMetric({name:"Event Loop CPU Time",value:t.total,count:t.count,min:t.min,max:t.max,stdDev:n,tagOverrides:(r={},r[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+i.sdkVersion,r)})}}},e.prototype._trackHeapUsage=function(){if(!this._disabledMetrics.heap){var e,t,r,n=process.memoryUsage(),o=n.heapUsed,s=n.heapTotal,a=n.rss;this._client.trackMetric({name:"Memory Usage (Heap)",value:o,count:1,tagOverrides:(e={},e[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+i.sdkVersion,e)}),this._client.trackMetric({name:"Memory Total (Heap)",value:s,count:1,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+i.sdkVersion,t)}),this._client.trackMetric({name:"Memory Usage (Non-Heap)",value:a-s,count:1,tagOverrides:(r={},r[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+i.sdkVersion,r)})}},e}();t.AutoCollectNativePerformance=a},function(e,t){e.exports=require("applicationinsights-native-metrics")},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=r(212),s=r(103),a=r(54),l=r(6),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.trackNodeHttpRequestSync=function(e){e&&e.request&&e.response&&e.duration?s.trackRequestSync(this,e):l.warn("trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.")},t.prototype.trackNodeHttpRequest=function(e){(e.duration||e.error)&&l.warn("trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects."),e&&e.request&&e.response?s.trackRequest(this,e):l.warn("trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.")},t.prototype.trackNodeHttpDependency=function(e){e&&e.request?a.trackRequest(this,e):l.warn("trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.")},t}(i);e.exports=c},function(e,t,r){"use strict";var n=r(38),o=r(72),i=r(73),s=r(12),a=r(213),l=r(214),c=r(44),u=r(217),d=r(18),g=r(6),p=r(218),h=function(){function e(e){this._telemetryProcessors=[];var t=new o(e);this.config=t,this.context=new i,this.commonProperties={};var r=new u(this.config);this.channel=new a((function(){return t.disableAppInsights}),(function(){return t.maxBatchSize}),(function(){return t.maxBatchIntervalMs}),r)}return e.prototype.trackAvailability=function(e){this.track(e,s.TelemetryType.Availability)},e.prototype.trackTrace=function(e){this.track(e,s.TelemetryType.Trace)},e.prototype.trackMetric=function(e){this.track(e,s.TelemetryType.Metric)},e.prototype.trackException=function(e){e&&e.exception&&!d.isError(e.exception)&&(e.exception=new Error(e.exception.toString())),this.track(e,s.TelemetryType.Exception)},e.prototype.trackEvent=function(e){this.track(e,s.TelemetryType.Event)},e.prototype.trackRequest=function(e){this.track(e,s.TelemetryType.Request)},e.prototype.trackDependency=function(e){e&&!e.target&&e.data&&(e.target=n.parse(e.data).host),this.track(e,s.TelemetryType.Dependency)},e.prototype.flush=function(e){this.channel.triggerSend(!!e&&!!e.isAppCrashing,e?e.callback:void 0)},e.prototype.track=function(e,t){if(e&&s.telemetryTypeToBaseType(t)){var r=p.createEnvelope(e,t,this.commonProperties,this.context,this.config);e.time&&(r.time=e.time.toISOString());var n=this.runTelemetryProcessors(r,e.contextObjects);n=n&&l.samplingTelemetryProcessor(r,{correlationContext:c.CorrelationContextManager.getCurrentContext()}),l.performanceMetricsTelemetryProcessor(r,this.quickPulseClient),n&&this.channel.send(r)}else g.warn("track() requires telemetry object and telemetryType to be specified.")},e.prototype.addTelemetryProcessor=function(e){this._telemetryProcessors.push(e)},e.prototype.clearTelemetryProcessors=function(){this._telemetryProcessors=[]},e.prototype.runTelemetryProcessors=function(e,t){var r=!0,n=this._telemetryProcessors.length;if(0===n)return r;(t=t||{}).correlationContext=c.CorrelationContextManager.getCurrentContext();for(var o=0;o<n;++o)try{var i=this._telemetryProcessors[o];if(i&&!1===i.apply(null,[e,t])){r=!1;break}}catch(t){r=!0,g.warn("One of telemetry processors failed, telemetry item will be sent.",t,e)}return r},e}();e.exports=h},function(e,t,r){"use strict";var n=r(6),o=function(){function e(e,t,r,n){this._buffer=[],this._lastSend=0,this._isDisabled=e,this._getBatchSize=t,this._getBatchIntervalMs=r,this._sender=n}return e.prototype.setUseDiskRetryCaching=function(e,t,r){this._sender.setDiskRetryMode(e,t,r)},e.prototype.send=function(e){var t=this;if(!this._isDisabled())if(e){var r=this._stringify(e);"string"==typeof r&&(this._buffer.push(r),this._buffer.length>=this._getBatchSize()?this.triggerSend(!1):!this._timeoutHandle&&this._buffer.length>0&&(this._timeoutHandle=setTimeout((function(){t._timeoutHandle=null,t.triggerSend(!1)}),this._getBatchIntervalMs())))}else n.warn("Cannot send null/undefined telemetry")},e.prototype.triggerSend=function(e,t){var r=this._buffer.length<1;if(!r){var n=this._buffer.join("\n");e?(this._sender.saveOnCrash(n),"function"==typeof t&&t("data saved on crash")):this._sender.send(Buffer.from?Buffer.from(n):new Buffer(n),t)}this._lastSend=+new Date,this._buffer.length=0,clearTimeout(this._timeoutHandle),this._timeoutHandle=null,r&&"function"==typeof t&&t("no data to send")},e.prototype._stringify=function(e){try{return JSON.stringify(e)}catch(t){n.warn("Failed to serialize payload",t,e)}},e}();e.exports=o},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(215)),n(r(216))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(12);function o(e){var t=5381;if(!e)return 0;for(;e.length<8;)e+=e;for(var r=0;r<e.length;r++)t=((t<<5)+t|0)+e.charCodeAt(r)|0;return(t=t<=-2147483648?2147483647:Math.abs(t))/2147483647*100}t.samplingTelemetryProcessor=function(e,t){var r=e.sampleRate;return null==r||r>=100||(!(!e.data||n.TelemetryType.Metric!==n.baseTypeToTelemetryType(e.data.baseType))||(t.correlationContext&&t.correlationContext.operation?o(t.correlationContext.operation.id)<r:100*Math.random()<r))},t.getSamplingHashCode=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(71),o=r(12);t.performanceMetricsTelemetryProcessor=function(e,t){switch(t&&t.addDocument(e),e.data.baseType){case o.TelemetryTypeString.Exception:n.countException();break;case o.TelemetryTypeString.Request:var r=e.data.baseData;n.countRequest(r.duration,r.success);break;case o.TelemetryTypeString.Dependency:var i=e.data.baseData;n.countDependency(i.duration,i.success)}return!0}},function(e,t,r){"use strict";var n=r(22),o=r(23),i=r(4),s=r(70),a=r(37),l=r(6),c=r(54),u=r(18),d=function(){function e(t,r,o){if(this._config=t,this._onSuccess=r,this._onError=o,this._enableDiskRetryMode=!1,this._resendInterval=e.WAIT_BETWEEN_RESEND,this._maxBytesOnDisk=e.MAX_BYTES_ON_DISK,this._numConsecutiveFailures=0,!e.OS_PROVIDES_FILE_PROTECTION)if(e.USE_ICACLS){try{e.OS_PROVIDES_FILE_PROTECTION=n.existsSync(e.ICACLS_PATH)}catch(e){}e.OS_PROVIDES_FILE_PROTECTION||l.warn(e.TAG,"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.")}else e.OS_PROVIDES_FILE_PROTECTION=!0}return e.prototype.setDiskRetryMode=function(t,r,n){this._enableDiskRetryMode=e.OS_PROVIDES_FILE_PROTECTION&&t,"number"==typeof r&&r>=0&&(this._resendInterval=Math.floor(r)),"number"==typeof n&&n>=0&&(this._maxBytesOnDisk=Math.floor(n)),t&&!e.OS_PROVIDES_FILE_PROTECTION&&(this._enableDiskRetryMode=!1,l.warn(e.TAG,"Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected."))},e.prototype.send=function(t,r){var n=this,o=this._config.endpointUrl,i={method:"POST",withCredentials:!1,headers:{"Content-Type":"application/x-json-stream"}};s.gzip(t,(function(s,a){var d=a;s?(l.warn(s),d=t,i.headers["Content-Length"]=t.length.toString()):(i.headers["Content-Encoding"]="gzip",i.headers["Content-Length"]=a.length),l.info(e.TAG,i),i[c.disableCollectionRequestOption]=!0;var g=u.makeRequest(n._config,o,i,(function(o){o.setEncoding("utf-8");var i="";o.on("data",(function(e){i+=e})),o.on("end",(function(){n._numConsecutiveFailures=0,l.info(e.TAG,i),"function"==typeof n._onSuccess&&n._onSuccess(i),"function"==typeof r&&r(i),n._enableDiskRetryMode&&(200===o.statusCode?setTimeout((function(){return n._sendFirstFileOnDisk()}),n._resendInterval).unref():408!==o.statusCode&&429!==o.statusCode&&439!==o.statusCode&&500!==o.statusCode&&503!==o.statusCode||n._storeToDisk(t))}))}));g.on("error",(function(o){if(n._numConsecutiveFailures++,!n._enableDiskRetryMode||n._numConsecutiveFailures>0&&n._numConsecutiveFailures%e.MAX_CONNECTION_FAILURES_BEFORE_WARN==0){var i="Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:";n._enableDiskRetryMode&&(i="Ingestion endpoint could not be reached "+n._numConsecutiveFailures+" consecutive times. There may be resulting telemetry loss. Most recent error:"),l.warn(e.TAG,i,o)}else{i="Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:";l.info(e.TAG,i,o)}if(n._onErrorHelper(o),"function"==typeof r){var s="error sending telemetry";o&&"function"==typeof o.toString&&(s=o.toString()),r(s)}n._enableDiskRetryMode&&n._storeToDisk(t)})),g.write(d),g.end()}))},e.prototype.saveOnCrash=function(e){this._enableDiskRetryMode&&this._storeToDiskSync(e)},e.prototype._runICACLS=function(t,r){var n=a.spawn(e.ICACLS_PATH,t,{windowsHide:!0});n.on("error",(function(e){return r(e)})),n.on("close",(function(e,t){return r(0===e?null:new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+e+")"))}))},e.prototype._runICACLSSync=function(t){if(!a.spawnSync)throw new Error("Could not synchronously call ICACLS under current version of Node.js");var r=a.spawnSync(e.ICACLS_PATH,t,{windowsHide:!0});if(r.error)throw r.error;if(0!==r.status)throw new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+r.status+")")},e.prototype._getACLIdentity=function(t){if(e.ACL_IDENTITY)return t(null,e.ACL_IDENTITY);var r=a.spawn(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]}),n="";r.stdout.on("data",(function(e){return n+=e})),r.on("error",(function(e){return t(e,null)})),r.on("close",(function(r,o){return e.ACL_IDENTITY=n&&n.trim(),t(0===r?null:new Error("Getting ACL identity did not succeed (PS returned code "+r+")"),e.ACL_IDENTITY)}))},e.prototype._getACLIdentitySync=function(){if(e.ACL_IDENTITY)return e.ACL_IDENTITY;if(a.spawnSync){var t=a.spawnSync(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]});if(t.error)throw t.error;if(0!==t.status)throw new Error("Getting ACL identity did not succeed (PS returned code "+t.status+")");return e.ACL_IDENTITY=t.stdout&&t.stdout.toString().trim(),e.ACL_IDENTITY}throw new Error("Could not synchronously get ACL identity under current version of Node.js")},e.prototype._getACLArguments=function(e,t){return[e,"/grant","*S-1-5-32-544:(OI)(CI)F","/grant",t+":(OI)(CI)F","/inheritance:r"]},e.prototype._applyACLRules=function(t,r){var n=this;return e.USE_ICACLS?void 0!==e.ACLED_DIRECTORIES[t]?r(e.ACLED_DIRECTORIES[t]?null:new Error("Setting ACL restrictions did not succeed (cached result)")):(e.ACLED_DIRECTORIES[t]=!1,void this._getACLIdentity((function(o,i){if(o)return e.ACLED_DIRECTORIES[t]=!1,r(o);n._runICACLS(n._getACLArguments(t,i),(function(n){return e.ACLED_DIRECTORIES[t]=!n,r(n)}))}))):r(null)},e.prototype._applyACLRulesSync=function(t){if(e.USE_ICACLS){if(void 0===e.ACLED_DIRECTORIES[t])return this._runICACLSSync(this._getACLArguments(t,this._getACLIdentitySync())),void(e.ACLED_DIRECTORIES[t]=!0);if(!e.ACLED_DIRECTORIES[t])throw new Error("Setting ACL restrictions did not succeed (cached result)")}},e.prototype._confirmDirExists=function(e,t){var r=this;n.lstat(e,(function(o,i){o&&"ENOENT"===o.code?n.mkdir(e,(function(n){n&&"EEXIST"!==n.code?t(n):r._applyACLRules(e,t)})):!o&&i.isDirectory()?r._applyACLRules(e,t):t(o||new Error("Path existed but was not a directory"))}))},e.prototype._getShallowDirectorySize=function(e,t){n.readdir(e,(function(r,o){if(r)return t(r,-1);var s=null,a=0,l=0;if(0!==o.length)for(var c=0;c<o.length;c++)n.stat(i.join(e,o[c]),(function(e,r){l++,e?s=e:r.isFile()&&(a+=r.size),l===o.length&&t(s,s?-1:a)}));else t(null,0)}))},e.prototype._getShallowDirectorySizeSync=function(e){for(var t=n.readdirSync(e),r=0,o=0;o<t.length;o++)r+=n.statSync(i.join(e,t[o])).size;return r},e.prototype._storeToDisk=function(t){var r=this,s=i.join(o.tmpdir(),e.TEMPDIR_PREFIX+this._config.instrumentationKey);l.info(e.TAG,"Checking existance of data storage directory: "+s),this._confirmDirExists(s,(function(o){if(o)return l.warn(e.TAG,"Error while checking/creating directory: "+(o&&o.message)),void r._onErrorHelper(o);r._getShallowDirectorySize(s,(function(o,a){if(o||a<0)return l.warn(e.TAG,"Error while checking directory size: "+(o&&o.message)),void r._onErrorHelper(o);if(a>r._maxBytesOnDisk)l.warn(e.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+a);else{var c=(new Date).getTime()+".ai.json",u=i.join(s,c);l.info(e.TAG,"saving data to disk at: "+u),n.writeFile(u,t,{mode:384},(function(e){return r._onErrorHelper(e)}))}}))}))},e.prototype._storeToDiskSync=function(t){var r=i.join(o.tmpdir(),e.TEMPDIR_PREFIX+this._config.instrumentationKey);try{l.info(e.TAG,"Checking existance of data storage directory: "+r),n.existsSync(r)||n.mkdirSync(r),this._applyACLRulesSync(r);var s=this._getShallowDirectorySizeSync(r);if(s>this._maxBytesOnDisk)return void l.info(e.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+s);var a=(new Date).getTime()+".ai.json",c=i.join(r,a);l.info(e.TAG,"saving data before crash to disk at: "+c),n.writeFileSync(c,t,{mode:384})}catch(t){l.warn(e.TAG,"Error while saving data to disk: "+(t&&t.message)),this._onErrorHelper(t)}},e.prototype._sendFirstFileOnDisk=function(){var t=this,r=i.join(o.tmpdir(),e.TEMPDIR_PREFIX+this._config.instrumentationKey);n.exists(r,(function(e){e&&n.readdir(r,(function(e,o){if(e)t._onErrorHelper(e);else if((o=o.filter((function(e){return i.basename(e).indexOf(".ai.json")>-1}))).length>0){var s=o[0],a=i.join(r,s);n.readFile(a,(function(e,r){e?t._onErrorHelper(e):n.unlink(a,(function(e){e?t._onErrorHelper(e):t.send(r)}))}))}}))}))},e.prototype._onErrorHelper=function(e){"function"==typeof this._onError&&this._onError(e)},e.TAG="Sender",e.ICACLS_PATH=process.env.systemdrive+"/windows/system32/icacls.exe",e.POWERSHELL_PATH=process.env.systemdrive+"/windows/system32/windowspowershell/v1.0/powershell.exe",e.ACLED_DIRECTORIES={},e.ACL_IDENTITY=null,e.WAIT_BETWEEN_RESEND=6e4,e.MAX_BYTES_ON_DISK=5e7,e.MAX_CONNECTION_FAILURES_BEFORE_WARN=5,e.TEMPDIR_PREFIX="appInsights-node",e.OS_PROVIDES_FILE_PROTECTION=!1,e.USE_ICACLS="Windows_NT"===o.type(),e}();e.exports=d},function(e,t,r){"use strict";var n=r(12),o=r(18),i=r(44),s=function(){function e(){}return e.createEnvelope=function(t,r,i,s,a){var l=null;switch(r){case n.TelemetryType.Trace:l=e.createTraceData(t);break;case n.TelemetryType.Dependency:l=e.createDependencyData(t);break;case n.TelemetryType.Event:l=e.createEventData(t);break;case n.TelemetryType.Exception:l=e.createExceptionData(t);break;case n.TelemetryType.Request:l=e.createRequestData(t);break;case n.TelemetryType.Metric:l=e.createMetricData(t);break;case n.TelemetryType.Availability:l=e.createAvailabilityData(t)}if(i&&n.domainSupportsProperties(l.baseData)){if(l&&l.baseData)if(l.baseData.properties)for(var c in i)l.baseData.properties[c]||(l.baseData.properties[c]=i[c]);else l.baseData.properties=i;l.baseData.properties=o.validateStringMap(l.baseData.properties)}var u=a&&a.instrumentationKey||"",d=new n.Envelope;return d.data=l,d.iKey=u,d.name="Microsoft.ApplicationInsights."+u.replace(/-/g,"")+"."+l.baseType.substr(0,l.baseType.length-4),d.tags=this.getTags(s,t.tagOverrides),d.time=(new Date).toISOString(),d.ver=1,d.sampleRate=a?a.samplingPercentage:100,r===n.TelemetryType.Metric&&(d.sampleRate=100),d},e.createTraceData=function(e){var t=new n.MessageData;t.message=e.message,t.properties=e.properties,isNaN(e.severity)?t.severityLevel=n.SeverityLevel.Information:t.severityLevel=e.severity;var r=new n.Data;return r.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Trace),r.baseData=t,r},e.createDependencyData=function(e){var t=new n.RemoteDependencyData;"string"==typeof e.name&&(t.name=e.name.length>1024?e.name.slice(0,1021)+"...":e.name),t.data=e.data,t.target=e.target,t.duration=o.msToTimeSpan(e.duration),t.success=e.success,t.type=e.dependencyTypeName,t.properties=e.properties,t.resultCode=e.resultCode?e.resultCode+"":"",e.id?t.id=e.id:t.id=o.w3cTraceId();var r=new n.Data;return r.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Dependency),r.baseData=t,r},e.createEventData=function(e){var t=new n.EventData;t.name=e.name,t.properties=e.properties,t.measurements=e.measurements;var r=new n.Data;return r.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Event),r.baseData=t,r},e.createExceptionData=function(e){var t=new n.ExceptionData;t.properties=e.properties,isNaN(e.severity)?t.severityLevel=n.SeverityLevel.Error:t.severityLevel=e.severity,t.measurements=e.measurements,t.exceptions=[];var r=e.exception.stack,i=new n.ExceptionDetails;i.message=e.exception.message,i.typeName=e.exception.name,i.parsedStack=this.parseStack(r),i.hasFullStack=o.isArray(i.parsedStack)&&i.parsedStack.length>0,t.exceptions.push(i);var s=new n.Data;return s.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Exception),s.baseData=t,s},e.createRequestData=function(e){var t=new n.RequestData;e.id?t.id=e.id:t.id=o.w3cTraceId(),t.name=e.name,t.url=e.url,t.source=e.source,t.duration=o.msToTimeSpan(e.duration),t.responseCode=e.resultCode?e.resultCode+"":"",t.success=e.success,t.properties=e.properties;var r=new n.Data;return r.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Request),r.baseData=t,r},e.createMetricData=function(e){var t=new n.MetricData;t.metrics=[];var r=new n.DataPoint;r.count=isNaN(e.count)?1:e.count,r.kind=n.DataPointType.Aggregation,r.max=isNaN(e.max)?e.value:e.max,r.min=isNaN(e.min)?e.value:e.min,r.name=e.name,r.stdDev=isNaN(e.stdDev)?0:e.stdDev,r.value=e.value,t.metrics.push(r),t.properties=e.properties;var o=new n.Data;return o.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Metric),o.baseData=t,o},e.createAvailabilityData=function(e){var t=new n.AvailabilityData;e.id?t.id=e.id:t.id=o.w3cTraceId(),t.name=e.name,t.duration=o.msToTimeSpan(e.duration),t.success=e.success,t.runLocation=e.runLocation,t.message=e.message,t.measurements=e.measurements,t.properties=e.properties;var r=new n.Data;return r.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Availability),r.baseData=t,r},e.getTags=function(e,t){var r=i.CorrelationContextManager.getCurrentContext(),n={};if(e&&e.tags)for(var o in e.tags)n[o]=e.tags[o];if(t)for(var o in t)n[o]=t[o];return r&&(n[e.keys.operationId]=n[e.keys.operationId]||r.operation.id,n[e.keys.operationName]=n[e.keys.operationName]||r.operation.name,n[e.keys.operationParentId]=n[e.keys.operationParentId]||r.operation.parentId),n},e.parseStack=function(e){var t=void 0;if("string"==typeof e){var r=e.split("\n");t=[];for(var n=0,o=0,i=0;i<=r.length;i++){var s=r[i];if(a.regex.test(s)){var l=new a(r[i],n++);o+=l.sizeInBytes,t.push(l)}}if(o>32768)for(var c=0,u=t.length-1,d=0,g=c,p=u;c<u;){if((d+=t[c].sizeInBytes+t[u].sizeInBytes)>32768){var h=p-g+1;t.splice(g,h);break}g=c,p=u,c++,u--}}return t},e}(),a=function(){function e(t,r){this.sizeInBytes=0,this.level=r,this.method="<no_method>",this.assembly=o.trim(t);var n=t.match(e.regex);n&&n.length>=5&&(this.method=o.trim(n[2])||this.method,this.fileName=o.trim(n[4])||"<no_filename>",this.line=parseInt(n[5])||0),this.sizeInBytes+=this.method.length,this.sizeInBytes+=this.fileName.length,this.sizeInBytes+=this.assembly.length,this.sizeInBytes+=e.baseSize,this.sizeInBytes+=this.level.toString().length,this.sizeInBytes+=this.line.toString().length}return e.regex=/^([\s]+at)?(.*?)(\@|\s\(|\s)([^\(\@\n]+):([0-9]+):([0-9]+)(\)?)$/,e.baseSize=58,e}();e.exports=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ERROR="error",e.INFO="info",e.OPERATION_START="opStart",e.OPERATION_END="opEnd",e.OPERATION_STEP="opStep"}(t.EventName||(t.EventName={})),function(e){e.NO_ERROR=0,e.GENERAL_ERROR=1}(t.ErrorCodes||(t.ErrorCodes={})),function(e){e.USER_ERROR="userError",e.SYSTEM_ERROR="systemError"}(t.ErrorType||(t.ErrorType={})),t.DimensionEntries=["operationId","operationName","errorCode","errorType","message","stack","stepName"],t.MeasurementEntries=["duration"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Extension=void 0;const n=r(0),o=r(10),i=r(222),s=r(224),a=r(302),l=r(306),c=r(11),u=r(35),d=r(316),g=r(34),p=r(28),h=r(27),f=r(320),m=r(20),y=r(323),v=r(132),_=r(327),T=r(124),S=r(133),b=r(400);t.Extension=class{constructor(e){this.context=e,this._onDidTerminalOpen=new n.EventEmitter,this.onDidTerminalOpen=this._onDidTerminalOpen.event;const t=n.window.createOutputChannel("Gradle Tasks");o.logger.setLoggingChannel(t);const r=new o.Logger("grpc");r.setLoggingChannel(t);const p=new o.Logger("gradle-server");p.setLoggingChannel(t),m.getConfigIsDebugEnabled()&&o.Logger.setLogVerbosity(o.LogVerbosity.DEBUG);const h=n.window.createStatusBarItem();this.server=new a.GradleServer({host:"localhost"},e,p),this.client=new s.GradleClient(this.server,h,r),this.pinnedTasksStore=new u.PinnedTasksStore(e),this.recentTasksStore=new u.RecentTasksStore,this.taskTerminalsStore=new u.TaskTerminalsStore,this.rootProjectsStore=new u.RootProjectsStore,this.gradleTaskProvider=new d.GradleTaskProvider(this.rootProjectsStore,this.client),this.gradleDependencyProvider=new _.GradleDependencyProvider(this.client),this.taskProvider=n.tasks.registerTaskProvider("gradle",this.gradleTaskProvider),this.icons=new l.Icons(e),this.gradleTasksTreeDataProvider=new c.GradleTasksTreeDataProvider(this.context,this.rootProjectsStore,this.gradleTaskProvider,this.gradleDependencyProvider,this.icons),this.gradleTasksTreeView=n.window.createTreeView(g.GRADLE_TASKS_VIEW,{treeDataProvider:this.gradleTasksTreeDataProvider,showCollapseAll:!0}),this.gradleDaemonsTreeDataProvider=new c.GradleDaemonsTreeDataProvider(this.context,this.rootProjectsStore,this.client),this.gradleDaemonsTreeView=n.window.createTreeView(g.GRADLE_DAEMONS_VIEW,{treeDataProvider:this.gradleDaemonsTreeDataProvider,showCollapseAll:!1}),this.pinnedTasksTreeDataProvider=new c.PinnedTasksTreeDataProvider(this.pinnedTasksStore,this.rootProjectsStore,this.gradleTaskProvider,this.icons,this.client),this.pinnedTasksTreeView=n.window.createTreeView(g.PINNED_TASKS_VIEW,{treeDataProvider:this.pinnedTasksTreeDataProvider,showCollapseAll:!1}),this.recentTasksTreeDataProvider=new c.RecentTasksTreeDataProvider(this.recentTasksStore,this.taskTerminalsStore,this.rootProjectsStore,this.gradleTaskProvider,this.client,this.icons),this.recentTasksTreeView=n.window.createTreeView(g.RECENT_TASKS_VIEW,{treeDataProvider:this.recentTasksTreeDataProvider,showCollapseAll:!1}),this.defaultProjectsTreeDataProvider=new b.DefaultProjectsTreeDataProvider(this.gradleTaskProvider,this.rootProjectsStore,this.client,this.icons),this.defaultProjectsTreeView=n.window.createTreeView(g.GRADLE_DEFAULT_PROJECTS_VIEW,{treeDataProvider:this.defaultProjectsTreeDataProvider,showCollapseAll:!1}),this.gradleTaskManager=new d.GradleTaskManager(e),this.buildFileWatcher=new y.FileWatcher("**/*.{gradle,gradle.kts}"),this.gradleWrapperWatcher=new y.FileWatcher("**/gradle/wrapper/gradle-wrapper.properties"),this.api=new i.Api(this.client,this.gradleTasksTreeDataProvider,this.gradleTaskProvider,this.icons),this.commands=new f.Commands(this.context,this.pinnedTasksStore,this.gradleTaskProvider,this.gradleDependencyProvider,this.gradleTasksTreeDataProvider,this.pinnedTasksTreeDataProvider,this.recentTasksTreeDataProvider,this.gradleDaemonsTreeDataProvider,this.client,this.rootProjectsStore,this.taskTerminalsStore,this.recentTasksStore,this.gradleTasksTreeView),this.storeSubscriptions(),this.registerCommands(),this.handleTaskEvents(),this.handleWatchEvents(),this.handleEditorEvents(),n.commands.registerCommand(v.GRADLE_DEPENDENCY_REVEAL,async e=>{const t=e.getOmittedTreeItem();t&&await this.gradleTasksTreeView.reveal(t)}),this.activate(),S.startLanguageServer(this.context)}storeSubscriptions(){this.context.subscriptions.push(this.client,this.server,this.pinnedTasksStore,this.recentTasksStore,this.taskTerminalsStore,this.gradleTaskProvider,this.taskProvider,this.gradleTaskManager,this.buildFileWatcher,this.gradleWrapperWatcher,this.gradleDaemonsTreeView,this.gradleTasksTreeView,this.pinnedTasksTreeView,this.recentTasksTreeView,this.defaultProjectsTreeView)}async activate(){const e=!!(await this.rootProjectsStore.getProjectRoots()).length;e&&!this.server.isReady()&&await this.server.start(),await n.commands.executeCommand("setContext","gradle:activated",e),await n.commands.executeCommand("setContext","gradle:defaultView",!0)}registerCommands(){this.commands.register()}handleTaskTerminals(e,t){const r=t.name.replace("Task - ","");r===e.script&&this.taskTerminalsStore.addEntry(r,t),t.show()}handleTaskEvents(){this.gradleTaskManager.onDidStartTask(async e=>{const t=e.definition;if(this.recentTerminal)this.handleTaskTerminals(t,this.recentTerminal),this.recentTerminal=void 0;else{const e=this.onDidTerminalOpen(r=>{e.dispose(),this.handleTaskTerminals(t,r),this.recentTerminal=void 0})}this.gradleTasksTreeView.visible&&m.getConfigFocusTaskInExplorer()&&await p.focusTaskInGradleTasksTree(e,this.gradleTasksTreeView),this.recentTasksStore.addEntry(t.id,t.args),await n.commands.executeCommand(h.COMMAND_RENDER_TASK,e)}),this.gradleTaskManager.onDidEndTask(async e=>{await n.commands.executeCommand(h.COMMAND_RENDER_TASK,e)})}handleWatchEvents(){this.buildFileWatcher.onDidChange(async e=>{o.logger.info("Build file changed:",e.fsPath),await this.refresh()}),this.gradleWrapperWatcher.onDidChange(async e=>{o.logger.info("Gradle wrapper properties changed:",e.fsPath),await this.restartServer(),S.isLanguageServerStarted&&n.commands.executeCommand("gradle.distributionChanged")})}async restartServer(){this.server.isReady()&&(await this.client.cancelBuilds(),await this.server.restart())}refresh(){return n.commands.executeCommand(h.COMMAND_REFRESH)}handleEditorEvents(){this.context.subscriptions.push(n.workspace.onDidChangeConfiguration(async e=>{if(e.affectsConfiguration("java.home")||e.affectsConfiguration("java.import.gradle.java.home"))await this.restartServer();else if(e.affectsConfiguration("gradle.javaDebug")||e.affectsConfiguration("gradle.nestedProjects"))this.rootProjectsStore.clear(),await this.refresh(),await this.activate();else if(e.affectsConfiguration("gradle.reuseTerminals"))await this.refresh();else if(e.affectsConfiguration("gradle.debug")){const e=m.getConfigIsDebugEnabled();o.Logger.setLogVerbosity(e?o.LogVerbosity.DEBUG:o.LogVerbosity.INFO)}else(e.affectsConfiguration("java.import.gradle.home")||e.affectsConfiguration("java.import.gradle.version")||e.affectsConfiguration("java.import.gradle.wrapper.enabled"))&&(await this.refresh(),this.gradleDaemonsTreeDataProvider.setSpecificVersion(T.getSpecificVersionStatus()))}),n.window.onDidCloseTerminal(e=>{this.taskTerminalsStore.removeTerminal(e)}),n.workspace.onDidChangeWorkspaceFolders(()=>this.refresh()),n.window.onDidOpenTerminal(e=>{this.recentTerminal=e,this._onDidTerminalOpen.fire(e)}))}getApi(){return this.api}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoggerStream=void 0;const n=r(30);t.LoggerStream=class{constructor(e,t){this.logger=e,this.verbosity=t,this.buffer=""}write(e){const t=new n.TextDecoder("utf-8").decode(e),r=this.buffer.length?t:this.logger.format(t.trimLeft(),this.verbosity);this.buffer+=t,this.append(r)}append(e){this.logger.append(e,this.verbosity)}getBuffer(){return this.buffer}}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(223),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Api=void 0;const n=r(10),o=r(48);t.Api=class{constructor(e,t,r,n){this.client=e,this.tasksTreeDataProvider=t,this.gradleTaskProvider=r,this.icons=n}onReady(e){return this.client.onDidConnect(e)}runTask(e){const t=(e.args||[]).filter(Boolean),r=[e.taskName].concat(t),n=Object.assign(Object.assign({},e),{args:r});return this.runBuild(n)}runBuild(e){return this.client.runBuild(e.projectFolder,e.cancellationKey||o.getRunBuildCancellationKey(e.projectFolder,e.args),e.args,e.input,0,void 0,e.onOutput,e.showOutputColors)}cancelRunTask(e){const t=e.taskName?[e.taskName]:[],r={projectFolder:e.projectFolder,args:t,cancellationKey:e.cancellationKey};return this.cancelRunBuild(r)}cancelRunBuild(e){const t=this.getRunBuildCancellationKey(e);return this.client.cancelBuild(t)}cancelAllBuilds(){return this.client.cancelBuilds()}getRunBuildCancellationKey(e){if(e.cancellationKey)return e.cancellationKey;if(!e.args||!e.projectFolder)throw new Error("args and projectFolder are required to build the cancellation key");return o.getRunBuildCancellationKey(e.projectFolder,e.args)}getTasksTreeProvider(){return this.tasksTreeDataProvider}getTaskProvider(){return this.gradleTaskProvider}getIcons(){return this.icons}getLogger(){return n.logger}}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(225),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GradleClient=void 0;const n=r(0),o=r(56),i=r(56),s=r(33),a=r(246),l=r(10),c=r(247),u=r(7),d=r(27),g=r(48),p=r(127),h=r(20),f=r(128);t.GradleClient=class{constructor(e,t,r){this.server=e,this.statusBarItem=t,this.clientLogger=r,this.connectDeadline=30,this.grpcClient=null,this._onDidConnect=new n.EventEmitter,this._onDidConnectFail=new n.EventEmitter,this.onDidConnect=this._onDidConnect.event,this.onDidConnectFail=this._onDidConnectFail.event,this.waitForConnect=new p.EventWaiter(this.onDidConnect).wait,this.handleServerStop=()=>{this.close()},this.handleServerStart=()=>n.window.withProgress({location:n.ProgressLocation.Window,title:"Gradle",cancellable:!1},e=>(e.report({message:"Connecting"}),new Promise(e=>{const t=this.onDidConnect(()=>{t.dispose(),e()}),r=this.onDidConnectFail(()=>{r.dispose(),e()});this.connectToServer()}))),this.handleClientReady=async e=>{e?await this.handleConnectError(e):(l.logger.info("Gradle client connected to server"),this._onDidConnect.fire(null))},this.handleRunBuildCancelled=(e,t,r)=>{l.logger.info(`Build cancelled: ${e.join(" ")}: ${t.getMessage()}`),r&&u.removeCancellingTask(r)},this.handleGetBuildCancelled=e=>{l.logger.info("Build cancelled:",e.getMessage())},this.handleConnectError=async e=>{if(l.logger.error("Error connecting to gradle server:",e.message),this.close(),this._onDidConnectFail.fire(null),this.server.isReady()){const e=this.grpcClient.getChannel().getConnectivityState(!0),t=i.connectivityState[e];l.logger.error("The client has state:",t),await this.showRestartMessage()}else await this.server.showRestartMessage()},this.server.onDidStart(this.handleServerStart),this.server.onDidStop(this.handleServerStop)}connectToServer(){try{this.grpcClient=new a.GradleClient("localhost:"+this.server.getPort(),o.credentials.createInsecure(),{"grpc.enable_http_proxy":0,"grpc.max_receive_message_length":-1}),o.setLogger(this.clientLogger);const e=new Date;e.setSeconds(e.getSeconds()+this.connectDeadline),this.grpcClient.waitForReady(e,this.handleClientReady)}catch(e){l.logger.error("Unable to construct the gRPC client:",e.message),this.statusBarItem.hide()}}async getBuild(e,t,r=!1){return await this.waitForConnect(),this.statusBarItem.hide(),n.window.withProgress({location:n.ProgressLocation.Window,title:"Gradle",cancellable:!0},async(o,i)=>{const a=new c.ProgressHandler(o,"Configure project"),u=g.getBuildCancellationKey(e.getProjectUri().fsPath);i.onCancellationRequested(()=>this.cancelBuild(u));const p=new l.LoggerStream(l.logger,l.LogVerbosity.INFO),h=new l.LoggerStream(l.logger,l.LogVerbosity.ERROR),m=new s.GetBuildRequest;m.setProjectDir(e.getProjectUri().fsPath),m.setCancellationKey(u),m.setGradleConfig(t),m.setShowOutputColors(r);const y=this.grpcClient.getBuild(m);try{return await new Promise((t,r)=>{let o=void 0;y.on("data",async t=>{switch(t.getKindCase()){case s.GetBuildReply.KindCase.PROGRESS:a.report(t.getProgress().getMessage().trim());break;case s.GetBuildReply.KindCase.OUTPUT:switch(t.getOutput().getOutputType()){case s.Output.OutputType.STDOUT:p.write(t.getOutput().getOutputBytes_asU8());break;case s.Output.OutputType.STDERR:f.setDefault(),h.write(t.getOutput().getOutputBytes_asU8())}break;case s.GetBuildReply.KindCase.CANCELLED:this.handleGetBuildCancelled(t.getCancelled());break;case s.GetBuildReply.KindCase.GET_BUILD_RESULT:f.unsetDefault(),o=t.getGetBuildResult().getBuild();break;case s.GetBuildReply.KindCase.ENVIRONMENT:const r=t.getEnvironment();e.setEnvironment(r),function(e){const t=e.getJavaEnvironment(),r=e.getGradleEnvironment();l.logger.info("Java Home:",t.getJavaHome()),l.logger.info("JVM Args:",t.getJvmArgsList().join(",")),l.logger.info("Gradle User Home:",r.getGradleUserHome()),l.logger.info("Gradle Version:",r.getGradleVersion())}(r),await n.commands.executeCommand(d.COMMAND_REFRESH_DAEMON_STATUS);break;case s.GetBuildReply.KindCase.COMPATIBILITY_CHECK_ERROR:const i=t.getCompatibilityCheckError(),c=["Open Gradle Settings","Learn More"];await n.window.showErrorMessage(i,...c).then(e=>{"Open Gradle Settings"===e?n.commands.executeCommand("workbench.action.openSettings","java.import.gradle"):"Learn More"===e&&n.env.openExternal(n.Uri.parse("https://docs.gradle.org/current/userguide/compatibility.html"))})}}).on("error",r).on("end",()=>t(o))})}catch(t){l.logger.error(`Error getting build for ${e.getProjectUri().fsPath}: ${t.details||t.message}`),this.statusBarItem.command=d.COMMAND_SHOW_LOGS,this.statusBarItem.text="$(warning) Gradle: Build Error",this.statusBarItem.show()}finally{process.nextTick(()=>n.commands.executeCommand(d.COMMAND_REFRESH_DAEMON_STATUS))}})}async getDependencies(e,t,r){return await this.waitForConnect(),n.window.withProgress({location:n.ProgressLocation.Window,title:"Gradle",cancellable:!0},async(n,o)=>{n.report({message:"Getting Dependencies for "+r});const i=new s.GetDependenciesRequest;i.setProjectDir(e),i.setGradleConfig(t);const a=g.getDependenciesCancellationKey(e);i.setCancellationKey(a),o.onCancellationRequested(()=>this.cancelDependencies(a));try{return await new Promise((e,t)=>{this.grpcClient.getDependencies(i,(r,n)=>{r?t(r):e(null==n?void 0:n.getItem())})})}catch(t){l.logger.error(`Error getting dependencies for ${e}: ${t.details||t.message}`),this.statusBarItem.command=d.COMMAND_SHOW_LOGS,this.statusBarItem.text="$(warning) Gradle: Get Dependencies Error",this.statusBarItem.show()}})}async runBuild(e,t,r,o="",i=0,a,g,p=!0){return await this.waitForConnect(),this.statusBarItem.hide(),n.window.withProgress({location:n.ProgressLocation.Window,title:"Gradle",cancellable:!0},async(f,m)=>{var y;m.onCancellationRequested(()=>n.commands.executeCommand(d.COMMAND_CANCEL_BUILD,t,a));const v=new c.ProgressHandler(f);v.onDidProgressStart(async()=>{await n.commands.executeCommand(d.COMMAND_REFRESH_DAEMON_STATUS)});const _=h.getGradleConfig(),T=new s.RunBuildRequest;if(T.setProjectDir(e),T.setCancellationKey(t),T.setArgsList(r),T.setGradleConfig(_),T.setShowOutputColors(p),T.setJavaDebugPort(i),T.setInput(o),i>0){const t=n.workspace.getWorkspaceFolder(n.Uri.file(e));if(t){const e=h.getConfigJavaDebug(t);T.setJavaDebugCleanOutputCache(null===(y=e.clean)||void 0===y||y)}}const S=this.grpcClient.runBuild(T);try{await new Promise((e,t)=>{S.on("data",e=>{switch(e.getKindCase()){case s.RunBuildReply.KindCase.PROGRESS:v.report(e.getProgress().getMessage().trim());break;case s.RunBuildReply.KindCase.OUTPUT:g&&g(e.getOutput());break;case s.RunBuildReply.KindCase.CANCELLED:this.handleRunBuildCancelled(r,e.getCancelled(),a)}}).on("error",t).on("end",e)}),l.logger.info("Completed build:",r.join(" "))}catch(e){throw l.logger.error("Error running build:",r.join(" ")+":",e.details||e.message),e}finally{await n.commands.executeCommand(d.COMMAND_REFRESH_DAEMON_STATUS),a&&await u.restartQueuedTask(a)}})}async cancelBuild(e,t){await this.waitForConnect(),this.statusBarItem.hide();const r=new s.CancelBuildRequest;r.setCancellationKey(e);try{const e=await new Promise((e,t)=>{this.grpcClient.cancelBuild(r,(r,n)=>{r?t(r):e(n)})});e&&(l.logger.info("Cancel build:",e.getMessage()),!e.getBuildRunning()&&t&&u.removeCancellingTask(t))}catch(e){l.logger.error("Error cancelling build:",e.details||e.message)}}async cancelBuilds(){this.statusBarItem.hide();const e=new s.CancelBuildsRequest;try{const t=await new Promise((t,r)=>{this.grpcClient.cancelBuilds(e,(e,n)=>{e?r(e):t(n)})});t&&l.logger.info("Cancel builds:",t.getMessage())}catch(e){l.logger.error("Error cancelling builds:",e.details||e.message)}}async cancelDependencies(e){await this.waitForConnect(),this.statusBarItem.hide();const t=new s.CancelDependenciesRequest;t.setCancellationKey(e);try{const e=await new Promise((e,r)=>{this.grpcClient.cancelDependencies(t,(t,n)=>{t?r(t):e(n)})});e&&l.logger.info("Cancel dependencies:",e.getMessage())}catch(e){l.logger.error("Error cancelling dependencies:",e.details||e.message)}}async getDaemonsStatus(e,t){await this.waitForConnect(),l.logger.debug("Get daemon status");const r=new s.GetDaemonsStatusRequest;r.setProjectDir(e);try{return await new Promise((e,n)=>{const o=this.grpcClient.getDaemonsStatus(r,(t,r)=>{t?n(t):e(r)});t.onCancellationRequested(()=>o.cancel())})}catch(e){const r=e.details||e.message;t.isCancellationRequested?l.logger.debug("Get daemon status:",r):l.logger.error("Unable to get daemon status:",r)}}async stopDaemons(e){await this.waitForConnect();const t=new s.StopDaemonsRequest;t.setProjectDir(e);try{return await new Promise((e,r)=>{this.grpcClient.stopDaemons(t,(t,n)=>{t?r(t):e(n)})})}catch(e){l.logger.error("Error stopping daemons:",e.details||e.message)}finally{await n.commands.executeCommand(d.COMMAND_REFRESH_DAEMON_STATUS)}}async stopDaemon(e){await this.waitForConnect();const t=new s.StopDaemonRequest;t.setPid(e);try{return await new Promise((e,r)=>{this.grpcClient.stopDaemon(t,(t,n)=>{t?r(t):e(n)})})}catch(e){l.logger.error("Error stopping daemon:",e.details||e.message)}finally{await n.commands.executeCommand(d.COMMAND_REFRESH_DAEMON_STATUS)}}async showRestartMessage(){"Re-connect Client"===await n.window.showErrorMessage("The Gradle client was unable to connect. Try re-connecting.","Re-connect Client")&&await this.handleServerStart()}close(){var e;this.statusBarItem.hide(),null===(e=this.grpcClient)||void 0===e||e.close()}dispose(){this.close(),this._onDidConnect.dispose()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResolvingLoadBalancer=void 0;const n=r(32),o=r(110),i=r(31),s=r(19),a=r(49),l=r(76),c=r(2),u=r(14),d=r(8),g=r(2),p=r(15),h=r(113);t.ResolvingLoadBalancer=class{constructor(e,t,r,d,g){this.target=e,this.channelControlHelper=t,this.channelOptions=r,this.onSuccessfulResolution=d,this.onFailedResolution=g,this.latestChildState=i.ConnectivityState.IDLE,this.latestChildPicker=new a.QueuePicker(this),this.currentState=i.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1,r["grpc.service_config"]?this.defaultServiceConfig=o.validateServiceConfig(JSON.parse(r["grpc.service_config"])):this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]},this.updateState(i.ConnectivityState.IDLE,new a.QueuePicker(this)),this.childLoadBalancer=new h.ChildLoadBalancerHandler({createSubchannel:t.createSubchannel.bind(t),requestReresolution:()=>{this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()},updateState:(e,t)=>{this.latestChildState=e,this.latestChildPicker=t,this.updateState(e,t)}}),this.innerResolver=s.createResolver(e,{onSuccessfulResolution:(e,t,r,o,i)=>{var s;let a=null;null===t?null===r?(this.previousServiceConfig=null,a=this.defaultServiceConfig):null===this.previousServiceConfig?this.handleResolutionFailure(r):a=this.previousServiceConfig:(a=t,this.previousServiceConfig=t);const l=null!==(s=null==a?void 0:a.loadBalancingConfig)&&void 0!==s?s:[],d=n.getFirstUsableConfig(l,!0);if(null===d)return void this.handleResolutionFailure({code:c.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new u.Metadata});this.childLoadBalancer.updateAddressList(e,d,i);const g=null!=a?a:this.defaultServiceConfig;this.onSuccessfulResolution(null!=o?o:function(e){return function(t,r){var n,o;const i=t.split("/").filter(e=>e.length>0),s=null!==(n=i[0])&&void 0!==n?n:"",a=null!==(o=i[1])&&void 0!==o?o:"";if(e&&e.methodConfig)for(const t of e.methodConfig)for(const e of t.name)if(e.service===s&&(void 0===e.method||e.method===a))return{methodConfig:t,pickInformation:{},status:c.Status.OK};return{methodConfig:{name:[]},pickInformation:{},status:c.Status.OK}}}(g))},onError:e=>{this.handleResolutionFailure(e)}},r),this.backoffTimeout=new l.BackoffTimeout(()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=!1):this.updateState(this.latestChildState,this.latestChildPicker)}),this.backoffTimeout.unref()}updateResolution(){this.innerResolver.updateResolution(),this.currentState===i.ConnectivityState.IDLE&&this.updateState(i.ConnectivityState.CONNECTING,new a.QueuePicker(this))}updateState(e,t){var r;r=p.uriToString(this.target)+" "+i.ConnectivityState[this.currentState]+" -> "+i.ConnectivityState[e],d.trace(g.LogVerbosity.DEBUG,"resolving_load_balancer",r),e===i.ConnectivityState.IDLE&&(t=new a.QueuePicker(this)),this.currentState=e,this.channelControlHelper.updateState(e,t)}handleResolutionFailure(e){this.latestChildState===i.ConnectivityState.IDLE&&(this.updateState(i.ConnectivityState.TRANSIENT_FAILURE,new a.UnavailablePicker(e)),this.onFailedResolution(e)),this.backoffTimeout.runOnce()}exitIdle(){this.childLoadBalancer.exitIdle(),this.currentState===i.ConnectivityState.IDLE&&(this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution(),this.updateState(i.ConnectivityState.CONNECTING,new a.QueuePicker(this)))}updateAddressList(e,t){throw new Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.updateState(i.ConnectivityState.SHUTDOWN,new a.UnavailablePicker)}getTypeName(){return"resolving_load_balancer"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=t.PickFirstLoadBalancer=t.PickFirstLoadBalancingConfig=void 0;const n=r(32),o=r(31),i=r(49),s=r(40),a=r(8),l=r(2);function c(e){a.trace(l.LogVerbosity.DEBUG,"pick_first",e)}class u{getLoadBalancerName(){return"pick_first"}constructor(){}toJsonObject(){return{pick_first:{}}}static createFromJson(e){return new u}}t.PickFirstLoadBalancingConfig=u;class d{constructor(e){this.subchannel=e}pick(e){return{pickResultType:i.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,extraFilterFactory:null,onCallStarted:null}}}class g{constructor(e){this.channelControlHelper=e,this.latestAddressList=[],this.subchannels=[],this.currentState=o.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.triedAllSubchannels=!1,this.subchannelStateCounts={[o.ConnectivityState.CONNECTING]:0,[o.ConnectivityState.IDLE]:0,[o.ConnectivityState.READY]:0,[o.ConnectivityState.SHUTDOWN]:0,[o.ConnectivityState.TRANSIENT_FAILURE]:0},this.subchannelStateListener=(e,t,r)=>{if(this.subchannelStateCounts[t]-=1,this.subchannelStateCounts[r]+=1,e===this.subchannels[this.currentSubchannelIndex]&&r===o.ConnectivityState.TRANSIENT_FAILURE&&this.startNextSubchannelConnecting(),r!==o.ConnectivityState.READY){if(this.triedAllSubchannels&&this.subchannelStateCounts[o.ConnectivityState.IDLE]===this.subchannels.length)return this.resetSubchannelList(),void this.updateState(o.ConnectivityState.IDLE,new i.QueuePicker(this));if(null===this.currentPick)if(this.triedAllSubchannels){let e;e=this.subchannelStateCounts[o.ConnectivityState.CONNECTING]>0?o.ConnectivityState.CONNECTING:this.subchannelStateCounts[o.ConnectivityState.TRANSIENT_FAILURE]>0?o.ConnectivityState.TRANSIENT_FAILURE:o.ConnectivityState.IDLE,e!==this.currentState&&(e===o.ConnectivityState.TRANSIENT_FAILURE?this.updateState(e,new i.UnavailablePicker):this.updateState(e,new i.QueuePicker(this)))}else this.updateState(o.ConnectivityState.CONNECTING,new i.QueuePicker(this))}else this.pickSubchannel(e)},this.pickedSubchannelStateListener=(e,t,r)=>{if(r!==o.ConnectivityState.READY)if(this.currentPick=null,e.unref(),e.removeConnectivityStateListener(this.pickedSubchannelStateListener),this.subchannels.length>0)if(this.triedAllSubchannels){let e;e=this.subchannelStateCounts[o.ConnectivityState.CONNECTING]>0?o.ConnectivityState.CONNECTING:this.subchannelStateCounts[o.ConnectivityState.TRANSIENT_FAILURE]>0?o.ConnectivityState.TRANSIENT_FAILURE:o.ConnectivityState.IDLE,e===o.ConnectivityState.TRANSIENT_FAILURE?this.updateState(e,new i.UnavailablePicker):this.updateState(e,new i.QueuePicker(this))}else this.updateState(o.ConnectivityState.CONNECTING,new i.QueuePicker(this));else this.updateState(o.ConnectivityState.IDLE,new i.QueuePicker(this))},this.connectionDelayTimeout=setTimeout(()=>{},0),clearTimeout(this.connectionDelayTimeout)}startNextSubchannelConnecting(){if(!this.triedAllSubchannels){for(const[e,t]of this.subchannels.entries())if(e>this.currentSubchannelIndex){const r=t.getConnectivityState();if(r===o.ConnectivityState.IDLE||r===o.ConnectivityState.CONNECTING)return void this.startConnecting(e)}this.triedAllSubchannels=!0}}startConnecting(e){clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=e,this.subchannels[e].getConnectivityState()===o.ConnectivityState.IDLE&&(c("Start connecting to subchannel with address "+this.subchannels[e].getAddress()),process.nextTick(()=>{this.subchannels[e].startConnecting()})),this.connectionDelayTimeout=setTimeout(()=>{this.startNextSubchannelConnecting()},250)}pickSubchannel(e){c("Pick subchannel with address "+e.getAddress()),null!==this.currentPick&&(this.currentPick.unref(),this.currentPick.removeConnectivityStateListener(this.pickedSubchannelStateListener)),this.currentPick=e,this.updateState(o.ConnectivityState.READY,new d(e)),e.addConnectivityStateListener(this.pickedSubchannelStateListener),e.ref(),this.resetSubchannelList(),clearTimeout(this.connectionDelayTimeout)}updateState(e,t){c(o.ConnectivityState[this.currentState]+" -> "+o.ConnectivityState[e]),this.currentState=e,this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(const e of this.subchannels)e.removeConnectivityStateListener(this.subchannelStateListener),e.unref();this.currentSubchannelIndex=0,this.subchannelStateCounts={[o.ConnectivityState.CONNECTING]:0,[o.ConnectivityState.IDLE]:0,[o.ConnectivityState.READY]:0,[o.ConnectivityState.SHUTDOWN]:0,[o.ConnectivityState.TRANSIENT_FAILURE]:0},this.subchannels=[],this.triedAllSubchannels=!1}connectToAddressList(){this.resetSubchannelList(),c("Connect to address list "+this.latestAddressList.map(e=>s.subchannelAddressToString(e))),this.subchannels=this.latestAddressList.map(e=>this.channelControlHelper.createSubchannel(e,{}));for(const e of this.subchannels)e.ref();for(const e of this.subchannels)if(e.addConnectivityStateListener(this.subchannelStateListener),this.subchannelStateCounts[e.getConnectivityState()]+=1,e.getConnectivityState()===o.ConnectivityState.READY)return this.pickSubchannel(e),void this.resetSubchannelList();for(const[e,t]of this.subchannels.entries()){const r=t.getConnectivityState();if(r===o.ConnectivityState.IDLE||r===o.ConnectivityState.CONNECTING)return this.startConnecting(e),void(null===this.currentPick&&this.updateState(o.ConnectivityState.CONNECTING,new i.QueuePicker(this)))}null===this.currentPick&&this.updateState(o.ConnectivityState.TRANSIENT_FAILURE,new i.UnavailablePicker)}updateAddressList(e,t){0!==this.subchannels.length&&this.latestAddressList.every((t,r)=>e[r]===t)||(this.latestAddressList=e,this.connectToAddressList())}exitIdle(){for(const e of this.subchannels)e.startConnecting();this.currentState===o.ConnectivityState.IDLE&&this.latestAddressList.length>0&&this.connectToAddressList(),(this.currentState===o.ConnectivityState.IDLE||this.triedAllSubchannels)&&this.channelControlHelper.requestReresolution()}resetBackoff(){}destroy(){this.resetSubchannelList(),null!==this.currentPick&&(this.currentPick.unref(),this.currentPick.removeConnectivityStateListener(this.pickedSubchannelStateListener))}getTypeName(){return"pick_first"}}t.PickFirstLoadBalancer=g,t.setup=function(){n.registerLoadBalancerType("pick_first",g,u)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=void 0;const n=r(19),o=r(96),i=r(30),s=r(110),a=r(2),l=r(14),c=r(8),u=r(2),d=r(15),g=r(25);function p(e){c.trace(u.LogVerbosity.DEBUG,"dns_resolver",e)}const h=i.promisify(o.resolveTxt),f=i.promisify(o.lookup);class m{constructor(e,t,r){var n,o;this.target=e,this.listener=t,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,p("Resolver constructed for target "+d.uriToString(e));const i=d.splitHostPort(e.path);null===i?(this.ipResult=null,this.dnsHostname=null,this.port=null):g.isIPv4(i.host)||g.isIPv6(i.host)?(this.ipResult=[{host:i.host,port:null!==(n=i.port)&&void 0!==n?n:443}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=i.host,this.port=null!==(o=i.port)&&void 0!==o?o:443),this.percentage=100*Math.random(),this.defaultResolutionError={code:a.Status.UNAVAILABLE,details:"Name resolution failed for target "+d.uriToString(this.target),metadata:new l.Metadata}}startResolution(){if(null!==this.ipResult)return p("Returning IP address for target "+d.uriToString(this.target)),void setImmediate(()=>{this.listener.onSuccessfulResolution(this.ipResult,null,null,null,{})});if(null===this.dnsHostname)setImmediate(()=>{this.listener.onError({code:a.Status.UNAVAILABLE,details:"Failed to parse DNS address "+d.uriToString(this.target),metadata:new l.Metadata})});else{this.latestLookupResult=null;const e=this.dnsHostname;this.pendingLookupPromise=f(e,{all:!0}),this.pendingLookupPromise.then(e=>{this.pendingLookupPromise=null;const t=e.filter(e=>4===e.family),r=e.filter(e=>6===e.family);this.latestLookupResult=function(...e){const t=[];for(let r=0;r<Math.max.apply(null,e.map(e=>e.length));r++)for(const n of e)r<n.length&&t.push(n[r]);return t}(r,t).map(e=>({host:e.address,port:+this.port}));const n="["+this.latestLookupResult.map(e=>e.host+":"+e.port).join(",")+"]";p("Resolved addresses for target "+d.uriToString(this.target)+": "+n),0!==this.latestLookupResult.length?this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{}):this.listener.onError(this.defaultResolutionError)},e=>{p("Resolution error for target "+d.uriToString(this.target)+": "+e.message),this.pendingLookupPromise=null,this.listener.onError(this.defaultResolutionError)}),null===this.pendingTxtPromise&&(this.pendingTxtPromise=h(e),this.pendingTxtPromise.then(e=>{this.pendingTxtPromise=null;try{this.latestServiceConfig=s.extractAndSelectServiceConfig(e,this.percentage)}catch(e){this.latestServiceConfigError={code:a.Status.UNAVAILABLE,details:"Parsing service config failed",metadata:new l.Metadata}}null!==this.latestLookupResult&&this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})},e=>{}))}}updateResolution(){p("Resolution update requested for target "+d.uriToString(this.target)),null===this.pendingLookupPromise&&this.startResolution()}destroy(){}static getDefaultAuthority(e){return e.path}}t.setup=function(){n.registerResolver("dns",m),n.registerDefaultScheme("dns")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=void 0;const n=r(19);class o{constructor(e,t,r){let n;this.listener=t,this.addresses=[],n=""===e.authority?"/"+e.path:e.path,this.addresses=[{path:n}]}updateResolution(){process.nextTick(this.listener.onSuccessfulResolution,this.addresses,null,null,null,{})}destroy(){}static getDefaultAuthority(e){return"localhost"}}t.setup=function(){n.registerResolver("unix",o)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=void 0;const n=r(25),o=r(2),i=r(14),s=r(19),a=r(15),l=r(8);function c(e){l.trace(o.LogVerbosity.DEBUG,"ip_resolver",e)}class u{constructor(e,t,r){var s;this.target=e,this.listener=t,this.addresses=[],this.error=null,c("Resolver constructed for target "+a.uriToString(e));const l=[];if("ipv4"!==e.scheme&&"ipv6"!==e.scheme)return void(this.error={code:o.Status.UNAVAILABLE,details:`Unrecognized scheme ${e.scheme} in IP resolver`,metadata:new i.Metadata});const u=e.path.split(",");for(const t of u){const r=a.splitHostPort(t);if(null===r)return void(this.error={code:o.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${t}`,metadata:new i.Metadata});if("ipv4"===e.scheme&&!n.isIPv4(r.host)||"ipv6"===e.scheme&&!n.isIPv6(r.host))return void(this.error={code:o.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${t}`,metadata:new i.Metadata});l.push({host:r.host,port:null!==(s=r.port)&&void 0!==s?s:443})}this.addresses=l,c("Parsed "+e.scheme+" address list "+this.addresses)}updateResolution(){process.nextTick(()=>{this.error?this.listener.onError(this.error):this.listener.onSuccessfulResolution(this.addresses,null,null,null,{})})}destroy(){}static getDefaultAuthority(e){return e.path.split(",")[0]}}t.setup=function(){s.registerResolver("ipv4",u),s.registerResolver("ipv6",u)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=t.RoundRobinLoadBalancer=void 0;const n=r(32),o=r(31),i=r(49),s=r(40),a=r(8),l=r(2);function c(e){a.trace(l.LogVerbosity.DEBUG,"round_robin",e)}class u{getLoadBalancerName(){return"round_robin"}constructor(){}toJsonObject(){return{round_robin:{}}}static createFromJson(e){return new u}}class d{constructor(e,t=0){this.subchannelList=e,this.nextIndex=t}pick(e){const t=this.subchannelList[this.nextIndex];return this.nextIndex=(this.nextIndex+1)%this.subchannelList.length,{pickResultType:i.PickResultType.COMPLETE,subchannel:t,status:null,extraFilterFactory:null,onCallStarted:null}}peekNextSubchannel(){return this.subchannelList[this.nextIndex]}}class g{constructor(e){this.channelControlHelper=e,this.subchannels=[],this.currentState=o.ConnectivityState.IDLE,this.currentReadyPicker=null,this.subchannelStateCounts={[o.ConnectivityState.CONNECTING]:0,[o.ConnectivityState.IDLE]:0,[o.ConnectivityState.READY]:0,[o.ConnectivityState.SHUTDOWN]:0,[o.ConnectivityState.TRANSIENT_FAILURE]:0},this.subchannelStateListener=(e,t,r)=>{this.subchannelStateCounts[t]-=1,this.subchannelStateCounts[r]+=1,this.calculateAndUpdateState(),r!==o.ConnectivityState.TRANSIENT_FAILURE&&r!==o.ConnectivityState.IDLE||(this.channelControlHelper.requestReresolution(),e.startConnecting())}}calculateAndUpdateState(){if(this.subchannelStateCounts[o.ConnectivityState.READY]>0){const e=this.subchannels.filter(e=>e.getConnectivityState()===o.ConnectivityState.READY);let t=0;null!==this.currentReadyPicker&&(t=e.indexOf(this.currentReadyPicker.peekNextSubchannel()),t<0&&(t=0)),this.updateState(o.ConnectivityState.READY,new d(e,t))}else this.subchannelStateCounts[o.ConnectivityState.CONNECTING]>0?this.updateState(o.ConnectivityState.CONNECTING,new i.QueuePicker(this)):this.subchannelStateCounts[o.ConnectivityState.TRANSIENT_FAILURE]>0?this.updateState(o.ConnectivityState.TRANSIENT_FAILURE,new i.UnavailablePicker):this.updateState(o.ConnectivityState.IDLE,new i.QueuePicker(this))}updateState(e,t){c(o.ConnectivityState[this.currentState]+" -> "+o.ConnectivityState[e]),e===o.ConnectivityState.READY?this.currentReadyPicker=t:this.currentReadyPicker=null,this.currentState=e,this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(const e of this.subchannels)e.removeConnectivityStateListener(this.subchannelStateListener),e.unref();this.subchannelStateCounts={[o.ConnectivityState.CONNECTING]:0,[o.ConnectivityState.IDLE]:0,[o.ConnectivityState.READY]:0,[o.ConnectivityState.SHUTDOWN]:0,[o.ConnectivityState.TRANSIENT_FAILURE]:0},this.subchannels=[]}updateAddressList(e,t){this.resetSubchannelList(),c("Connect to address list "+e.map(e=>s.subchannelAddressToString(e))),this.subchannels=e.map(e=>this.channelControlHelper.createSubchannel(e,{}));for(const e of this.subchannels){e.ref(),e.addConnectivityStateListener(this.subchannelStateListener);const t=e.getConnectivityState();this.subchannelStateCounts[t]+=1,t!==o.ConnectivityState.IDLE&&t!==o.ConnectivityState.TRANSIENT_FAILURE||e.startConnecting()}this.calculateAndUpdateState()}exitIdle(){for(const e of this.subchannels)e.startConnecting()}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return"round_robin"}}t.RoundRobinLoadBalancer=g,t.setup=function(){n.registerLoadBalancerType("round_robin",g,u)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSubchannelPool=t.SubchannelPool=void 0;const n=r(233),o=r(40),i=r(15);class s{constructor(e){this.global=e,this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let e=!0;for(const t in this.pool){const r=this.pool[t].filter(e=>!e.subchannel.unrefIfOneRef());r.length>0&&(e=!1),this.pool[t]=r}e&&null!==this.cleanupTimer&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null)}ensureCleanupTask(){var e,t;this.global&&null===this.cleanupTimer&&(this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels()},1e4),null===(t=(e=this.cleanupTimer).unref)||void 0===t||t.call(e))}getOrCreateSubchannel(e,t,r,s){this.ensureCleanupTask();const a=i.uriToString(e);if(a in this.pool){const e=this.pool[a];for(const i of e)if(o.subchannelAddressEqual(t,i.subchannelAddress)&&n.channelOptionsEqual(r,i.channelArguments)&&s._equals(i.channelCredentials))return i.subchannel}const l=new o.Subchannel(e,t,r,s);return a in this.pool||(this.pool[a]=[]),this.pool[a].push({subchannelAddress:t,channelArguments:r,channelCredentials:s,subchannel:l}),this.global&&l.ref(),l}}t.SubchannelPool=s;const a=new s(!0);t.getSubchannelPool=function(e){return e?a:new s(!1)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.channelOptionsEqual=t.recognizedOptions=void 0,t.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.keepalive_permit_without_calls":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0,"grpc-node.max_session_memory":!0},t.channelOptionsEqual=function(e,t){const r=Object.keys(e).sort(),n=Object.keys(t).sort();if(r.length!==n.length)return!1;for(let o=0;o<r.length;o+=1){if(r[o]!==n[o])return!1;if(e[r[o]]!==t[n[o]])return!1}return!0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallCredentialsFilterFactory=t.CallCredentialsFilter=void 0;const n=r(50),o=r(2),i=r(15);class s extends n.BaseFilter{constructor(e,t){var r,n;super(),this.channel=e,this.stream=t,this.channel=e,this.stream=t;const o=t.getMethod().split("/");let s="";o.length>=2&&(s=o[1]);const a=null!==(n=null===(r=i.splitHostPort(t.getHost()))||void 0===r?void 0:r.host)&&void 0!==n?n:"localhost";this.serviceUrl=`https://${a}/${s}`}async sendMetadata(e){const t=this.stream.getCredentials().generateMetadata({service_url:this.serviceUrl}),r=await e;try{r.merge(await t)}catch(e){return this.stream.cancelWithStatus(o.Status.UNAUTHENTICATED,"Failed to retrieve auth metadata with error: "+e.message),Promise.reject("Failed to retrieve auth metadata")}return r.get("authorization").length>1?(this.stream.cancelWithStatus(o.Status.INTERNAL,'"authorization" metadata cannot have multiple values'),Promise.reject('"authorization" metadata cannot have multiple values')):r}}t.CallCredentialsFilter=s;t.CallCredentialsFilterFactory=class{constructor(e){this.channel=e,this.channel=e}createFilter(e){return new s(this.channel,e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeadlineFilterFactory=t.DeadlineFilter=void 0;const n=r(2),o=r(50),i=[["m",1],["S",1e3],["M",6e4],["H",36e5]];class s extends o.BaseFilter{constructor(e,t){var r,o;super(),this.channel=e,this.callStream=t,this.timer=null;const i=t.getDeadline();i instanceof Date?this.deadline=i.getTime():this.deadline=i;const s=(new Date).getTime();let a=this.deadline-s;a<=0?process.nextTick(()=>{t.cancelWithStatus(n.Status.DEADLINE_EXCEEDED,"Deadline exceeded")}):this.deadline!==1/0&&(this.timer=setTimeout(()=>{t.cancelWithStatus(n.Status.DEADLINE_EXCEEDED,"Deadline exceeded")},a),null===(o=(r=this.timer).unref)||void 0===o||o.call(r))}async sendMetadata(e){if(this.deadline===1/0)return e;const t=await e,r=function(e){const t=(new Date).getTime(),r=Math.max(e-t,0);for(const[e,t]of i){const n=r/t;if(n<1e8)return String(Math.ceil(n))+e}throw new Error("Deadline is too far in the future")}(this.deadline);return t.set("grpc-timeout",r),t}receiveTrailers(e){return this.timer&&clearTimeout(this.timer),e}}t.DeadlineFilter=s;t.DeadlineFilterFactory=class{constructor(e){this.channel=e}createFilter(e){return new s(this.channel,e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompressionFilterFactory=t.CompressionFilter=void 0;const n=r(70),o=r(50);class i{async writeMessage(e,t){let r=e;t&&(r=await this.compressMessage(r));const n=Buffer.allocUnsafe(r.length+5);return n.writeUInt8(t?1:0,0),n.writeUInt32BE(r.length,1),r.copy(n,5),n}async readMessage(e){const t=1===e.readUInt8(0);let r=e.slice(5);return t&&(r=await this.decompressMessage(r)),r}}class s extends i{async compressMessage(e){return e}async writeMessage(e,t){const r=Buffer.allocUnsafe(e.length+5);return r.writeUInt8(0,0),r.writeUInt32BE(e.length,1),e.copy(r,5),r}decompressMessage(e){return Promise.reject(new Error('Received compressed message but "grpc-encoding" header was identity'))}}class a extends i{compressMessage(e){return new Promise((t,r)=>{n.deflate(e,(e,n)=>{e?r(e):t(n)})})}decompressMessage(e){return new Promise((t,r)=>{n.inflate(e,(e,n)=>{e?r(e):t(n)})})}}class l extends i{compressMessage(e){return new Promise((t,r)=>{n.gzip(e,(e,n)=>{e?r(e):t(n)})})}decompressMessage(e){return new Promise((t,r)=>{n.unzip(e,(e,n)=>{e?r(e):t(n)})})}}class c extends i{constructor(e){super(),this.compressionName=e}compressMessage(e){return Promise.reject(new Error("Received message compressed with unsupported compression method "+this.compressionName))}decompressMessage(e){return Promise.reject(new Error("Compression method not supported: "+this.compressionName))}}class u extends o.BaseFilter{constructor(){super(...arguments),this.sendCompression=new s,this.receiveCompression=new s}async sendMetadata(e){const t=await e;return t.set("grpc-accept-encoding","identity,deflate,gzip"),t.set("accept-encoding","identity"),t}receiveMetadata(e){const t=e.get("grpc-encoding");if(t.length>0){const e=t[0];"string"==typeof e&&(this.receiveCompression=function(e){switch(e){case"identity":return new s;case"deflate":return new a;case"gzip":return new l;default:return new c(e)}}(e))}return e.remove("grpc-encoding"),e.remove("grpc-accept-encoding"),e}async sendMessage(e){const t=await e,r=void 0!==t.flags&&0==(2&t.flags);return{message:await this.sendCompression.writeMessage(t.message,r),flags:t.flags}}async receiveMessage(e){return this.receiveCompression.readMessage(await e)}}t.CompressionFilter=u;t.CompressionFilterFactory=class{constructor(e){this.channel=e}createFilter(e){return new u}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MaxMessageSizeFilterFactory=t.MaxMessageSizeFilter=void 0;const n=r(50),o=r(2);class i extends n.BaseFilter{constructor(e,t){super(),this.options=e,this.callStream=t,this.maxSendMessageSize=o.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=o.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,"grpc.max_send_message_length"in e&&(this.maxSendMessageSize=e["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in e&&(this.maxReceiveMessageSize=e["grpc.max_receive_message_length"])}async sendMessage(e){if(-1===this.maxSendMessageSize)return e;{const t=await e;return t.message.length>this.maxSendMessageSize?(this.callStream.cancelWithStatus(o.Status.RESOURCE_EXHAUSTED,`Sent message larger than max (${t.message.length} vs. ${this.maxSendMessageSize})`),Promise.reject("Message too large")):t}}async receiveMessage(e){if(-1===this.maxReceiveMessageSize)return e;{const t=await e;return t.length>this.maxReceiveMessageSize?(this.callStream.cancelWithStatus(o.Status.RESOURCE_EXHAUSTED,`Received message larger than max (${t.length} vs. ${this.maxReceiveMessageSize})`),Promise.reject("Message too large")):t}}}t.MaxMessageSizeFilter=i;t.MaxMessageSizeFilterFactory=class{constructor(e){this.options=e}createFilter(e){return new i(this.options,e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClientDuplexStreamImpl=t.ClientWritableStreamImpl=t.ClientReadableStreamImpl=t.ClientUnaryCallImpl=t.callErrorFromStatus=void 0;const n=r(115),o=r(116),i=r(2);t.callErrorFromStatus=function(e){const t=`${e.code} ${i.Status[e.code]}: ${e.details}`;return Object.assign(new Error(t),e)};class s extends n.EventEmitter{constructor(){super()}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(i.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}}t.ClientUnaryCallImpl=s;class a extends o.Readable{constructor(e){super({objectMode:!0}),this.deserialize=e}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(i.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}_read(e){var t;null===(t=this.call)||void 0===t||t.startRead()}}t.ClientReadableStreamImpl=a;class l extends o.Writable{constructor(e){super({objectMode:!0}),this.serialize=e}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(i.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}_write(e,t,r){var n;const o={callback:r},i=Number(t);Number.isNaN(i)||(o.flags=i),null===(n=this.call)||void 0===n||n.sendMessageWithContext(o,e)}_final(e){var t;null===(t=this.call)||void 0===t||t.halfClose(),e()}}t.ClientWritableStreamImpl=l;class c extends o.Duplex{constructor(e,t){super({objectMode:!0}),this.serialize=e,this.deserialize=t}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(i.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}_read(e){var t;null===(t=this.call)||void 0===t||t.startRead()}_write(e,t,r){var n;const o={callback:r},i=Number(t);Number.isNaN(i)||(o.flags=i),null===(n=this.call)||void 0===n||n.sendMessageWithContext(o,e)}_final(e){var t;null===(t=this.call)||void 0===t||t.halfClose(),e()}}t.ClientDuplexStreamImpl=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadPackageDefinition=t.makeClientConstructor=void 0;const n=r(114),o={unary:n.Client.prototype.makeUnaryRequest,server_stream:n.Client.prototype.makeServerStreamRequest,client_stream:n.Client.prototype.makeClientStreamRequest,bidi:n.Client.prototype.makeBidiStreamRequest};function i(e){return["__proto__","prototype","constructor"].includes(e)}function s(e,t,r){r||(r={});class s extends n.Client{}return Object.keys(e).forEach(t=>{if(i(t))return;const r=e[t];let n;if("string"==typeof t&&"$"===t.charAt(0))throw new Error("Method names cannot start with $");n=r.requestStream?r.responseStream?"bidi":"client_stream":r.responseStream?"server_stream":"unary";const a=r.requestSerialize,l=r.responseDeserialize,c=function(e,t,r,n){return function(...o){return e.call(this,t,r,n,...o)}}(o[n],r.path,a,l);s.prototype[t]=c,Object.assign(s.prototype[t],r),r.originalName&&!i(r.originalName)&&(s.prototype[r.originalName]=s.prototype[t])}),s.service=e,s}t.makeClientConstructor=s,t.loadPackageDefinition=function(e){const t={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const o=e[n],a=n.split(".");if(a.some(e=>i(e)))continue;const l=a[a.length-1];let c=t;for(const e of a.slice(0,-1))c[e]||(c[e]={}),c=c[e];r=o,c[l]="format"in r?o:s(o,0,{})}var r;return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Server=void 0;const n=r(57),o=r(2),i=r(14),s=r(241),a=r(19),l=r(8),c=r(40),u=r(15);function d(e){l.trace(o.LogVerbosity.DEBUG,"server",e)}function g(){}function p(e){return{code:o.Status.UNIMPLEMENTED,details:"The server does not implement the method "+e,metadata:new i.Metadata}}t.Server=class{constructor(e){this.http2ServerList=[],this.handlers=new Map,this.sessions=new Set,this.started=!1,this.options=null!=e?e:{}}addProtoService(){throw new Error("Not implemented. Use addService() instead")}addService(e,t){if(null===e||"object"!=typeof e||null===t||"object"!=typeof t)throw new Error("addService() requires two objects as arguments");const r=Object.keys(e);if(0===r.length)throw new Error("Cannot add an empty service to a server");r.forEach(r=>{const n=e[r];let o;o=n.requestStream?n.responseStream?"bidi":"clientStream":n.responseStream?"serverStream":"unary";let i,s=t[r];void 0===s&&"string"==typeof n.originalName&&(s=t[n.originalName]),i=void 0!==s?s.bind(t):function(e,t){const r=p(t);switch(e){case"unary":case"clientStream":return(e,t)=>{t(r,null)};case"serverStream":case"bidi":return e=>{e.emit("error",r)};default:throw new Error("Invalid handlerType "+e)}}(o,r);if(!1===this.register(n.path,i,n.responseSerialize,n.requestDeserialize,o))throw new Error(`Method handler for ${n.path} already provided.`)})}removeService(e){if(null===e||"object"!=typeof e)throw new Error("removeService() requires object as argument");Object.keys(e).forEach(t=>{const r=e[t];this.unregister(r.path)})}bind(e,t){throw new Error("Not implemented. Use bindAsync() instead")}bindAsync(e,t,r){if(!0===this.started)throw new Error("server is already started");if("string"!=typeof e)throw new TypeError("port must be a string");if(null===t||"object"!=typeof t)throw new TypeError("creds must be an object");if("function"!=typeof r)throw new TypeError("callback must be a function");const i=u.parseUri(e);if(null===i)throw new Error(`Could not parse port "${e}"`);const s=a.mapUriDefaultScheme(i);if(null===s)throw new Error(`Could not get a default scheme for port "${e}"`);const p={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER};"grpc-node.max_session_memory"in this.options&&(p.maxSessionMemory=this.options["grpc-node.max_session_memory"]),"grpc.max_concurrent_streams"in this.options&&(p.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]});const h=()=>{let e;if(t._isSecure()){const r=Object.assign(p,t._getSettings());e=n.createSecureServer(r)}else e=n.createServer(p);return e.setTimeout(0,g),this._setupHandlers(e),e},f=(e,t,r)=>0===e.length?Promise.resolve({port:t,count:r}):Promise.all(e.map(e=>{let r;d("Attempting to bind "+c.subchannelAddressToString(e)),r=c.isTcpSubchannelAddress(e)?{host:e.host,port:t}:e;const n=h();return new Promise((o,i)=>{function s(e){o(e)}n.once("error",s),n.listen(r,()=>{d("Successfully bound "+c.subchannelAddressToString(e)),this.http2ServerList.push(n);const r=n.address();o("string"==typeof r?t:r.port),n.removeListener("error",s)})})})).then(e=>{let n=0;for(const r of e)if("number"==typeof r&&(n+=1,r!==t))throw new Error("Invalid state: multiple port numbers added from single address");return{port:t,count:n+r}}),m=e=>{if(0===e.length)return Promise.resolve({port:0,count:0});const t=e[0],r=h();return new Promise((n,o)=>{function i(t){n(m(e.slice(1)))}r.once("error",i),r.listen(t,()=>{this.http2ServerList.push(r),n(f(e.slice(1),r.address().port,1)),r.removeListener("error",i)})})},y={onSuccessfulResolution:(t,n,i)=>{if(y.onSuccessfulResolution=()=>{},0===t.length)return void r(new Error("No addresses resolved for port "+e),0);let s;s=c.isTcpSubchannelAddress(t[0])?0===t[0].port?m(t):f(t,t[0].port,0):f(t,1,0),s.then(e=>{if(0===e.count){const e=`No address added out of total ${t.length} resolved`;l.log(o.LogVerbosity.ERROR,e),r(new Error(e),0)}else e.count<t.length&&l.log(o.LogVerbosity.INFO,`WARNING Only ${e.count} addresses added out of total ${t.length} resolved`),r(null,e.port)},e=>{const n=`No address added out of total ${t.length} resolved`;l.log(o.LogVerbosity.ERROR,n),r(new Error(n),0)})},onError:e=>{r(new Error(e.details),0)}};a.createResolver(s,y,this.options).updateResolution()}forceShutdown(){for(const e of this.http2ServerList)e.listening&&e.close();this.started=!1,this.sessions.forEach(e=>{e.destroy(n.constants.NGHTTP2_CANCEL)}),this.sessions.clear()}register(e,t,r,n,o){return!this.handlers.has(e)&&(this.handlers.set(e,{func:t,serialize:r,deserialize:n,type:o,path:e}),!0)}unregister(e){return this.handlers.delete(e)}start(){if(0===this.http2ServerList.length||this.http2ServerList.every(e=>!0!==e.listening))throw new Error("server must be bound in order to start");if(!0===this.started)throw new Error("server is already started");this.started=!0}tryShutdown(e){let t=0;function r(){t--,0===t&&e()}this.started=!1;for(const e of this.http2ServerList)e.listening&&(t++,e.close(r));this.sessions.forEach(e=>{e.closed||(t+=1,e.close(r))}),0===t&&e()}addHttp2Port(){throw new Error("Not yet implemented")}_setupHandlers(e){null!==e&&(e.on("stream",(t,r)=>{const i=r[n.constants.HTTP2_HEADER_CONTENT_TYPE];if("string"==typeof i&&i.startsWith("application/grpc"))try{const o=r[n.constants.HTTP2_HEADER_PATH],i=e.address();let a="null";i&&(a="string"==typeof i?i:i.address+":"+i.port),d("Received call to method "+o+" at address "+a);const l=this.handlers.get(o);if(void 0===l)throw d("No handler registered for method "+o+". Sending UNIMPLEMENTED status."),p(o);const c=new s.Http2ServerCallStream(t,l,this.options),u=c.receiveMetadata(r);switch(l.type){case"unary":!async function(e,t,r){const n=await e.receiveUnaryMessage();if(void 0===n||e.cancelled)return;const o=new s.ServerUnaryCallImpl(e,r,n);t.func(o,(t,r,n,o)=>{e.sendUnaryMessage(t,r,n,o)})}(c,l,u);break;case"clientStream":!function(e,t,r){const n=new s.ServerReadableStreamImpl(e,r,t.deserialize);function o(t,r,o,i){n.destroy(),e.sendUnaryMessage(t,r,o,i)}if(e.cancelled)return;n.on("error",o),t.func(n,o)}(c,l,u);break;case"serverStream":!async function(e,t,r){const n=await e.receiveUnaryMessage();if(void 0===n||e.cancelled)return;const o=new s.ServerWritableStreamImpl(e,r,t.serialize,n);t.func(o)}(c,l,u);break;case"bidi":!function(e,t,r){const n=new s.ServerDuplexStreamImpl(e,r,t.serialize,t.deserialize);if(e.cancelled)return;t.func(n)}(c,l,u);break;default:throw new Error("Unknown handler type: "+l.type)}}catch(e){const r=new s.Http2ServerCallStream(t,null,this.options);void 0===e.code&&(e.code=o.Status.INTERNAL),r.sendError(e)}else t.respond({[n.constants.HTTP2_HEADER_STATUS]:n.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0})}),e.on("session",e=>{this.started?(this.sessions.add(e),e.on("close",()=>{this.sessions.delete(e)})):e.destroy()}))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Http2ServerCallStream=t.ServerDuplexStreamImpl=t.ServerWritableStreamImpl=t.ServerReadableStreamImpl=t.ServerUnaryCallImpl=void 0;const n=r(115),o=r(57),i=r(116),s=r(2),a=r(14),l=r(107),c=r(8);function u(e){c.trace(s.LogVerbosity.DEBUG,"server_call",e)}const d=/(\d{1,8})\s*([HMSmun])/,g={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},p={"grpc-accept-encoding":"identity","grpc-encoding":"identity",[o.constants.HTTP2_HEADER_STATUS]:o.constants.HTTP_STATUS_OK,[o.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},h={waitForTrailers:!0};class f extends n.EventEmitter{constructor(e,t,r){super(),this.call=e,this.metadata=t,this.request=r,this.cancelled=!1,this.call.setupSurfaceCall(this)}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}}t.ServerUnaryCallImpl=f;class m extends i.Readable{constructor(e,t,r){super({objectMode:!0}),this.call=e,this.metadata=t,this.deserialize=r,this.cancelled=!1,this.call.setupSurfaceCall(this),this.call.setupReadable(this)}_read(e){this.call.consumeUnpushedMessages(this)&&this.call.resume()}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}}t.ServerReadableStreamImpl=m;class y extends i.Writable{constructor(e,t,r,n){super({objectMode:!0}),this.call=e,this.metadata=t,this.serialize=r,this.request=n,this.cancelled=!1,this.trailingMetadata=new a.Metadata,this.call.setupSurfaceCall(this),this.on("error",e=>{this.call.sendError(e),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}_write(e,t,r){try{const t=this.call.serializeMessage(e);if(!this.call.write(t))return void this.call.once("drain",r)}catch(e){e.code=s.Status.INTERNAL,this.emit("error",e)}r()}_final(e){this.call.sendStatus({code:s.Status.OK,details:"OK",metadata:this.trailingMetadata}),e(null)}end(e){e&&(this.trailingMetadata=e),super.end()}}t.ServerWritableStreamImpl=y;class v extends i.Duplex{constructor(e,t,r,n){super({objectMode:!0}),this.call=e,this.metadata=t,this.serialize=r,this.deserialize=n,this.cancelled=!1,this.trailingMetadata=new a.Metadata,this.call.setupSurfaceCall(this),this.call.setupReadable(this),this.on("error",e=>{this.call.sendError(e),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}end(e){e&&(this.trailingMetadata=e),super.end()}}t.ServerDuplexStreamImpl=v,v.prototype._read=m.prototype._read,v.prototype._write=y.prototype._write,v.prototype._final=y.prototype._final,v.prototype.end=y.prototype.end;class _ extends n.EventEmitter{constructor(e,t,r){super(),this.stream=e,this.handler=t,this.options=r,this.cancelled=!1,this.deadlineTimer=setTimeout(()=>{},0),this.deadline=1/0,this.wantTrailers=!1,this.metadataSent=!1,this.canPush=!1,this.isPushPending=!1,this.bufferedMessages=[],this.messagesToPush=[],this.maxSendMessageSize=s.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=s.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.stream.once("error",e=>{}),this.stream.once("close",()=>{var e;u("Request to method "+(null===(e=this.handler)||void 0===e?void 0:e.path)+" stream closed with rstCode "+this.stream.rstCode),this.cancelled=!0,this.emit("cancelled","cancelled")}),this.stream.on("drain",()=>{this.emit("drain")}),"grpc.max_send_message_length"in r&&(this.maxSendMessageSize=r["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in r&&(this.maxReceiveMessageSize=r["grpc.max_receive_message_length"]),clearTimeout(this.deadlineTimer)}checkCancelled(){return(this.stream.destroyed||this.stream.closed)&&(this.cancelled=!0),this.cancelled}sendMetadata(e){if(this.checkCancelled())return;if(this.metadataSent)return;this.metadataSent=!0;const t=e?e.toHttp2Headers():null,r=Object.assign({},p,t);this.stream.respond(r,h)}receiveMetadata(e){const t=a.Metadata.fromHttp2Headers(e),r=t.get("grpc-timeout");if(r.length>0){const e=r[0].toString().match(d);if(null===e){const e=new Error("Invalid deadline");return e.code=s.Status.OUT_OF_RANGE,void this.sendError(e)}const n=+e[1]*g[e[2]]|0,o=new Date;this.deadline=o.setMilliseconds(o.getMilliseconds()+n),this.deadlineTimer=setTimeout(T,n,this),t.remove("grpc-timeout")}return t.remove(o.constants.HTTP2_HEADER_ACCEPT_ENCODING),t.remove(o.constants.HTTP2_HEADER_TE),t.remove(o.constants.HTTP2_HEADER_CONTENT_TYPE),t.remove("grpc-encoding"),t.remove("grpc-accept-encoding"),t}receiveUnaryMessage(){return new Promise((e,t)=>{const r=this.stream,n=[];let o=0;r.on("data",e=>{n.push(e),o+=e.byteLength}),r.once("end",async()=>{try{const t=Buffer.concat(n,o);-1!==this.maxReceiveMessageSize&&t.length>this.maxReceiveMessageSize&&(this.sendError({code:s.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${t.length} vs. ${this.maxReceiveMessageSize})`}),e()),e(this.deserializeMessage(t))}catch(t){t.code=s.Status.INTERNAL,this.sendError(t),e()}})})}serializeMessage(e){const t=this.handler.serialize(e),r=t.byteLength,n=Buffer.allocUnsafe(r+5);return n.writeUInt8(0,0),n.writeUInt32BE(r,1),t.copy(n,5),n}deserializeMessage(e){const t=e.slice(5);return this.handler.deserialize(t)}async sendUnaryMessage(e,t,r,n){if(!this.checkCancelled()){if(r||(r=new a.Metadata),e)return Object.prototype.hasOwnProperty.call(e,"metadata")||(e.metadata=r),void this.sendError(e);try{const e=this.serializeMessage(t);this.write(e),this.sendStatus({code:s.Status.OK,details:"OK",metadata:r})}catch(e){e.code=s.Status.INTERNAL,this.sendError(e)}}}sendStatus(e){var t;this.checkCancelled()||(u("Request to method "+(null===(t=this.handler)||void 0===t?void 0:t.path)+" ended with status code: "+s.Status[e.code]+" details: "+e.details),clearTimeout(this.deadlineTimer),this.wantTrailers||(this.wantTrailers=!0,this.stream.once("wantTrailers",()=>{const t=Object.assign({"grpc-status":e.code,"grpc-message":encodeURI(e.details)},e.metadata.toHttp2Headers());this.stream.sendTrailers(t)}),this.sendMetadata(),this.stream.end()))}sendError(e){if(this.checkCancelled())return;const t={code:s.Status.UNKNOWN,details:"message"in e?e.message:"Unknown Error",metadata:"metadata"in e&&void 0!==e.metadata?e.metadata:new a.Metadata};"code"in e&&"number"==typeof e.code&&Number.isInteger(e.code)&&(t.code=e.code,"details"in e&&"string"==typeof e.details&&(t.details=e.details)),this.sendStatus(t)}write(e){if(!this.checkCancelled()){if(!(-1!==this.maxSendMessageSize&&e.length>this.maxSendMessageSize))return this.sendMetadata(),this.stream.write(e);this.sendError({code:s.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${e.length} vs. ${this.maxSendMessageSize})`})}}resume(){this.stream.resume()}setupSurfaceCall(e){this.once("cancelled",t=>{e.cancelled=!0,e.emit("cancelled",t)})}setupReadable(e){const t=new l.StreamDecoder;this.stream.on("data",async r=>{const n=t.write(r);for(const t of n){if(-1!==this.maxReceiveMessageSize&&t.length>this.maxReceiveMessageSize)return void this.sendError({code:s.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${t.length} vs. ${this.maxReceiveMessageSize})`});this.pushOrBufferMessage(e,t)}}),this.stream.once("end",()=>{this.pushOrBufferMessage(e,null)})}consumeUnpushedMessages(e){for(this.canPush=!0;this.messagesToPush.length>0;){const t=this.messagesToPush.shift(),r=e.push(t);if(null===t||!1===r){this.canPush=!1;break}}return this.canPush}pushOrBufferMessage(e,t){this.isPushPending?this.bufferedMessages.push(t):this.pushMessage(e,t)}async pushMessage(e,t){if(null!==t){this.isPushPending=!0;try{const r=await this.deserializeMessage(t);this.canPush?e.push(r)||(this.canPush=!1,this.stream.pause()):this.messagesToPush.push(r)}catch(t){this.bufferedMessages.length=0,"code"in t&&"number"==typeof t.code&&Number.isInteger(t.code)&&t.code>=s.Status.OK&&t.code<=s.Status.UNAUTHENTICATED||(t.code=s.Status.INTERNAL),e.emit("error",t)}this.isPushPending=!1,this.bufferedMessages.length>0&&this.pushMessage(e,this.bufferedMessages.shift())}else this.canPush?e.push(null):this.messagesToPush.push(null)}getPeer(){const e=this.stream.session.socket;return e.remoteAddress?e.remotePort?`${e.remoteAddress}:${e.remotePort}`:e.remoteAddress:"unknown"}getDeadline(){return this.deadline}}function T(e){const t=new Error("Deadline exceeded");t.code=s.Status.DEADLINE_EXCEEDED,e.sendError(t),e.cancelled=!0,e.emit("cancelled","deadline")}t.Http2ServerCallStream=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServerCredentials=void 0;const n=r(109);class o{static createInsecure(){return new i}static createSsl(e,t,r=!1){if(null!==e&&!Buffer.isBuffer(e))throw new TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(t))throw new TypeError("keyCertPairs must be an array");if("boolean"!=typeof r)throw new TypeError("checkClientCertificate must be a boolean");const o=[],i=[];for(let e=0;e<t.length;e++){const r=t[e];if(null===r||"object"!=typeof r)throw new TypeError(`keyCertPair[${e}] must be an object`);if(!Buffer.isBuffer(r.private_key))throw new TypeError(`keyCertPair[${e}].private_key must be a Buffer`);if(!Buffer.isBuffer(r.cert_chain))throw new TypeError(`keyCertPair[${e}].cert_chain must be a Buffer`);o.push(r.cert_chain),i.push(r.private_key)}return new s({ca:e||n.getDefaultRootsData()||void 0,cert:o,key:i,requestCert:r,ciphers:n.CIPHER_SUITES})}}t.ServerCredentials=o;class i extends o{_isSecure(){return!1}_getSettings(){return null}}class s extends o{constructor(e){super(),this.options=e}_isSecure(){return!0}_getSettings(){return this.options}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatusBuilder=void 0;t.StatusBuilder=class{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(e){return this.code=e,this}withDetails(e){return this.details=e,this}withMetadata(e){return this.metadata=e,this}build(){const e={};return null!==this.code&&(e.code=this.code),null!==this.details&&(e.details=this.details),null!==this.metadata&&(e.metadata=this.metadata),e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8);Object.defineProperty(t,"trace",{enumerable:!0,get:function(){return n.trace}});var o=r(19);Object.defineProperty(t,"registerResolver",{enumerable:!0,get:function(){return o.registerResolver}});var i=r(15);Object.defineProperty(t,"uriToString",{enumerable:!0,get:function(){return i.uriToString}});var s=r(76);Object.defineProperty(t,"BackoffTimeout",{enumerable:!0,get:function(){return s.BackoffTimeout}});var a=r(32);Object.defineProperty(t,"registerLoadBalancerType",{enumerable:!0,get:function(){return a.registerLoadBalancerType}}),Object.defineProperty(t,"getFirstUsableConfig",{enumerable:!0,get:function(){return a.getFirstUsableConfig}}),Object.defineProperty(t,"validateLoadBalancingConfig",{enumerable:!0,get:function(){return a.validateLoadBalancingConfig}});var l=r(40);Object.defineProperty(t,"subchannelAddressToString",{enumerable:!0,get:function(){return l.subchannelAddressToString}});var c=r(113);Object.defineProperty(t,"ChildLoadBalancerHandler",{enumerable:!0,get:function(){return c.ChildLoadBalancerHandler}});var u=r(49);Object.defineProperty(t,"UnavailablePicker",{enumerable:!0,get:function(){return u.UnavailablePicker}}),Object.defineProperty(t,"QueuePicker",{enumerable:!0,get:function(){return u.QueuePicker}}),Object.defineProperty(t,"PickResultType",{enumerable:!0,get:function(){return u.PickResultType}});var d=r(50);Object.defineProperty(t,"BaseFilter",{enumerable:!0,get:function(){return d.BaseFilter}});var g=r(74);Object.defineProperty(t,"FilterStackFactory",{enumerable:!0,get:function(){return g.FilterStackFactory}})},function(module,exports){var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(e,t,r){e instanceof String&&(e=String(e));for(var n=e.length,o=0;o<n;o++){var i=e[o];if(t.call(r,i,o,e))return{i:o,v:i}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){e!=Array.prototype&&e!=Object.prototype&&(e[t]=r.value)},$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global&&null!=global?global:e},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(e,t,r,n){if(t){for(r=$jscomp.global,e=e.split("."),n=0;n<e.length-1;n++){var o=e[n];o in r||(r[o]={}),r=r[o]}(t=t(n=r[e=e[e.length-1]]))!=n&&null!=t&&$jscomp.defineProperty(r,e,{configurable:!0,writable:!0,value:t})}},$jscomp.polyfill("Array.prototype.findIndex",(function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).i}}),"es6","es3"),$jscomp.checkStringArgs=function(e,t,r){if(null==e)throw new TypeError("The 'this' value for String.prototype."+r+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+r+" must not be a regular expression");return e+""},$jscomp.polyfill("String.prototype.endsWith",(function(e){return e||function(e,t){var r=$jscomp.checkStringArgs(this,e,"endsWith");e+="",void 0===t&&(t=r.length),t=Math.max(0,Math.min(0|t,r.length));for(var n=e.length;0<n&&0<t;)if(r[--t]!=e[--n])return!1;return 0>=n}}),"es6","es3"),$jscomp.polyfill("Array.prototype.find",(function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).v}}),"es6","es3"),$jscomp.polyfill("String.prototype.startsWith",(function(e){return e||function(e,t){var r=$jscomp.checkStringArgs(this,e,"startsWith");e+="";var n=r.length,o=e.length;t=Math.max(0,Math.min(0|t,r.length));for(var i=0;i<o&&t<n;)if(r[t++]!=e[i++])return!1;return i>=o}}),"es6","es3"),$jscomp.polyfill("String.prototype.repeat",(function(e){return e||function(e){var t=$jscomp.checkStringArgs(this,null,"repeat");if(0>e||1342177279<e)throw new RangeError("Invalid count value");e|=0;for(var r="";e;)1&e&&(r+=t),(e>>>=1)&&(t+=t);return r}}),"es6","es3");var COMPILED=!0,goog=goog||{};goog.global=this||self,goog.isDef=function(e){return void 0!==e},goog.isString=function(e){return"string"==typeof e},goog.isBoolean=function(e){return"boolean"==typeof e},goog.isNumber=function(e){return"number"==typeof e},goog.exportPath_=function(e,t,r){e=e.split("."),r=r||goog.global,e[0]in r||void 0===r.execScript||r.execScript("var "+e[0]);for(var n;e.length&&(n=e.shift());)!e.length&&goog.isDef(t)?r[n]=t:r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}},goog.define=function(e,t){if(!COMPILED){var r=goog.global.CLOSURE_UNCOMPILED_DEFINES,n=goog.global.CLOSURE_DEFINES;r&&void 0===r.nodeType&&Object.prototype.hasOwnProperty.call(r,e)?t=r[e]:n&&void 0===n.nodeType&&Object.prototype.hasOwnProperty.call(n,e)&&(t=n[e])}return t},goog.FEATURESET_YEAR=2012,goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(e){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");if(!COMPILED&&goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');goog.constructNamespace_(e)},goog.constructNamespace_=function(e,t){if(!COMPILED){delete goog.implicitNamespaces_[e];for(var r=e;(r=r.substring(0,r.lastIndexOf(".")))&&!goog.getObjectByName(r);)goog.implicitNamespaces_[r]=!0}goog.exportPath_(e,t)},goog.getScriptNonce=function(e){return e&&e!=goog.global?goog.getScriptNonce_(e.document):(null===goog.cspNonce_&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document)),goog.cspNonce_)},goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/,goog.cspNonce_=null,goog.getScriptNonce_=function(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(e)?e:""},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(e){if(!goog.isString(e)||!e||-1==e.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+e+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=e,!COMPILED){if(goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');delete goog.implicitNamespaces_[e]}},goog.module.get=function(e){return goog.module.getInternal_(e)},goog.module.getInternal_=function(e){if(!COMPILED){if(e in goog.loadedModules_)return goog.loadedModules_[e].exports;if(!goog.implicitNamespaces_[e])return null!=(e=goog.getObjectByName(e))?e:null}return null},goog.ModuleType={ES6:"es6",GOOG:"goog"},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()},goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG},goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var e=goog.global.$jscomp;return!!e&&("function"==typeof e.getCurrentModulePath&&!!e.getCurrentModulePath())},goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInGoogModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.declareModuleId=function(e){if(!COMPILED){if(!goog.isInEs6ModuleLoader_())throw Error("goog.declareModuleId may only be called from within an ES6 module");if(goog.moduleLoaderState_&&goog.moduleLoaderState_.moduleName)throw Error("goog.declareModuleId may only be called once per module.");if(e in goog.loadedModules_)throw Error('Module with namespace "'+e+'" already exists.')}if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=e;else{var t=goog.global.$jscomp;if(!t||"function"!=typeof t.getCurrentModulePath)throw Error('Module with namespace "'+e+'" has been loaded incorrectly.');t=t.require(t.getCurrentModulePath()),goog.loadedModules_[e]={exports:t,type:goog.ModuleType.ES6,moduleId:e}}},goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},goog.forwardDeclare=function(e){},COMPILED||(goog.isProvided_=function(e){return e in goog.loadedModules_||!goog.implicitNamespaces_[e]&&goog.isDefAndNotNull(goog.getObjectByName(e))},goog.implicitNamespaces_={"goog.module":!0}),goog.getObjectByName=function(e,t){e=e.split("."),t=t||goog.global;for(var r=0;r<e.length;r++)if(t=t[e[r]],!goog.isDefAndNotNull(t))return null;return t},goog.globalize=function(e,t){for(var r in t=t||goog.global,e)t[r]=e[r]},goog.addDependency=function(e,t,r,n){!COMPILED&&goog.DEPENDENCIES_ENABLED&&goog.debugLoader_.addDependency(e,t,r,n)},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(e){goog.global.console&&goog.global.console.error(e)},goog.require=function(e){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.debugLoader_.requested(e),goog.isProvided_(e)){if(goog.isInModuleLoader_())return goog.module.getInternal_(e)}else if(goog.ENABLE_DEBUG_LOADER){var t=goog.moduleLoaderState_;goog.moduleLoaderState_=null;try{goog.debugLoader_.load_(e)}finally{goog.moduleLoaderState_=t}}return null}},goog.requireType=function(e){return{}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.instance_=void 0,e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.TRANSPILE="detect",goog.ASSUME_ES_MODULES_TRANSPILED=!1,goog.TRANSPILE_TO_LANGUAGE="",goog.TRANSPILER="transpile.js",goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(null==goog.hasBadLetScoping){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(e){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(e){return"(function(){"+e+"\n;})();\n"},goog.loadModule=function(e){var t=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG},goog.isFunction(e))var r=e.call(void 0,{});else{if(!goog.isString(e))throw Error("Invalid module definition");goog.useSafari10Workaround()&&(e=goog.workaroundSafari10EvalBug(e)),r=goog.loadModuleFromSource_.call(void 0,e)}var n=goog.moduleLoaderState_.moduleName;if(!goog.isString(n)||!n)throw Error('Invalid module name "'+n+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(n,r):goog.SEAL_MODULE_EXPORTS&&Object.seal&&"object"==typeof r&&null!=r&&Object.seal(r),goog.loadedModules_[n]={exports:r,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName}}finally{goog.moduleLoaderState_=t}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(e){e=e.split("/");for(var t=0;t<e.length;)"."==e[t]?e.splice(t,1):t&&".."==e[t]&&e[t-1]&&".."!=e[t-1]?e.splice(--t,2):t++;return e.join("/")},goog.loadFileSync_=function(e){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(e);try{var t=new goog.global.XMLHttpRequest;return t.open("get",e,!1),t.send(),0==t.status||200==t.status?t.responseText:null}catch(e){return null}},goog.transpile_=function(e,t,r){var n=goog.global.$jscomp;n||(goog.global.$jscomp=n={});var o=n.transpile;if(!o){var i=goog.basePath+goog.TRANSPILER,s=goog.loadFileSync_(i);if(s){if(function(){(0,eval)(s+"\n//# sourceURL="+i)}.call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,o=(n=goog.global.$jscomp).transpile}}return o||(o=n.transpile=function(e,t){return goog.logToConsole_(t+" requires transpilation but no transpiler was found."),e}),o(e,t,r)},goog.typeOf=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var r=Object.prototype.toString.call(e);if("[object Window]"==r)return"object";if("[object Array]"==r||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==r||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t},goog.isNull=function(e){return null===e},goog.isDefAndNotNull=function(e){return null!=e},goog.isArray=function(e){return"array"==goog.typeOf(e)},goog.isArrayLike=function(e){var t=goog.typeOf(e);return"array"==t||"object"==t&&"number"==typeof e.length},goog.isDateLike=function(e){return goog.isObject(e)&&"function"==typeof e.getFullYear},goog.isFunction=function(e){return"function"==goog.typeOf(e)},goog.isObject=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},goog.getUid=function(e){return e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]},goog.removeUid=function(e){null!==e&&"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch(e){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if("function"==typeof e.clone)return e.clone();for(var r in t="array"==t?[]:{},e)t[r]=goog.cloneObject(e[r]);return t}return e},goog.bindNative_=function(e,t,r){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(e,t,r){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),e.apply(t,r)}}return function(){return e.apply(t,arguments)}},goog.bind=function(e,t,r){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=r.slice();return t.push.apply(t,arguments),e.apply(this,t)}},goog.mixin=function(e,t){for(var r in t)e[r]=t[r]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(e){if(goog.global.execScript)goog.global.execScript(e,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_){try{goog.global.eval("var _evalTest_ = 1;")}catch(e){}if(void 0!==goog.global._evalTest_){try{delete goog.global._evalTest_}catch(e){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(e);else{var t=goog.global.document,r=t.createElement("SCRIPT");r.type="text/javascript",r.defer=!1,r.appendChild(t.createTextNode(e)),t.head.appendChild(r),t.head.removeChild(r)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(e,t){if("."==String(e).charAt(0))throw Error('className passed in goog.getCssName must not start with ".". You passed: '+e);var r=function(e){return goog.cssNameMapping_[e]||e},n=function(e){e=e.split("-");for(var t=[],n=0;n<e.length;n++)t.push(r(e[n]));return t.join("-")};return n=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?r:n:function(e){return e},e=t?e+"-"+n(t):n(e),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(e):e},goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=t},!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(e,t,r){return r&&r.html&&(e=e.replace(/</g,"&lt;")),t&&(e=e.replace(/\{\$([^}]+)}/g,(function(e,r){return null!=t&&r in t?t[r]:e}))),e},goog.getMsgWithFallback=function(e,t){return e},goog.exportSymbol=function(e,t,r){goog.exportPath_(e,t,r)},goog.exportProperty=function(e,t,r){e[t]=r},goog.inherits=function(e,t){function r(){}r.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.base=function(e,r,n){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[r].apply(e,o)}},goog.base=function(e,t,r){var n=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!n)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(void 0!==n.superClass_){for(var o=Array(arguments.length-1),i=1;i<arguments.length;i++)o[i-1]=arguments[i];return n.superClass_.constructor.apply(e,o)}if("string"!=typeof t&&"symbol"!=typeof t)throw Error("method names provided to goog.base must be a string or a symbol");for(o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];i=!1;for(var s=e.constructor.prototype;s;s=Object.getPrototypeOf(s))if(s[t]===n)i=!0;else if(i)return s[t].apply(e,o);if(e[t]===n)return e.constructor.prototype[t].apply(e,o);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(e){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");e.call(goog.global)},COMPILED||(goog.global.COMPILED=COMPILED),goog.defineClass=function(e,t){var r=t.constructor,n=t.statics;return r&&r!=Object.prototype.constructor||(r=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),r=goog.defineClass.createSealingConstructor_(r,e),e&&goog.inherits(r,e),delete t.constructor,delete t.statics,goog.defineClass.applyProperties_(r.prototype,t),null!=n&&(n instanceof Function?n(r):goog.defineClass.applyProperties_(r,n)),r},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(e,t){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return e;var r=!goog.defineClass.isUnsealable_(t),n=function(){var t=e.apply(this,arguments)||this;return t[goog.UID_PROPERTY_]=t[goog.UID_PROPERTY_],this.constructor===n&&r&&Object.seal instanceof Function&&Object.seal(t),t};return n},goog.defineClass.isUnsealable_=function(e){return e&&e.prototype&&e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);for(var n=0;n<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;n++)r=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[n],Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},goog.tagUnsealableClass=function(e){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",!COMPILED&&goog.DEPENDENCIES_ENABLED&&(goog.inHtmlDocument_=function(){var e=goog.global.document;return null!=e&&"write"in e},goog.isDocumentLoading_=function(){var e=goog.global.document;return e.attachEvent?"complete"!=e.readyState:"loading"==e.readyState},goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH)&&goog.isString(goog.global.CLOSURE_BASE_PATH))goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_()){var e=goog.global.document,t=e.currentScript;for(t=(e=t?[t]:e.getElementsByTagName("SCRIPT")).length-1;0<=t;--t){var r=e[t].src,n=r.lastIndexOf("?");if(n=-1==n?r.length:n,"base.js"==r.substr(n-7,7)){goog.basePath=r.substr(0,n-7);break}}}},goog.findBasePath_(),goog.Transpiler=function(){this.requiresTranspilation_=null,this.transpilationTarget_=goog.TRANSPILE_TO_LANGUAGE},goog.Transpiler.prototype.createRequiresTranspilation_=function(){function a(t,r){e?d[t]=!0:r()?(c=t,d[t]=!1):e=d[t]=!0}function b(a){try{return!!eval(a)}catch(e){return!1}}var c="es3",d={es3:!1},e=!1,f=goog.global.navigator&&goog.global.navigator.userAgent?goog.global.navigator.userAgent:"";return a("es5",(function(){return b("[1,].length==1")})),a("es6",(function(){return!f.match(/Edge\/(\d+)(\.\d)*/i)&&b('(()=>{"use strict";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()')})),a("es7",(function(){return b("2 ** 2 == 4")})),a("es8",(function(){return b("async () => 1, true")})),a("es9",(function(){return b("({...rest} = {}), true")})),a("es_next",(function(){return!1})),{target:c,map:d}},goog.Transpiler.prototype.needsTranspile=function(e,t){if("always"==goog.TRANSPILE)return!0;if("never"==goog.TRANSPILE)return!1;if(!this.requiresTranspilation_){var r=this.createRequiresTranspilation_();this.requiresTranspilation_=r.map,this.transpilationTarget_=this.transpilationTarget_||r.target}if(e in this.requiresTranspilation_)return!!this.requiresTranspilation_[e]||!(!goog.inHtmlDocument_()||"es6"!=t||"noModule"in goog.global.document.createElement("script"));throw Error("Unknown language mode: "+e)},goog.Transpiler.prototype.transpile=function(e,t){return goog.transpile_(e,t,this.transpilationTarget_)},goog.transpiler_=new goog.Transpiler,goog.protectScriptTag_=function(e){return e.replace(/<\/(SCRIPT)/gi,"\\x3c/$1")},goog.DebugLoader_=function(){this.dependencies_={},this.idToPath_={},this.written_={},this.loadingDeps_=[],this.depsToLoad_=[],this.paused_=!1,this.factory_=new goog.DependencyFactory(goog.transpiler_),this.deferredCallbacks_={},this.deferredQueue_=[]},goog.DebugLoader_.prototype.bootstrap=function(e,t){function r(){n&&(goog.global.setTimeout(n,0),n=null)}var n=t;if(e.length){t=[];for(var o=0;o<e.length;o++){var i=this.getPathFromDeps_(e[o]);if(!i)throw Error("Unregonized namespace: "+e[o]);t.push(this.dependencies_[i])}i=goog.require;var s=0;for(o=0;o<e.length;o++)i(e[o]),t[o].onLoad((function(){++s==e.length&&r()}))}else r()},goog.DebugLoader_.prototype.loadClosureDeps=function(){this.depsToLoad_.push(this.factory_.createDependency(goog.normalizePath_(goog.basePath+"deps.js"),"deps.js",[],[],{},!1)),this.loadDeps_()},goog.DebugLoader_.prototype.requested=function(e,t){(e=this.getPathFromDeps_(e))&&(t||this.areDepsLoaded_(this.dependencies_[e].requires))&&(t=this.deferredCallbacks_[e])&&(delete this.deferredCallbacks_[e],t())},goog.DebugLoader_.prototype.setDependencyFactory=function(e){this.factory_=e},goog.DebugLoader_.prototype.load_=function(e){if(!this.getPathFromDeps_(e))throw e="goog.require could not find: "+e,goog.logToConsole_(e),Error(e);var t=this,r=[],n=function(e){var o=t.getPathFromDeps_(e);if(!o)throw Error("Bad dependency path or symbol: "+e);if(!t.written_[o]){for(t.written_[o]=!0,e=t.dependencies_[o],o=0;o<e.requires.length;o++)goog.isProvided_(e.requires[o])||n(e.requires[o]);r.push(e)}};n(e),e=!!this.depsToLoad_.length,this.depsToLoad_=this.depsToLoad_.concat(r),this.paused_||e||this.loadDeps_()},goog.DebugLoader_.prototype.loadDeps_=function(){for(var e=this,t=this.paused_;this.depsToLoad_.length&&!t;)!function(){var r=!1,n=e.depsToLoad_.shift(),o=!1;e.loading_(n);var i={pause:function(){if(r)throw Error("Cannot call pause after the call to load.");t=!0},resume:function(){r?e.resume_():t=!1},loaded:function(){if(o)throw Error("Double call to loaded.");o=!0,e.loaded_(n)},pending:function(){for(var t=[],r=0;r<e.loadingDeps_.length;r++)t.push(e.loadingDeps_[r]);return t},setModuleState:function(e){goog.moduleLoaderState_={type:e,moduleName:"",declareLegacyNamespace:!1}},registerEs6ModuleExports:function(e,t,r){r&&(goog.loadedModules_[r]={exports:t,type:goog.ModuleType.ES6,moduleId:r||""})},registerGoogModuleExports:function(e,t){goog.loadedModules_[e]={exports:t,type:goog.ModuleType.GOOG,moduleId:e}},clearModuleState:function(){goog.moduleLoaderState_=null},defer:function(t){if(r)throw Error("Cannot register with defer after the call to load.");e.defer_(n,t)},areDepsLoaded:function(){return e.areDepsLoaded_(n.requires)}};try{n.load(i)}finally{r=!0}}();t&&this.pause_()},goog.DebugLoader_.prototype.pause_=function(){this.paused_=!0},goog.DebugLoader_.prototype.resume_=function(){this.paused_&&(this.paused_=!1,this.loadDeps_())},goog.DebugLoader_.prototype.loading_=function(e){this.loadingDeps_.push(e)},goog.DebugLoader_.prototype.loaded_=function(e){for(var t=0;t<this.loadingDeps_.length;t++)if(this.loadingDeps_[t]==e){this.loadingDeps_.splice(t,1);break}for(t=0;t<this.deferredQueue_.length;t++)if(this.deferredQueue_[t]==e.path){this.deferredQueue_.splice(t,1);break}if(this.loadingDeps_.length==this.deferredQueue_.length&&!this.depsToLoad_.length)for(;this.deferredQueue_.length;)this.requested(this.deferredQueue_.shift(),!0);e.loaded()},goog.DebugLoader_.prototype.areDepsLoaded_=function(e){for(var t=0;t<e.length;t++){var r=this.getPathFromDeps_(e[t]);if(!r||!(r in this.deferredCallbacks_)&&!goog.isProvided_(e[t]))return!1}return!0},goog.DebugLoader_.prototype.getPathFromDeps_=function(e){return e in this.idToPath_?this.idToPath_[e]:e in this.dependencies_?e:null},goog.DebugLoader_.prototype.defer_=function(e,t){this.deferredCallbacks_[e.path]=t,this.deferredQueue_.push(e.path)},goog.LoadController=function(){},goog.LoadController.prototype.pause=function(){},goog.LoadController.prototype.resume=function(){},goog.LoadController.prototype.loaded=function(){},goog.LoadController.prototype.pending=function(){},goog.LoadController.prototype.registerEs6ModuleExports=function(e,t,r){},goog.LoadController.prototype.setModuleState=function(e){},goog.LoadController.prototype.clearModuleState=function(){},goog.LoadController.prototype.defer=function(e){},goog.LoadController.prototype.areDepsLoaded=function(){},goog.Dependency=function(e,t,r,n,o){this.path=e,this.relativePath=t,this.provides=r,this.requires=n,this.loadFlags=o,this.loaded_=!1,this.loadCallbacks_=[]},goog.Dependency.prototype.getPathName=function(){var e=this.path,t=e.indexOf("://");return 0<=t&&(0<=(t=(e=e.substring(t+3)).indexOf("/"))&&(e=e.substring(t+1))),e},goog.Dependency.prototype.onLoad=function(e){this.loaded_?e():this.loadCallbacks_.push(e)},goog.Dependency.prototype.loaded=function(){this.loaded_=!0;var e=this.loadCallbacks_;this.loadCallbacks_=[];for(var t=0;t<e.length;t++)e[t]()},goog.Dependency.defer_=!1,goog.Dependency.callbackMap_={},goog.Dependency.registerCallback_=function(e){var t=Math.random().toString(32);return goog.Dependency.callbackMap_[t]=e,t},goog.Dependency.unregisterCallback_=function(e){delete goog.Dependency.callbackMap_[e]},goog.Dependency.callback_=function(e,t){if(!(e in goog.Dependency.callbackMap_))throw Error("Callback key "+e+" does not exist (was base.js loaded more than once?).");for(var r=goog.Dependency.callbackMap_[e],n=[],o=1;o<arguments.length;o++)n.push(arguments[o]);r.apply(void 0,n)},goog.Dependency.prototype.load=function(e){if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?e.loaded():e.pause();else if(goog.inHtmlDocument_()){var t=goog.global.document;if("complete"==t.readyState&&!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING){if(/\bdeps.js$/.test(this.path))return void e.loaded();throw Error('Cannot write "'+this.path+'" after document load')}if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&goog.isDocumentLoading_()){var r=goog.Dependency.registerCallback_((function(t){goog.DebugLoader_.IS_OLD_IE_&&"complete"!=t.readyState||(goog.Dependency.unregisterCallback_(r),e.loaded())})),n=!goog.DebugLoader_.IS_OLD_IE_&&goog.getScriptNonce()?' nonce="'+goog.getScriptNonce()+'"':"";n='<script src="'+this.path+'" '+(goog.DebugLoader_.IS_OLD_IE_?"onreadystatechange":"onload")+"=\"goog.Dependency.callback_('"+r+'\', this)" type="text/javascript" '+(goog.Dependency.defer_?"defer":"")+n+"><\/script>",t.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(n):n)}else{var o=t.createElement("script");o.defer=goog.Dependency.defer_,o.async=!1,o.type="text/javascript",(n=goog.getScriptNonce())&&o.setAttribute("nonce",n),goog.DebugLoader_.IS_OLD_IE_?(e.pause(),o.onreadystatechange=function(){"loaded"!=o.readyState&&"complete"!=o.readyState||(e.loaded(),e.resume())}):o.onload=function(){o.onload=null,e.loaded()},o.src=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScriptURL(this.path):this.path,t.head.appendChild(o)}}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),"deps.js"==this.relativePath?(goog.logToConsole_("Consider setting CLOSURE_IMPORT_SCRIPT before loading base.js, or setting CLOSURE_NO_DEPS to true."),e.loaded()):e.pause()},goog.Es6ModuleDependency=function(e,t,r,n,o){goog.Dependency.call(this,e,t,r,n,o)},goog.inherits(goog.Es6ModuleDependency,goog.Dependency),goog.Es6ModuleDependency.prototype.load=function(e){if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?e.loaded():e.pause();else if(goog.inHtmlDocument_()){var t=goog.global.document,r=this;if(goog.isDocumentLoading_()){var n=function(e,r){e=r?'<script type="module" crossorigin>'+r+"<\/script>":'<script type="module" crossorigin src="'+e+'"><\/script>',t.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(e):e)};goog.Dependency.defer_=!0}else n=function(e,r){var n=t.createElement("script");n.defer=!0,n.async=!1,n.type="module",n.setAttribute("crossorigin",!0);var o=goog.getScriptNonce();o&&n.setAttribute("nonce",o),r?n.textContent=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScript(r):r:n.src=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScriptURL(e):e,t.head.appendChild(n)};var o=goog.Dependency.registerCallback_((function(){goog.Dependency.unregisterCallback_(o),e.setModuleState(goog.ModuleType.ES6)}));n(void 0,'goog.Dependency.callback_("'+o+'")'),n(this.path,void 0);var i=goog.Dependency.registerCallback_((function(t){goog.Dependency.unregisterCallback_(i),e.registerEs6ModuleExports(r.path,t,goog.moduleLoaderState_.moduleName)}));n(void 0,'import * as m from "'+this.path+'"; goog.Dependency.callback_("'+i+'", m)');var s=goog.Dependency.registerCallback_((function(){goog.Dependency.unregisterCallback_(s),e.clearModuleState(),e.loaded()}));n(void 0,'goog.Dependency.callback_("'+s+'")')}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),e.pause()},goog.TransformedDependency=function(e,t,r,n,o){goog.Dependency.call(this,e,t,r,n,o),this.contents_=null,this.lazyFetch_=!goog.inHtmlDocument_()||!("noModule"in goog.global.document.createElement("script"))},goog.inherits(goog.TransformedDependency,goog.Dependency),goog.TransformedDependency.prototype.load=function(e){function t(){n.contents_=goog.loadFileSync_(n.path),n.contents_&&(n.contents_=n.transform(n.contents_),n.contents_&&(n.contents_+="\n//# sourceURL="+n.path))}function r(){if(n.lazyFetch_&&t(),n.contents_){o&&e.setModuleState(goog.ModuleType.ES6);try{var r=n.contents_;if(n.contents_=null,goog.globalEval(r),o)var i=goog.moduleLoaderState_.moduleName}finally{o&&e.clearModuleState()}o&&goog.global.$jscomp.require.ensure([n.getPathName()],(function(){e.registerEs6ModuleExports(n.path,goog.global.$jscomp.require(n.getPathName()),i)})),e.loaded()}}var n=this;if(goog.global.CLOSURE_IMPORT_SCRIPT)t(),this.contents_&&goog.global.CLOSURE_IMPORT_SCRIPT("",this.contents_)?(this.contents_=null,e.loaded()):e.pause();else{var o=this.loadFlags.module==goog.ModuleType.ES6;this.lazyFetch_||t();var i=1<e.pending().length,s=i&&goog.DebugLoader_.IS_OLD_IE_;if(i=goog.Dependency.defer_&&(i||goog.isDocumentLoading_()),s||i)e.defer((function(){r()}));else{var a=goog.global.document;if(s=goog.inHtmlDocument_()&&"ActiveXObject"in goog.global,o&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()&&!s){goog.Dependency.defer_=!0,e.pause();var l=a.onreadystatechange;a.onreadystatechange=function(){"interactive"==a.readyState&&(a.onreadystatechange=l,r(),e.resume()),goog.isFunction(l)&&l.apply(void 0,arguments)}}else!goog.DebugLoader_.IS_OLD_IE_&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()?function(){var e=goog.global.document,t=goog.Dependency.registerCallback_((function(){goog.Dependency.unregisterCallback_(t),r()})),n='<script type="text/javascript">'+goog.protectScriptTag_('goog.Dependency.callback_("'+t+'");')+"<\/script>";e.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(n):n)}():r()}}},goog.TransformedDependency.prototype.transform=function(e){},goog.TranspiledDependency=function(e,t,r,n,o,i){goog.TransformedDependency.call(this,e,t,r,n,o),this.transpiler=i},goog.inherits(goog.TranspiledDependency,goog.TransformedDependency),goog.TranspiledDependency.prototype.transform=function(e){return this.transpiler.transpile(e,this.getPathName())},goog.PreTranspiledEs6ModuleDependency=function(e,t,r,n,o){goog.TransformedDependency.call(this,e,t,r,n,o)},goog.inherits(goog.PreTranspiledEs6ModuleDependency,goog.TransformedDependency),goog.PreTranspiledEs6ModuleDependency.prototype.transform=function(e){return e},goog.GoogModuleDependency=function(e,t,r,n,o,i,s){goog.TransformedDependency.call(this,e,t,r,n,o),this.needsTranspile_=i,this.transpiler_=s},goog.inherits(goog.GoogModuleDependency,goog.TransformedDependency),goog.GoogModuleDependency.prototype.transform=function(e){return this.needsTranspile_&&(e=this.transpiler_.transpile(e,this.getPathName())),goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(e+"\n//# sourceURL="+this.path+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+e+"\n;return exports});\n//# sourceURL="+this.path+"\n"},goog.DebugLoader_.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.DebugLoader_.prototype.addDependency=function(e,t,r,n){t=t||[],e=e.replace(/\\/g,"/");var o=goog.normalizePath_(goog.basePath+e);for(n&&"boolean"!=typeof n||(n=n?{module:goog.ModuleType.GOOG}:{}),r=this.factory_.createDependency(o,e,t,r,n,goog.transpiler_.needsTranspile(n.lang||"es3",n.module)),this.dependencies_[o]=r,r=0;r<t.length;r++)this.idToPath_[t[r]]=o;this.idToPath_[e]=o},goog.DependencyFactory=function(e){this.transpiler=e},goog.DependencyFactory.prototype.createDependency=function(e,t,r,n,o,i){return o.module==goog.ModuleType.GOOG?new goog.GoogModuleDependency(e,t,r,n,o,i,this.transpiler):i?new goog.TranspiledDependency(e,t,r,n,o,this.transpiler):o.module==goog.ModuleType.ES6?"never"==goog.TRANSPILE&&goog.ASSUME_ES_MODULES_TRANSPILED?new goog.PreTranspiledEs6ModuleDependency(e,t,r,n,o):new goog.Es6ModuleDependency(e,t,r,n,o):new goog.Dependency(e,t,r,n,o)},goog.debugLoader_=new goog.DebugLoader_,goog.loadClosureDeps=function(){goog.debugLoader_.loadClosureDeps()},goog.setDependencyFactory=function(e){goog.debugLoader_.setDependencyFactory(e)},goog.global.CLOSURE_NO_DEPS||goog.debugLoader_.loadClosureDeps(),goog.bootstrap=function(e,t){goog.debugLoader_.bootstrap(e,t)}),goog.TRUSTED_TYPES_POLICY_NAME="",goog.identity_=function(e){return e},goog.createTrustedTypesPolicy=function(e){var t=null;if("undefined"==typeof TrustedTypes||!TrustedTypes.createPolicy)return t;try{t=TrustedTypes.createPolicy(e,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_,createURL:goog.identity_})}catch(e){goog.logToConsole_(e.message)}return t},goog.TRUSTED_TYPES_POLICY_=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#base"):null,goog.object={},goog.object.is=function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t},goog.object.forEach=function(e,t,r){for(var n in e)t.call(r,e[n],n,e)},goog.object.filter=function(e,t,r){var n,o={};for(n in e)t.call(r,e[n],n,e)&&(o[n]=e[n]);return o},goog.object.map=function(e,t,r){var n,o={};for(n in e)o[n]=t.call(r,e[n],n,e);return o},goog.object.some=function(e,t,r){for(var n in e)if(t.call(r,e[n],n,e))return!0;return!1},goog.object.every=function(e,t,r){for(var n in e)if(!t.call(r,e[n],n,e))return!1;return!0},goog.object.getCount=function(e){var t,r=0;for(t in e)r++;return r},goog.object.getAnyKey=function(e){for(var t in e)return t},goog.object.getAnyValue=function(e){for(var t in e)return e[t]},goog.object.contains=function(e,t){return goog.object.containsValue(e,t)},goog.object.getValues=function(e){var t,r=[],n=0;for(t in e)r[n++]=e[t];return r},goog.object.getKeys=function(e){var t,r=[],n=0;for(t in e)r[n++]=t;return r},goog.object.getValueByKeys=function(e,t){var r=goog.isArrayLike(t),n=r?t:arguments;for(r=r?0:1;r<n.length;r++){if(null==e)return;e=e[n[r]]}return e},goog.object.containsKey=function(e,t){return null!==e&&t in e},goog.object.containsValue=function(e,t){for(var r in e)if(e[r]==t)return!0;return!1},goog.object.findKey=function(e,t,r){for(var n in e)if(t.call(r,e[n],n,e))return n},goog.object.findValue=function(e,t,r){return(t=goog.object.findKey(e,t,r))&&e[t]},goog.object.isEmpty=function(e){for(var t in e)return!1;return!0},goog.object.clear=function(e){for(var t in e)delete e[t]},goog.object.remove=function(e,t){var r;return(r=t in e)&&delete e[t],r},goog.object.add=function(e,t,r){if(null!==e&&t in e)throw Error('The object already contains the key "'+t+'"');goog.object.set(e,t,r)},goog.object.get=function(e,t,r){return null!==e&&t in e?e[t]:r},goog.object.set=function(e,t,r){e[t]=r},goog.object.setIfUndefined=function(e,t,r){return t in e?e[t]:e[t]=r},goog.object.setWithReturnValueIfNotSet=function(e,t,r){return t in e?e[t]:(r=r(),e[t]=r)},goog.object.equals=function(e,t){for(var r in e)if(!(r in t)||e[r]!==t[r])return!1;for(var n in t)if(!(n in e))return!1;return!0},goog.object.clone=function(e){var t,r={};for(t in e)r[t]=e[t];return r},goog.object.unsafeClone=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if(goog.isFunction(e.clone))return e.clone();for(var r in t="array"==t?[]:{},e)t[r]=goog.object.unsafeClone(e[r]);return t}return e},goog.object.transpose=function(e){var t,r={};for(t in e)r[e[t]]=t;return r},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(e,t){for(var r,n,o=1;o<arguments.length;o++){for(r in n=arguments[o])e[r]=n[r];for(var i=0;i<goog.object.PROTOTYPE_FIELDS_.length;i++)r=goog.object.PROTOTYPE_FIELDS_[i],Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}},goog.object.create=function(e){var t=arguments.length;if(1==t&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(t%2)throw Error("Uneven number of arguments");for(var r={},n=0;n<t;n+=2)r[arguments[n]]=arguments[n+1];return r},goog.object.createSet=function(e){var t=arguments.length;if(1==t&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var r={},n=0;n<t;n++)r[arguments[n]]=!0;return r},goog.object.createImmutableView=function(e){var t=e;return Object.isFrozen&&!Object.isFrozen(e)&&(t=Object.create(e),Object.freeze(t)),t},goog.object.isImmutableView=function(e){return!!Object.isFrozen&&Object.isFrozen(e)},goog.object.getAllPropertyNames=function(e,t,r){if(!e)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(e);for(var n={};e&&(e!==Object.prototype||t)&&(e!==Function.prototype||r);){for(var o=Object.getOwnPropertyNames(e),i=0;i<o.length;i++)n[o[i]]=!0;e=Object.getPrototypeOf(e)}return goog.object.getKeys(n)},goog.object.getSuperClass=function(e){return(e=Object.getPrototypeOf(e.prototype))&&e.constructor},goog.debug={},goog.debug.Error=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(e,t){goog.debug.Error.call(this,goog.asserts.subs_(e,t)),this.messagePattern=e},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(e){throw e},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.subs_=function(e,t){for(var r="",n=(e=e.split("%s")).length-1,o=0;o<n;o++)r+=e[o]+(o<t.length?t[o]:"%s");return r+e[n]},goog.asserts.doAssertFailure_=function(e,t,r,n){var o="Assertion failed";if(r){o+=": "+r;var i=n}else e&&(o+=": "+e,i=t);e=new goog.asserts.AssertionError(""+o,i||[]),goog.asserts.errorHandler_(e)},goog.asserts.setErrorHandler=function(e){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=e)},goog.asserts.assert=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!e&&goog.asserts.doAssertFailure_("",null,t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertExists=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&null==e&&goog.asserts.doAssertFailure_("Expected to exist: %s.",[e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.fail=function(e,t){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(e)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertString=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(e)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertFunction=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(e)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObject=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(e)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertArray=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(e)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertBoolean=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(e)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertElement=function(e,t,r){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertInstanceof=function(e,t,r,n){return!goog.asserts.ENABLE_ASSERTS||e instanceof t||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(t),goog.asserts.getType_(e)],r,Array.prototype.slice.call(arguments,3)),e},goog.asserts.assertFinite=function(e,t,r){return!goog.asserts.ENABLE_ASSERTS||"number"==typeof e&&isFinite(e)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var e in Object.prototype)goog.asserts.fail(e+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":typeof e};var jspb={BinaryConstants:{},ConstBinaryMessage:function(){},BinaryMessage:function(){}};jspb.BinaryConstants.FieldType={INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31},jspb.BinaryConstants.WireType={INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5},jspb.BinaryConstants.FieldTypeToWireType=function(e){var t=jspb.BinaryConstants.FieldType,r=jspb.BinaryConstants.WireType;switch(e){case t.INT32:case t.INT64:case t.UINT32:case t.UINT64:case t.SINT32:case t.SINT64:case t.BOOL:case t.ENUM:case t.VHASH64:return r.VARINT;case t.DOUBLE:case t.FIXED64:case t.SFIXED64:case t.FHASH64:return r.FIXED64;case t.STRING:case t.MESSAGE:case t.BYTES:return r.DELIMITED;case t.FLOAT:case t.FIXED32:case t.SFIXED32:return r.FIXED32;default:return r.INVALID}},jspb.BinaryConstants.INVALID_FIELD_NUMBER=-1,jspb.BinaryConstants.FLOAT32_EPS=1401298464324817e-60,jspb.BinaryConstants.FLOAT32_MIN=11754943508222875e-54,jspb.BinaryConstants.FLOAT32_MAX=34028234663852886e22,jspb.BinaryConstants.FLOAT64_EPS=5e-324,jspb.BinaryConstants.FLOAT64_MIN=22250738585072014e-324,jspb.BinaryConstants.FLOAT64_MAX=17976931348623157e292,jspb.BinaryConstants.TWO_TO_20=1048576,jspb.BinaryConstants.TWO_TO_23=8388608,jspb.BinaryConstants.TWO_TO_31=2147483648,jspb.BinaryConstants.TWO_TO_32=4294967296,jspb.BinaryConstants.TWO_TO_52=4503599627370496,jspb.BinaryConstants.TWO_TO_63=0x8000000000000000,jspb.BinaryConstants.TWO_TO_64=0x10000000000000000,jspb.BinaryConstants.ZERO_HASH="\0\0\0\0\0\0\0\0",goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=2012<goog.FEATURESET_YEAR,goog.array.peek=function(e){return e[e.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.indexOf.call(e,t,r)}:function(e,t,r){if(r=null==r?0:0>r?Math.max(0,e.length+r):r,goog.isString(e))return goog.isString(t)&&1==t.length?e.indexOf(t,r):-1;for(;r<e.length;r++)if(r in e&&e[r]===t)return r;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.lastIndexOf.call(e,t,null==r?e.length-1:r)}:function(e,t,r){if(0>(r=null==r?e.length-1:r)&&(r=Math.max(0,e.length+r)),goog.isString(e))return goog.isString(t)&&1==t.length?e.lastIndexOf(t,r):-1;for(;0<=r;r--)if(r in e&&e[r]===t)return r;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(e,t,r){goog.asserts.assert(null!=e.length),Array.prototype.forEach.call(e,t,r)}:function(e,t,r){for(var n=e.length,o=goog.isString(e)?e.split(""):e,i=0;i<n;i++)i in o&&t.call(r,o[i],i,e)},goog.array.forEachRight=function(e,t,r){var n=e.length,o=goog.isString(e)?e.split(""):e;for(--n;0<=n;--n)n in o&&t.call(r,o[n],n,e)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.filter.call(e,t,r)}:function(e,t,r){for(var n=e.length,o=[],i=0,s=goog.isString(e)?e.split(""):e,a=0;a<n;a++)if(a in s){var l=s[a];t.call(r,l,a,e)&&(o[i++]=l)}return o},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.map.call(e,t,r)}:function(e,t,r){for(var n=e.length,o=Array(n),i=goog.isString(e)?e.split(""):e,s=0;s<n;s++)s in i&&(o[s]=t.call(r,i[s],s,e));return o},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(e,t,r,n){return goog.asserts.assert(null!=e.length),n&&(t=goog.bind(t,n)),Array.prototype.reduce.call(e,t,r)}:function(e,t,r,n){var o=r;return goog.array.forEach(e,(function(r,i){o=t.call(n,o,r,i,e)})),o},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(e,t,r,n){return goog.asserts.assert(null!=e.length),goog.asserts.assert(null!=t),n&&(t=goog.bind(t,n)),Array.prototype.reduceRight.call(e,t,r)}:function(e,t,r,n){var o=r;return goog.array.forEachRight(e,(function(r,i){o=t.call(n,o,r,i,e)})),o},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.some.call(e,t,r)}:function(e,t,r){for(var n=e.length,o=goog.isString(e)?e.split(""):e,i=0;i<n;i++)if(i in o&&t.call(r,o[i],i,e))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.every.call(e,t,r)}:function(e,t,r){for(var n=e.length,o=goog.isString(e)?e.split(""):e,i=0;i<n;i++)if(i in o&&!t.call(r,o[i],i,e))return!1;return!0},goog.array.count=function(e,t,r){var n=0;return goog.array.forEach(e,(function(e,o,i){t.call(r,e,o,i)&&++n}),r),n},goog.array.find=function(e,t,r){return 0>(t=goog.array.findIndex(e,t,r))?null:goog.isString(e)?e.charAt(t):e[t]},goog.array.findIndex=function(e,t,r){for(var n=e.length,o=goog.isString(e)?e.split(""):e,i=0;i<n;i++)if(i in o&&t.call(r,o[i],i,e))return i;return-1},goog.array.findRight=function(e,t,r){return 0>(t=goog.array.findIndexRight(e,t,r))?null:goog.isString(e)?e.charAt(t):e[t]},goog.array.findIndexRight=function(e,t,r){var n=e.length,o=goog.isString(e)?e.split(""):e;for(--n;0<=n;n--)if(n in o&&t.call(r,o[n],n,e))return n;return-1},goog.array.contains=function(e,t){return 0<=goog.array.indexOf(e,t)},goog.array.isEmpty=function(e){return 0==e.length},goog.array.clear=function(e){if(!goog.isArray(e))for(var t=e.length-1;0<=t;t--)delete e[t];e.length=0},goog.array.insert=function(e,t){goog.array.contains(e,t)||e.push(t)},goog.array.insertAt=function(e,t,r){goog.array.splice(e,r,0,t)},goog.array.insertArrayAt=function(e,t,r){goog.partial(goog.array.splice,e,r,0).apply(null,t)},goog.array.insertBefore=function(e,t,r){var n;2==arguments.length||0>(n=goog.array.indexOf(e,r))?e.push(t):goog.array.insertAt(e,t,n)},goog.array.remove=function(e,t){var r;return(r=0<=(t=goog.array.indexOf(e,t)))&&goog.array.removeAt(e,t),r},goog.array.removeLast=function(e,t){return 0<=(t=goog.array.lastIndexOf(e,t))&&(goog.array.removeAt(e,t),!0)},goog.array.removeAt=function(e,t){return goog.asserts.assert(null!=e.length),1==Array.prototype.splice.call(e,t,1).length},goog.array.removeIf=function(e,t,r){return 0<=(t=goog.array.findIndex(e,t,r))&&(goog.array.removeAt(e,t),!0)},goog.array.removeAllIf=function(e,t,r){var n=0;return goog.array.forEachRight(e,(function(o,i){t.call(r,o,i,e)&&goog.array.removeAt(e,i)&&n++})),n},goog.array.concat=function(e){return Array.prototype.concat.apply([],arguments)},goog.array.join=function(e){return Array.prototype.concat.apply([],arguments)},goog.array.toArray=function(e){var t=e.length;if(0<t){for(var r=Array(t),n=0;n<t;n++)r[n]=e[n];return r}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(e,t){for(var r=1;r<arguments.length;r++){var n=arguments[r];if(goog.isArrayLike(n)){var o=e.length||0,i=n.length||0;e.length=o+i;for(var s=0;s<i;s++)e[o+s]=n[s]}else e.push(n)}},goog.array.splice=function(e,t,r,n){return goog.asserts.assert(null!=e.length),Array.prototype.splice.apply(e,goog.array.slice(arguments,1))},goog.array.slice=function(e,t,r){return goog.asserts.assert(null!=e.length),2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,r)},goog.array.removeDuplicates=function(e,t,r){t=t||e;var n=function(e){return goog.isObject(e)?"o"+goog.getUid(e):(typeof e).charAt(0)+e};r=r||n,n={};for(var o=0,i=0;i<e.length;){var s=e[i++],a=r(s);Object.prototype.hasOwnProperty.call(n,a)||(n[a]=!0,t[o++]=s)}t.length=o},goog.array.binarySearch=function(e,t,r){return goog.array.binarySearch_(e,r||goog.array.defaultCompare,!1,t)},goog.array.binarySelect=function(e,t,r){return goog.array.binarySearch_(e,t,!0,void 0,r)},goog.array.binarySearch_=function(e,t,r,n,o){for(var i,s=0,a=e.length;s<a;){var l=s+a>>1,c=r?t.call(o,e[l],l,e):t(n,e[l]);0<c?s=l+1:(a=l,i=!c)}return i?s:~s},goog.array.sort=function(e,t){e.sort(t||goog.array.defaultCompare)},goog.array.stableSort=function(e,t){for(var r=Array(e.length),n=0;n<e.length;n++)r[n]={index:n,value:e[n]};var o=t||goog.array.defaultCompare;for(goog.array.sort(r,(function(e,t){return o(e.value,t.value)||e.index-t.index})),n=0;n<e.length;n++)e[n]=r[n].value},goog.array.sortByKey=function(e,t,r){var n=r||goog.array.defaultCompare;goog.array.sort(e,(function(e,r){return n(t(e),t(r))}))},goog.array.sortObjectsByKey=function(e,t,r){goog.array.sortByKey(e,(function(e){return e[t]}),r)},goog.array.isSorted=function(e,t,r){t=t||goog.array.defaultCompare;for(var n=1;n<e.length;n++){var o=t(e[n-1],e[n]);if(0<o||0==o&&r)return!1}return!0},goog.array.equals=function(e,t,r){if(!goog.isArrayLike(e)||!goog.isArrayLike(t)||e.length!=t.length)return!1;var n=e.length;r=r||goog.array.defaultCompareEquality;for(var o=0;o<n;o++)if(!r(e[o],t[o]))return!1;return!0},goog.array.compare3=function(e,t,r){r=r||goog.array.defaultCompare;for(var n=Math.min(e.length,t.length),o=0;o<n;o++){var i=r(e[o],t[o]);if(0!=i)return i}return goog.array.defaultCompare(e.length,t.length)},goog.array.defaultCompare=function(e,t){return e>t?1:e<t?-1:0},goog.array.inverseDefaultCompare=function(e,t){return-goog.array.defaultCompare(e,t)},goog.array.defaultCompareEquality=function(e,t){return e===t},goog.array.binaryInsert=function(e,t,r){return 0>(r=goog.array.binarySearch(e,t,r))&&(goog.array.insertAt(e,t,-(r+1)),!0)},goog.array.binaryRemove=function(e,t,r){return 0<=(t=goog.array.binarySearch(e,t,r))&&goog.array.removeAt(e,t)},goog.array.bucket=function(e,t,r){for(var n={},o=0;o<e.length;o++){var i=e[o],s=t.call(r,i,o,e);goog.isDef(s)&&(n[s]||(n[s]=[])).push(i)}return n},goog.array.toObject=function(e,t,r){var n={};return goog.array.forEach(e,(function(o,i){n[t.call(r,o,i,e)]=o})),n},goog.array.range=function(e,t,r){var n=[],o=0,i=e;if(void 0!==t&&(o=e,i=t),0>(r=r||1)*(i-o))return[];if(0<r)for(e=o;e<i;e+=r)n.push(e);else for(e=o;e>i;e+=r)n.push(e);return n},goog.array.repeat=function(e,t){for(var r=[],n=0;n<t;n++)r[n]=e;return r},goog.array.flatten=function(e){for(var t=[],r=0;r<arguments.length;r++){var n=arguments[r];if(goog.isArray(n))for(var o=0;o<n.length;o+=8192){var i=goog.array.slice(n,o,o+8192);i=goog.array.flatten.apply(null,i);for(var s=0;s<i.length;s++)t.push(i[s])}else t.push(n)}return t},goog.array.rotate=function(e,t){return goog.asserts.assert(null!=e.length),e.length&&(0<(t%=e.length)?Array.prototype.unshift.apply(e,e.splice(-t,t)):0>t&&Array.prototype.push.apply(e,e.splice(0,-t))),e},goog.array.moveItem=function(e,t,r){goog.asserts.assert(0<=t&&t<e.length),goog.asserts.assert(0<=r&&r<e.length),t=Array.prototype.splice.call(e,t,1),Array.prototype.splice.call(e,r,0,t[0])},goog.array.zip=function(e){if(!arguments.length)return[];for(var t=[],r=arguments[0].length,n=1;n<arguments.length;n++)arguments[n].length<r&&(r=arguments[n].length);for(n=0;n<r;n++){for(var o=[],i=0;i<arguments.length;i++)o.push(arguments[i][n]);t.push(o)}return t},goog.array.shuffle=function(e,t){t=t||Math.random;for(var r=e.length-1;0<r;r--){var n=Math.floor(t()*(r+1)),o=e[r];e[r]=e[n],e[n]=o}},goog.array.copyByIndex=function(e,t){var r=[];return goog.array.forEach(t,(function(t){r.push(e[t])})),r},goog.array.concatMap=function(e,t,r){return goog.array.concat.apply([],goog.array.map(e,t,r))},goog.crypt={},goog.crypt.stringToByteArray=function(e){for(var t=[],r=0,n=0;n<e.length;n++){var o=e.charCodeAt(n);255<o&&(t[r++]=255&o,o>>=8),t[r++]=o}return t},goog.crypt.byteArrayToString=function(e){if(8192>=e.length)return String.fromCharCode.apply(null,e);for(var t="",r=0;r<e.length;r+=8192){var n=goog.array.slice(e,r,r+8192);t+=String.fromCharCode.apply(null,n)}return t},goog.crypt.byteArrayToHex=function(e,t){return goog.array.map(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join(t||"")},goog.crypt.hexToByteArray=function(e){goog.asserts.assert(0==e.length%2,"Key string length must be multiple of 2");for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substring(r,r+2),16));return t},goog.crypt.stringToUtf8ByteArray=function(e){for(var t=[],r=0,n=0;n<e.length;n++){var o=e.charCodeAt(n);128>o?t[r++]=o:(2048>o?t[r++]=o>>6|192:(55296==(64512&o)&&n+1<e.length&&56320==(64512&e.charCodeAt(n+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n)),t[r++]=o>>18|240,t[r++]=o>>12&63|128):t[r++]=o>>12|224,t[r++]=o>>6&63|128),t[r++]=63&o|128)}return t},goog.crypt.utf8ByteArrayToString=function(e){for(var t=[],r=0,n=0;r<e.length;){var o=e[r++];if(128>o)t[n++]=String.fromCharCode(o);else if(191<o&&224>o){var i=e[r++];t[n++]=String.fromCharCode((31&o)<<6|63&i)}else if(239<o&&365>o){i=e[r++];var s=e[r++];o=((7&o)<<18|(63&i)<<12|(63&s)<<6|63&e[r++])-65536,t[n++]=String.fromCharCode(55296+(o>>10)),t[n++]=String.fromCharCode(56320+(1023&o))}else i=e[r++],s=e[r++],t[n++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&s)}return t.join("")},goog.crypt.xorByteArray=function(e,t){goog.asserts.assert(e.length==t.length,"XOR array lengths must match");for(var r=[],n=0;n<e.length;n++)r.push(e[n]^t[n]);return r},goog.dom.asserts={},goog.dom.asserts.assertIsLocation=function(e){if(goog.asserts.ENABLE_ASSERTS){var t=goog.dom.asserts.getWindow_(e);t&&(!e||!(e instanceof t.Location)&&e instanceof t.Element)&&goog.asserts.fail("Argument is not a Location (or a non-Element mock); got: %s",goog.dom.asserts.debugStringForType_(e))}return e},goog.dom.asserts.assertIsElementType_=function(e,t){if(goog.asserts.ENABLE_ASSERTS){var r=goog.dom.asserts.getWindow_(e);r&&void 0!==r[t]&&(e&&(e instanceof r[t]||!(e instanceof r.Location||e instanceof r.Element))||goog.asserts.fail("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,goog.dom.asserts.debugStringForType_(e)))}return e},goog.dom.asserts.assertIsHTMLAnchorElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLAnchorElement")},goog.dom.asserts.assertIsHTMLButtonElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLButtonElement")},goog.dom.asserts.assertIsHTMLLinkElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLLinkElement")},goog.dom.asserts.assertIsHTMLImageElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLImageElement")},goog.dom.asserts.assertIsHTMLAudioElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLAudioElement")},goog.dom.asserts.assertIsHTMLVideoElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLVideoElement")},goog.dom.asserts.assertIsHTMLInputElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLInputElement")},goog.dom.asserts.assertIsHTMLTextAreaElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLTextAreaElement")},goog.dom.asserts.assertIsHTMLCanvasElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLCanvasElement")},goog.dom.asserts.assertIsHTMLEmbedElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLEmbedElement")},goog.dom.asserts.assertIsHTMLFormElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLFormElement")},goog.dom.asserts.assertIsHTMLFrameElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLFrameElement")},goog.dom.asserts.assertIsHTMLIFrameElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLIFrameElement")},goog.dom.asserts.assertIsHTMLObjectElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLObjectElement")},goog.dom.asserts.assertIsHTMLScriptElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLScriptElement")},goog.dom.asserts.debugStringForType_=function(e){if(!goog.isObject(e))return void 0===e?"undefined":null===e?"null":typeof e;try{return e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(e){return"<object could not be stringified>"}},goog.dom.asserts.getWindow_=function(e){try{var t=e&&e.ownerDocument,r=t&&(t.defaultView||t.parentWindow);if((r=r||goog.global).Element&&r.Location)return r}catch(e){}return null},goog.functions={},goog.functions.constant=function(e){return function(){return e}},goog.functions.FALSE=function(){return!1},goog.functions.TRUE=function(){return!0},goog.functions.NULL=function(){return null},goog.functions.identity=function(e,t){return e},goog.functions.error=function(e){return function(){throw Error(e)}},goog.functions.fail=function(e){return function(){throw e}},goog.functions.lock=function(e,t){return t=t||0,function(){return e.apply(this,Array.prototype.slice.call(arguments,0,t))}},goog.functions.nth=function(e){return function(){return arguments[e]}},goog.functions.partialRight=function(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=Array.prototype.slice.call(arguments);return t.push.apply(t,r),e.apply(this,t)}},goog.functions.withReturnValue=function(e,t){return goog.functions.sequence(e,goog.functions.constant(t))},goog.functions.equalTo=function(e,t){return function(r){return t?e==r:e===r}},goog.functions.compose=function(e,t){var r=arguments,n=r.length;return function(){var e;n&&(e=r[n-1].apply(this,arguments));for(var t=n-2;0<=t;t--)e=r[t].call(this,e);return e}},goog.functions.sequence=function(e){var t=arguments,r=t.length;return function(){for(var e,n=0;n<r;n++)e=t[n].apply(this,arguments);return e}},goog.functions.and=function(e){var t=arguments,r=t.length;return function(){for(var e=0;e<r;e++)if(!t[e].apply(this,arguments))return!1;return!0}},goog.functions.or=function(e){var t=arguments,r=t.length;return function(){for(var e=0;e<r;e++)if(t[e].apply(this,arguments))return!0;return!1}},goog.functions.not=function(e){return function(){return!e.apply(this,arguments)}},goog.functions.create=function(e,t){var r=function(){};return r.prototype=e.prototype,r=new r,e.apply(r,Array.prototype.slice.call(arguments,1)),r},goog.functions.CACHE_RETURN_VALUE=!0,goog.functions.cacheReturnValue=function(e){var t,r=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(r||(t=e(),r=!0),t):e()}},goog.functions.once=function(e){var t=e;return function(){if(t){var e=t;t=null,e()}}},goog.functions.debounce=function(e,t,r){var n=0;return function(o){goog.global.clearTimeout(n);var i=arguments;n=goog.global.setTimeout((function(){e.apply(r,i)}),t)}},goog.functions.throttle=function(e,t,r){var n=0,o=!1,i=[],s=function(){n=0,o&&(o=!1,a())},a=function(){n=goog.global.setTimeout(s,t),e.apply(r,i)};return function(e){i=arguments,n?o=!0:a()}},goog.functions.rateLimit=function(e,t,r){var n=0,o=function(){n=0};return function(i){n||(n=goog.global.setTimeout(o,t),e.apply(r,arguments))}},goog.dom.HtmlElement=function(){},goog.dom.TagName=function(e){this.tagName_=e},goog.dom.TagName.prototype.toString=function(){return this.tagName_},goog.dom.TagName.A=new goog.dom.TagName("A"),goog.dom.TagName.ABBR=new goog.dom.TagName("ABBR"),goog.dom.TagName.ACRONYM=new goog.dom.TagName("ACRONYM"),goog.dom.TagName.ADDRESS=new goog.dom.TagName("ADDRESS"),goog.dom.TagName.APPLET=new goog.dom.TagName("APPLET"),goog.dom.TagName.AREA=new goog.dom.TagName("AREA"),goog.dom.TagName.ARTICLE=new goog.dom.TagName("ARTICLE"),goog.dom.TagName.ASIDE=new goog.dom.TagName("ASIDE"),goog.dom.TagName.AUDIO=new goog.dom.TagName("AUDIO"),goog.dom.TagName.B=new goog.dom.TagName("B"),goog.dom.TagName.BASE=new goog.dom.TagName("BASE"),goog.dom.TagName.BASEFONT=new goog.dom.TagName("BASEFONT"),goog.dom.TagName.BDI=new goog.dom.TagName("BDI"),goog.dom.TagName.BDO=new goog.dom.TagName("BDO"),goog.dom.TagName.BIG=new goog.dom.TagName("BIG"),goog.dom.TagName.BLOCKQUOTE=new goog.dom.TagName("BLOCKQUOTE"),goog.dom.TagName.BODY=new goog.dom.TagName("BODY"),goog.dom.TagName.BR=new goog.dom.TagName("BR"),goog.dom.TagName.BUTTON=new goog.dom.TagName("BUTTON"),goog.dom.TagName.CANVAS=new goog.dom.TagName("CANVAS"),goog.dom.TagName.CAPTION=new goog.dom.TagName("CAPTION"),goog.dom.TagName.CENTER=new goog.dom.TagName("CENTER"),goog.dom.TagName.CITE=new goog.dom.TagName("CITE"),goog.dom.TagName.CODE=new goog.dom.TagName("CODE"),goog.dom.TagName.COL=new goog.dom.TagName("COL"),goog.dom.TagName.COLGROUP=new goog.dom.TagName("COLGROUP"),goog.dom.TagName.COMMAND=new goog.dom.TagName("COMMAND"),goog.dom.TagName.DATA=new goog.dom.TagName("DATA"),goog.dom.TagName.DATALIST=new goog.dom.TagName("DATALIST"),goog.dom.TagName.DD=new goog.dom.TagName("DD"),goog.dom.TagName.DEL=new goog.dom.TagName("DEL"),goog.dom.TagName.DETAILS=new goog.dom.TagName("DETAILS"),goog.dom.TagName.DFN=new goog.dom.TagName("DFN"),goog.dom.TagName.DIALOG=new goog.dom.TagName("DIALOG"),goog.dom.TagName.DIR=new goog.dom.TagName("DIR"),goog.dom.TagName.DIV=new goog.dom.TagName("DIV"),goog.dom.TagName.DL=new goog.dom.TagName("DL"),goog.dom.TagName.DT=new goog.dom.TagName("DT"),goog.dom.TagName.EM=new goog.dom.TagName("EM"),goog.dom.TagName.EMBED=new goog.dom.TagName("EMBED"),goog.dom.TagName.FIELDSET=new goog.dom.TagName("FIELDSET"),goog.dom.TagName.FIGCAPTION=new goog.dom.TagName("FIGCAPTION"),goog.dom.TagName.FIGURE=new goog.dom.TagName("FIGURE"),goog.dom.TagName.FONT=new goog.dom.TagName("FONT"),goog.dom.TagName.FOOTER=new goog.dom.TagName("FOOTER"),goog.dom.TagName.FORM=new goog.dom.TagName("FORM"),goog.dom.TagName.FRAME=new goog.dom.TagName("FRAME"),goog.dom.TagName.FRAMESET=new goog.dom.TagName("FRAMESET"),goog.dom.TagName.H1=new goog.dom.TagName("H1"),goog.dom.TagName.H2=new goog.dom.TagName("H2"),goog.dom.TagName.H3=new goog.dom.TagName("H3"),goog.dom.TagName.H4=new goog.dom.TagName("H4"),goog.dom.TagName.H5=new goog.dom.TagName("H5"),goog.dom.TagName.H6=new goog.dom.TagName("H6"),goog.dom.TagName.HEAD=new goog.dom.TagName("HEAD"),goog.dom.TagName.HEADER=new goog.dom.TagName("HEADER"),goog.dom.TagName.HGROUP=new goog.dom.TagName("HGROUP"),goog.dom.TagName.HR=new goog.dom.TagName("HR"),goog.dom.TagName.HTML=new goog.dom.TagName("HTML"),goog.dom.TagName.I=new goog.dom.TagName("I"),goog.dom.TagName.IFRAME=new goog.dom.TagName("IFRAME"),goog.dom.TagName.IMG=new goog.dom.TagName("IMG"),goog.dom.TagName.INPUT=new goog.dom.TagName("INPUT"),goog.dom.TagName.INS=new goog.dom.TagName("INS"),goog.dom.TagName.ISINDEX=new goog.dom.TagName("ISINDEX"),goog.dom.TagName.KBD=new goog.dom.TagName("KBD"),goog.dom.TagName.KEYGEN=new goog.dom.TagName("KEYGEN"),goog.dom.TagName.LABEL=new goog.dom.TagName("LABEL"),goog.dom.TagName.LEGEND=new goog.dom.TagName("LEGEND"),goog.dom.TagName.LI=new goog.dom.TagName("LI"),goog.dom.TagName.LINK=new goog.dom.TagName("LINK"),goog.dom.TagName.MAIN=new goog.dom.TagName("MAIN"),goog.dom.TagName.MAP=new goog.dom.TagName("MAP"),goog.dom.TagName.MARK=new goog.dom.TagName("MARK"),goog.dom.TagName.MATH=new goog.dom.TagName("MATH"),goog.dom.TagName.MENU=new goog.dom.TagName("MENU"),goog.dom.TagName.MENUITEM=new goog.dom.TagName("MENUITEM"),goog.dom.TagName.META=new goog.dom.TagName("META"),goog.dom.TagName.METER=new goog.dom.TagName("METER"),goog.dom.TagName.NAV=new goog.dom.TagName("NAV"),goog.dom.TagName.NOFRAMES=new goog.dom.TagName("NOFRAMES"),goog.dom.TagName.NOSCRIPT=new goog.dom.TagName("NOSCRIPT"),goog.dom.TagName.OBJECT=new goog.dom.TagName("OBJECT"),goog.dom.TagName.OL=new goog.dom.TagName("OL"),goog.dom.TagName.OPTGROUP=new goog.dom.TagName("OPTGROUP"),goog.dom.TagName.OPTION=new goog.dom.TagName("OPTION"),goog.dom.TagName.OUTPUT=new goog.dom.TagName("OUTPUT"),goog.dom.TagName.P=new goog.dom.TagName("P"),goog.dom.TagName.PARAM=new goog.dom.TagName("PARAM"),goog.dom.TagName.PICTURE=new goog.dom.TagName("PICTURE"),goog.dom.TagName.PRE=new goog.dom.TagName("PRE"),goog.dom.TagName.PROGRESS=new goog.dom.TagName("PROGRESS"),goog.dom.TagName.Q=new goog.dom.TagName("Q"),goog.dom.TagName.RP=new goog.dom.TagName("RP"),goog.dom.TagName.RT=new goog.dom.TagName("RT"),goog.dom.TagName.RTC=new goog.dom.TagName("RTC"),goog.dom.TagName.RUBY=new goog.dom.TagName("RUBY"),goog.dom.TagName.S=new goog.dom.TagName("S"),goog.dom.TagName.SAMP=new goog.dom.TagName("SAMP"),goog.dom.TagName.SCRIPT=new goog.dom.TagName("SCRIPT"),goog.dom.TagName.SECTION=new goog.dom.TagName("SECTION"),goog.dom.TagName.SELECT=new goog.dom.TagName("SELECT"),goog.dom.TagName.SMALL=new goog.dom.TagName("SMALL"),goog.dom.TagName.SOURCE=new goog.dom.TagName("SOURCE"),goog.dom.TagName.SPAN=new goog.dom.TagName("SPAN"),goog.dom.TagName.STRIKE=new goog.dom.TagName("STRIKE"),goog.dom.TagName.STRONG=new goog.dom.TagName("STRONG"),goog.dom.TagName.STYLE=new goog.dom.TagName("STYLE"),goog.dom.TagName.SUB=new goog.dom.TagName("SUB"),goog.dom.TagName.SUMMARY=new goog.dom.TagName("SUMMARY"),goog.dom.TagName.SUP=new goog.dom.TagName("SUP"),goog.dom.TagName.SVG=new goog.dom.TagName("SVG"),goog.dom.TagName.TABLE=new goog.dom.TagName("TABLE"),goog.dom.TagName.TBODY=new goog.dom.TagName("TBODY"),goog.dom.TagName.TD=new goog.dom.TagName("TD"),goog.dom.TagName.TEMPLATE=new goog.dom.TagName("TEMPLATE"),goog.dom.TagName.TEXTAREA=new goog.dom.TagName("TEXTAREA"),goog.dom.TagName.TFOOT=new goog.dom.TagName("TFOOT"),goog.dom.TagName.TH=new goog.dom.TagName("TH"),goog.dom.TagName.THEAD=new goog.dom.TagName("THEAD"),goog.dom.TagName.TIME=new goog.dom.TagName("TIME"),goog.dom.TagName.TITLE=new goog.dom.TagName("TITLE"),goog.dom.TagName.TR=new goog.dom.TagName("TR"),goog.dom.TagName.TRACK=new goog.dom.TagName("TRACK"),goog.dom.TagName.TT=new goog.dom.TagName("TT"),goog.dom.TagName.U=new goog.dom.TagName("U"),goog.dom.TagName.UL=new goog.dom.TagName("UL"),goog.dom.TagName.VAR=new goog.dom.TagName("VAR"),goog.dom.TagName.VIDEO=new goog.dom.TagName("VIDEO"),goog.dom.TagName.WBR=new goog.dom.TagName("WBR"),goog.dom.tags={},goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},goog.dom.tags.isVoidTag=function(e){return!0===goog.dom.tags.VOID_TAGS_[e]},goog.html={},goog.html.trustedtypes={},goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#html"):null,goog.string={},goog.string.TypedString=function(){},goog.string.Const=function(e,t){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=e===goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_&&t||"",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"},goog.string.Const.unwrap=function(e){return e instanceof goog.string.Const&&e.constructor===goog.string.Const&&e.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?e.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+e+"'"),"type_error:Const")},goog.string.Const.from=function(e){return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_,e)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.Const.EMPTY=goog.string.Const.from(""),goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0,goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeScript.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeScript.fromConstantAndArgs=function(e,t){for(var r=[],n=1;n<arguments.length;n++)r.push(goog.html.SafeScript.stringify_(arguments[n]));return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("("+goog.string.Const.unwrap(e)+")("+r.join(", ")+");")},goog.html.SafeScript.fromJson=function(e){return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(goog.html.SafeScript.stringify_(e))},goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"}),goog.html.SafeScript.unwrap=function(e){return goog.html.SafeScript.unwrapTrustedScript(e).toString()},goog.html.SafeScript.unwrapTrustedScript=function(e){return e instanceof goog.html.SafeScript&&e.constructor===goog.html.SafeScript&&e.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeScriptWrappedValue_:(goog.asserts.fail("expected object of type SafeScript, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeScript")},goog.html.SafeScript.stringify_=function(e){return JSON.stringify(e).replace(/</g,"\\x3c")},goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeScript).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScript(e):e,this},goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(""),goog.fs={},goog.fs.url={},goog.fs.url.createObjectUrl=function(e){return goog.fs.url.getUrlObject_().createObjectURL(e)},goog.fs.url.revokeObjectUrl=function(e){goog.fs.url.getUrlObject_().revokeObjectURL(e)},goog.fs.url.getUrlObject_=function(){var e=goog.fs.url.findUrlObject_();if(null!=e)return e;throw Error("This browser doesn't seem to support blob URLs")},goog.fs.url.findUrlObject_=function(){return goog.isDef(goog.global.URL)&&goog.isDef(goog.global.URL.createObjectURL)?goog.global.URL:goog.isDef(goog.global.webkitURL)&&goog.isDef(goog.global.webkitURL.createObjectURL)?goog.global.webkitURL:goog.isDef(goog.global.createObjectURL)?goog.global:null},goog.fs.url.browserSupportsObjectUrls=function(){return null!=goog.fs.url.findUrlObject_()},goog.i18n={},goog.i18n.bidi={},goog.i18n.bidi.FORCE_RTL=!1,goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||("ar"==goog.LOCALE.substring(0,2).toLowerCase()||"fa"==goog.LOCALE.substring(0,2).toLowerCase()||"he"==goog.LOCALE.substring(0,2).toLowerCase()||"iw"==goog.LOCALE.substring(0,2).toLowerCase()||"ps"==goog.LOCALE.substring(0,2).toLowerCase()||"sd"==goog.LOCALE.substring(0,2).toLowerCase()||"ug"==goog.LOCALE.substring(0,2).toLowerCase()||"ur"==goog.LOCALE.substring(0,2).toLowerCase()||"yi"==goog.LOCALE.substring(0,2).toLowerCase())&&(2==goog.LOCALE.length||"-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))||3<=goog.LOCALE.length&&"ckb"==goog.LOCALE.substring(0,3).toLowerCase()&&(3==goog.LOCALE.length||"-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4))||7<=goog.LOCALE.length&&("-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))&&("adlm"==goog.LOCALE.substring(3,7).toLowerCase()||"arab"==goog.LOCALE.substring(3,7).toLowerCase()||"hebr"==goog.LOCALE.substring(3,7).toLowerCase()||"nkoo"==goog.LOCALE.substring(3,7).toLowerCase()||"rohg"==goog.LOCALE.substring(3,7).toLowerCase()||"thaa"==goog.LOCALE.substring(3,7).toLowerCase())||8<=goog.LOCALE.length&&("-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4))&&("adlm"==goog.LOCALE.substring(4,8).toLowerCase()||"arab"==goog.LOCALE.substring(4,8).toLowerCase()||"hebr"==goog.LOCALE.substring(4,8).toLowerCase()||"nkoo"==goog.LOCALE.substring(4,8).toLowerCase()||"rohg"==goog.LOCALE.substring(4,8).toLowerCase()||"thaa"==goog.LOCALE.substring(4,8).toLowerCase()),goog.i18n.bidi.Format={LRE:"",RLE:"",PDF:"",LRM:"",RLM:""},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(e,t){return"number"==typeof e?0<e?goog.i18n.bidi.Dir.LTR:0>e?goog.i18n.bidi.Dir.RTL:t?null:goog.i18n.bidi.Dir.NEUTRAL:null==e?null:e?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-z------\ud801\ud804-\ud839\ud83c-\udbff---",goog.i18n.bidi.rtlChars_="--\ud802-\ud803\ud83a-\ud83b--",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(e,t){return t?e.replace(goog.i18n.bidi.htmlSkipReg_,""):e},goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(e,t){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(e,t){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(e){return goog.i18n.bidi.rtlRe_.test(e)},goog.i18n.bidi.isLtrChar=function(e){return goog.i18n.bidi.ltrRe_.test(e)},goog.i18n.bidi.isNeutralChar=function(e){return!goog.i18n.bidi.isLtrChar(e)&&!goog.i18n.bidi.isRtlChar(e)},goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(e,t){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(e,t){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(e,t){return e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t),goog.i18n.bidi.isRequiredLtrRe_.test(e)||!goog.i18n.bidi.hasAnyLtr(e)&&!goog.i18n.bidi.hasAnyRtl(e)},goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(e,t){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(e,t){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i,goog.i18n.bidi.isRtlLanguage=function(e){return goog.i18n.bidi.rtlLocalesRe_.test(e)},goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInText=function(e,t){return t=(void 0===t?goog.i18n.bidi.hasAnyRtl(e):t)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM,e.replace(goog.i18n.bidi.bracketGuardTextRe_,t+"$&"+t)},goog.i18n.bidi.enforceRtlInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=rtl"):"\n<span dir=rtl>"+e+"</span>"},goog.i18n.bidi.enforceRtlInText=function(e){return goog.i18n.bidi.Format.RLE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=ltr"):"\n<span dir=ltr>"+e+"</span>"},goog.i18n.bidi.enforceLtrInText=function(e){return goog.i18n.bidi.Format.LRE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(e){return e.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(e){return e.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(e,t){var r=0,n=0,o=!1;for(e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t).split(goog.i18n.bidi.wordSeparatorRe_),t=0;t<e.length;t++){var i=e[t];goog.i18n.bidi.startsWithRtl(i)?(r++,n++):goog.i18n.bidi.isRequiredLtrRe_.test(i)?o=!0:goog.i18n.bidi.hasAnyLtr(i)?n++:goog.i18n.bidi.hasNumeralsRe_.test(i)&&(o=!0)}return 0==n?o?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:r/n>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(e,t){return goog.i18n.bidi.estimateDirection(e,t)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(e,t){e&&(t=goog.i18n.bidi.toDir(t))&&(e.style.textAlign=t==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,e.dir=t==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")},goog.i18n.bidi.setElementDirByTextDirectionality=function(e,t){switch(goog.i18n.bidi.estimateDirection(t)){case goog.i18n.bidi.Dir.LTR:e.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:e.dir="rtl";break;default:e.removeAttribute("dir")}},goog.i18n.bidi.DirectionalString=function(){},goog.html.TrustedResourceUrl=function(){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_="",this.trustedURL_=null,this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(e,t){var r=goog.html.TrustedResourceUrl.unwrap(this),n=(r=goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(r))[3]||"";return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(r[1]+goog.html.TrustedResourceUrl.stringifyParams_("?",r[2]||"",e)+goog.html.TrustedResourceUrl.stringifyParams_("#",n,t))},goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"}),goog.html.TrustedResourceUrl.unwrap=function(e){return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(e).toString()},goog.html.TrustedResourceUrl.unwrapTrustedScriptURL=function(e){return e instanceof goog.html.TrustedResourceUrl&&e.constructor===goog.html.TrustedResourceUrl&&e.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.unwrapTrustedURL=function(e){return e.trustedURL_?e.trustedURL_:goog.html.TrustedResourceUrl.unwrap(e)},goog.html.TrustedResourceUrl.format=function(e,t){var r=goog.string.Const.unwrap(e);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(r))throw Error("Invalid TrustedResourceUrl format: "+r);return e=r.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,(function(e,n){if(!Object.prototype.hasOwnProperty.call(t,n))throw Error('Found marker, "'+n+'", in format string, "'+r+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[n])instanceof goog.string.Const?goog.string.Const.unwrap(e):encodeURIComponent(String(e))})),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g,goog.html.TrustedResourceUrl.BASE_URL_=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,goog.html.TrustedResourceUrl.URL_PARAM_PARSER_=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/,goog.html.TrustedResourceUrl.formatWithParams=function(e,t,r,n){return goog.html.TrustedResourceUrl.format(e,t).cloneWithParams(r,n)},goog.html.TrustedResourceUrl.fromConstant=function(e){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.TrustedResourceUrl.fromConstants=function(e){for(var t="",r=0;r<e.length;r++)t+=goog.string.Const.unwrap(e[r]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(e){var t=new goog.html.TrustedResourceUrl;return t.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScriptURL(e):e,goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY&&(t.trustedURL_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(e)),t},goog.html.TrustedResourceUrl.stringifyParams_=function(e,t,r){if(null==r)return t;if(goog.isString(r))return r?e+encodeURIComponent(r):"";for(var n in r){var o=r[n];o=goog.isArray(o)?o:[o];for(var i=0;i<o.length;i++){var s=o[i];null!=s&&(t||(t=e),t+=(t.length>e.length?"&":"")+encodeURIComponent(n)+"="+encodeURIComponent(String(s)))}}return t},goog.string.internal={},goog.string.internal.startsWith=function(e,t){return 0==e.lastIndexOf(t,0)},goog.string.internal.endsWith=function(e,t){var r=e.length-t.length;return 0<=r&&e.indexOf(t,r)==r},goog.string.internal.caseInsensitiveStartsWith=function(e,t){return 0==goog.string.internal.caseInsensitiveCompare(t,e.substr(0,t.length))},goog.string.internal.caseInsensitiveEndsWith=function(e,t){return 0==goog.string.internal.caseInsensitiveCompare(t,e.substr(e.length-t.length,t.length))},goog.string.internal.caseInsensitiveEquals=function(e,t){return e.toLowerCase()==t.toLowerCase()},goog.string.internal.isEmptyOrWhitespace=function(e){return/^[\s\xa0]*$/.test(e)},goog.string.internal.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},goog.string.internal.caseInsensitiveCompare=function(e,t){return(e=String(e).toLowerCase())<(t=String(t).toLowerCase())?-1:e==t?0:1},goog.string.internal.newLineToBr=function(e,t){return e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>")},goog.string.internal.htmlEscape=function(e,t){if(t)e=e.replace(goog.string.internal.AMP_RE_,"&amp;").replace(goog.string.internal.LT_RE_,"&lt;").replace(goog.string.internal.GT_RE_,"&gt;").replace(goog.string.internal.QUOT_RE_,"&quot;").replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.internal.NULL_RE_,"&#0;");else{if(!goog.string.internal.ALL_RE_.test(e))return e;-1!=e.indexOf("&")&&(e=e.replace(goog.string.internal.AMP_RE_,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(goog.string.internal.LT_RE_,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(goog.string.internal.GT_RE_,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(goog.string.internal.QUOT_RE_,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(goog.string.internal.NULL_RE_,"&#0;"))}return e},goog.string.internal.AMP_RE_=/&/g,goog.string.internal.LT_RE_=/</g,goog.string.internal.GT_RE_=/>/g,goog.string.internal.QUOT_RE_=/"/g,goog.string.internal.SINGLE_QUOTE_RE_=/'/g,goog.string.internal.NULL_RE_=/\x00/g,goog.string.internal.ALL_RE_=/[\x00&<>"']/,goog.string.internal.whitespaceEscape=function(e,t){return goog.string.internal.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.internal.contains=function(e,t){return-1!=e.indexOf(t)},goog.string.internal.caseInsensitiveContains=function(e,t){return goog.string.internal.contains(e.toLowerCase(),t.toLowerCase())},goog.string.internal.compareVersions=function(e,t){var r=0;e=goog.string.internal.trim(String(e)).split("."),t=goog.string.internal.trim(String(t)).split(".");for(var n=Math.max(e.length,t.length),o=0;0==r&&o<n;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;r=0==i[1].length?0:parseInt(i[1],10);var a=0==s[1].length?0:parseInt(s[1],10);r=goog.string.internal.compareElements_(r,a)||goog.string.internal.compareElements_(0==i[2].length,0==s[2].length)||goog.string.internal.compareElements_(i[2],s[2]),i=i[3],s=s[3]}while(0==r)}return r},goog.string.internal.compareElements_=function(e,t){return e<t?-1:e>t?1:0},goog.html.SafeUrl=function(){this.privateDoNotAccessOrElseSafeUrlWrappedValue_="",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()},goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeUrlWrappedValue_+"}"}),goog.html.SafeUrl.unwrap=function(e){return goog.html.SafeUrl.unwrapTrustedURL(e).toString()},goog.html.SafeUrl.unwrapTrustedURL=function(e){return e instanceof goog.html.SafeUrl&&e.constructor===goog.html.SafeUrl&&e.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeUrlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeUrl")},goog.html.SafeUrl.fromConstant=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-wav|wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime))(?:;\w+=(?:\w+|"[\w;=]+"))*$/i,goog.html.SafeUrl.isSafeMimeType=function(e){return goog.html.SAFE_MIME_TYPE_PATTERN_.test(e)},goog.html.SafeUrl.fromBlob=function(e){return e=goog.html.SAFE_MIME_TYPE_PATTERN_.test(e.type)?goog.fs.url.createObjectUrl(e):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.DATA_URL_PATTERN_=/^data:([^,]*);base64,[a-z0-9+\/]+=*$/i,goog.html.SafeUrl.fromDataUrl=function(e){var t=(e=e.replace(/(%0A|%0D)/g,"")).match(goog.html.DATA_URL_PATTERN_);return t=t&&goog.html.SAFE_MIME_TYPE_PATTERN_.test(t[1]),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t?e:goog.html.SafeUrl.INNOCUOUS_STRING)},goog.html.SafeUrl.fromTelUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"tel:")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SIP_URL_PATTERN_=/^sip[s]?:[+a-z0-9_.!$%&'*\/=^`{|}~-]+@([a-z0-9-]+\.)+[a-z0-9]{2,63}$/i,goog.html.SafeUrl.fromSipUrl=function(e){return goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(e))||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromFacebookMessengerUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"fb-messenger://share")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromWhatsAppUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"whatsapp://send")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromSmsUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"sms:")&&goog.html.SafeUrl.isSmsUrlBodyValid_(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.isSmsUrlBodyValid_=function(e){var t=e.indexOf("#");if(0<t&&(e=e.substring(0,t)),!(t=e.match(/[?&]body=/gi)))return!0;if(1<t.length)return!1;if(!(e=e.match(/[?&]body=([^&]*)/)[1]))return!0;try{decodeURIComponent(e)}catch(e){return!1}return/^(?:[a-z0-9\-_.~]|%[0-9a-f]{2})+$/i.test(e)},goog.html.SafeUrl.fromSshUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"ssh://")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.sanitizeChromeExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeFirefoxExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeEdgeExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeExtensionUrl_=function(e,t,r){return(e=e.exec(t))?(e=e[1],-1==(r instanceof goog.string.Const?[goog.string.Const.unwrap(r)]:r.map((function(e){return goog.string.Const.unwrap(e)}))).indexOf(e)&&(t=goog.html.SafeUrl.INNOCUOUS_STRING)):t=goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.fromTrustedResourceUrl=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(e))},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,goog.html.SafeUrl.SAFE_URL_PATTERN=goog.html.SAFE_URL_PATTERN_,goog.html.SafeUrl.sanitize=function(e){return e instanceof goog.html.SafeUrl?e:(e="object"==typeof e&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SAFE_URL_PATTERN_.test(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeUrl.sanitizeAssertUnchanged=function(e,t){return e instanceof goog.html.SafeUrl?e:(e="object"==typeof e&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),t&&/^data:/i.test(e)&&(t=goog.html.SafeUrl.fromDataUrl(e)).getTypedStringValue()==e?t:(goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(e),"%s does not match the safe URL pattern",e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)))},goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(e){var t=new goog.html.SafeUrl;return t.privateDoNotAccessOrElseSafeUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(e):e,t},goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank"),goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyle.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeStyle.EMPTY:(goog.asserts.assert(goog.string.internal.endsWith(e,";"),"Last character of style string is not ';': "+e),goog.asserts.assert(goog.string.internal.contains(e,":"),"Style string must contain at least one ':', to specify a \"name: value\" pair: "+e),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"}),goog.html.SafeStyle.unwrap=function(e){return e instanceof goog.html.SafeStyle&&e.constructor===goog.html.SafeStyle&&e.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyle")},goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeStyle).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=e,this},goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez",goog.html.SafeStyle.create=function(e){var t,r="";for(t in e){if(!/^[-_a-zA-Z0-9]+$/.test(t))throw Error("Name allows only [-_a-zA-Z0-9], got: "+t);var n=e[t];null!=n&&(r+=t+":"+(n=goog.isArray(n)?goog.array.map(n,goog.html.SafeStyle.sanitizePropertyValue_).join(" "):goog.html.SafeStyle.sanitizePropertyValue_(n))+";")}return r?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(r):goog.html.SafeStyle.EMPTY},goog.html.SafeStyle.sanitizePropertyValue_=function(e){if(e instanceof goog.html.SafeUrl)return'url("'+goog.html.SafeUrl.unwrap(e).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(e=e instanceof goog.string.Const?goog.string.Const.unwrap(e):goog.html.SafeStyle.sanitizePropertyValueString_(String(e)),/[{;}]/.test(e))throw new goog.asserts.AssertionError("Value does not allow [{;}], got: %s.",[e]);return e},goog.html.SafeStyle.sanitizePropertyValueString_=function(e){var t=e.replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.URL_RE_,"url");return goog.html.SafeStyle.VALUE_RE_.test(t)?goog.html.SafeStyle.COMMENT_RE_.test(e)?(goog.asserts.fail("String value disallows comments, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):goog.html.SafeStyle.hasBalancedQuotes_(e)?goog.html.SafeStyle.hasBalancedSquareBrackets_(e)?goog.html.SafeStyle.sanitizeUrl_(e):(goog.asserts.fail("String value requires balanced square brackets and one identifier per pair of brackets, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value requires balanced quotes, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value allows only "+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+" and simple functions, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING)},goog.html.SafeStyle.hasBalancedQuotes_=function(e){for(var t=!0,r=!0,n=0;n<e.length;n++){var o=e.charAt(n);"'"==o&&r?t=!t:'"'==o&&t&&(r=!r)}return t&&r},goog.html.SafeStyle.hasBalancedSquareBrackets_=function(e){for(var t=!0,r=/^[-_a-zA-Z0-9]$/,n=0;n<e.length;n++){var o=e.charAt(n);if("]"==o){if(t)return!1;t=!0}else if("["==o){if(!t)return!1;t=!1}else if(!t&&!r.test(o))return!1}return t},goog.html.SafeStyle.VALUE_ALLOWED_CHARS_="[-,.\"'%_!# a-zA-Z0-9\\[\\]]",goog.html.SafeStyle.VALUE_RE_=new RegExp("^"+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+"+$"),goog.html.SafeStyle.URL_RE_=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,goog.html.SafeStyle.FUNCTIONS_RE_=/\b(hsl|hsla|rgb|rgba|matrix|calc|minmax|fit-content|repeat|(rotate|scale|translate)(X|Y|Z|3d)?)\([-+*/0-9a-z.%\[\], ]+\)/g,goog.html.SafeStyle.COMMENT_RE_=/\/\*/,goog.html.SafeStyle.sanitizeUrl_=function(e){return e.replace(goog.html.SafeStyle.URL_RE_,(function(e,t,r,n){var o="";return r=r.replace(/^(['"])(.*)\1$/,(function(e,t,r){return o=t,r})),e=goog.html.SafeUrl.sanitize(r).getTypedStringValue(),t+o+e+o+n}))},goog.html.SafeStyle.concat=function(e){var t="",r=function(e){goog.isArray(e)?goog.array.forEach(e,r):t+=goog.html.SafeStyle.unwrap(e)};return goog.array.forEach(arguments,r),t?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t):goog.html.SafeStyle.EMPTY},goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="",this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyleSheet.createRule=function(e,t){if(goog.string.internal.contains(e,"<"))throw Error("Selector does not allow '<', got: "+e);var r=e.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(r))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+e);if(!goog.html.SafeStyleSheet.hasBalancedBrackets_(r))throw Error("() and [] in selector must be balanced, got: "+e);return t instanceof goog.html.SafeStyle||(t=goog.html.SafeStyle.create(t)),e=e+"{"+goog.html.SafeStyle.unwrap(t).replace(/</g,"\\3C ")+"}",goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeStyleSheet.hasBalancedBrackets_=function(e){for(var t={"(":")","[":"]"},r=[],n=0;n<e.length;n++){var o=e[n];if(t[o])r.push(t[o]);else if(goog.object.contains(t,o)&&r.pop()!=o)return!1}return 0==r.length},goog.html.SafeStyleSheet.concat=function(e){var t="",r=function(e){goog.isArray(e)?goog.array.forEach(e,r):t+=goog.html.SafeStyleSheet.unwrap(e)};return goog.array.forEach(arguments,r),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeStyleSheet.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.internal.contains(e,"<"),"Forbidden '<' character in style sheet string: "+e),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"}),goog.html.SafeStyleSheet.unwrap=function(e){return e instanceof goog.html.SafeStyleSheet&&e.constructor===goog.html.SafeStyleSheet&&e.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyleSheet")},goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeStyleSheet).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=e,this},goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(""),goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var e=goog.labs.userAgent.util.getNavigator_();return e&&(e=e.userAgent)?e:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(e){goog.labs.userAgent.util.userAgent_=e||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.contains(t,e)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.caseInsensitiveContains(t,e)},goog.labs.userAgent.util.extractVersionTuples=function(e){for(var t,r=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,n=[];t=r.exec(e);)n.push([t[1],t[2],t[3]||void 0]);return n},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchEdgeHtml_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.browser.matchEdgeChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("Edg/")},goog.labs.userAgent.browser.matchOperaChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")||goog.labs.userAgent.util.matchUserAgent("FxiOS")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdgeHtml_()||goog.labs.userAgent.browser.matchEdgeChromium_()||goog.labs.userAgent.browser.matchOperaChromium_()||goog.labs.userAgent.browser.matchFirefox_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&!goog.labs.userAgent.browser.matchFirefox_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdgeHtml_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdgeHtml_,goog.labs.userAgent.browser.isEdgeChromium=goog.labs.userAgent.browser.matchEdgeChromium_,goog.labs.userAgent.browser.isOperaChromium=goog.labs.userAgent.browser.matchOperaChromium_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function e(e){return e=goog.array.find(e,n),r[e]||""}var t=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(t);t=goog.labs.userAgent.util.extractVersionTuples(t);var r={};goog.array.forEach(t,(function(e){r[e[0]]=e[1]}));var n=goog.partial(goog.object.containsKey,r);return goog.labs.userAgent.browser.isOpera()?e(["Version","Opera"]):goog.labs.userAgent.browser.isEdge()?e(["Edge"]):goog.labs.userAgent.browser.isEdgeChromium()?e(["Edg"]):goog.labs.userAgent.browser.isChrome()?e(["Chrome","CriOS"]):(t=t[2])&&t[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(e){return 0<=goog.string.internal.compareVersions(goog.labs.userAgent.browser.getVersion(),e)},goog.labs.userAgent.browser.getIEVersion_=function(e){var t=/rv: *([\d\.]*)/.exec(e);if(t&&t[1])return t[1];t="";var r=/MSIE +([\d\.]+)/.exec(e);if(r&&r[1])if(e=/Trident\/(\d.\d)/.exec(e),"7.0"==r[1])if(e&&e[1])switch(e[1]){case"4.0":t="8.0";break;case"5.0":t="9.0";break;case"6.0":t="10.0";break;case"7.0":t="11.0"}else t="7.0";else t=r[1];return t},goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null},goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_},goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0,goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeHtml.unwrap=function(e){return goog.html.SafeHtml.unwrapTrustedHTML(e).toString()},goog.html.SafeHtml.unwrapTrustedHTML=function(e){return e instanceof goog.html.SafeHtml&&e.constructor===goog.html.SafeHtml&&e.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeHtml")},goog.html.SafeHtml.htmlEscape=function(e){if(e instanceof goog.html.SafeHtml)return e;var t="object"==typeof e,r=null;return t&&e.implementsGoogI18nBidiDirectionalString&&(r=e.getDirection()),e=t&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(e),r)},goog.html.SafeHtml.htmlEscapePreservingNewlines=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape,goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/,goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.html.SafeHtml.create=function(e,t,r){return goog.html.SafeHtml.verifyTagName(String(e)),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(e),t,r)},goog.html.SafeHtml.verifyTagName=function(e){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(e))throw Error("Invalid tag name <"+e+">.");if(e.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error("Tag name <"+e+"> is not allowed for SafeHtml.")},goog.html.SafeHtml.createIframe=function(e,t,r,n){e&&goog.html.TrustedResourceUrl.unwrap(e);var o={};return o.src=e||null,o.srcdoc=t&&goog.html.SafeHtml.unwrap(t),e=goog.html.SafeHtml.combineAttributes(o,{sandbox:""},r),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,n)},goog.html.SafeHtml.createSandboxIframe=function(e,t,r,n){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error("The browser does not support sandboxed iframes.");var o={};return o.src=e?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)):null,o.srcdoc=t||null,o.sandbox="",e=goog.html.SafeHtml.combineAttributes(o,{},r),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,n)},goog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype},goog.html.SafeHtml.createScriptSrc=function(e,t){return goog.html.TrustedResourceUrl.unwrap(e),e=goog.html.SafeHtml.combineAttributes({src:e},{},t),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",e)},goog.html.SafeHtml.createScript=function(e,t){for(var r in t){var n=r.toLowerCase();if("language"==n||"src"==n||"text"==n||"type"==n)throw Error('Cannot set "'+n+'" attribute')}for(r="",e=goog.array.concat(e),n=0;n<e.length;n++)r+=goog.html.SafeScript.unwrap(e[n]);return e=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",t,e)},goog.html.SafeHtml.createStyle=function(e,t){t=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},t);var r="";e=goog.array.concat(e);for(var n=0;n<e.length;n++)r+=goog.html.SafeStyleSheet.unwrap(e[n]);return e=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",t,e)},goog.html.SafeHtml.createMetaRefresh=function(e,t){return e=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)),(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.internal.contains(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(t||0)+"; url="+e})},goog.html.SafeHtml.getAttrNameAndValue_=function(e,t,r){if(r instanceof goog.string.Const)r=goog.string.Const.unwrap(r);else if("style"==t.toLowerCase())r=goog.html.SafeHtml.getStyleValue_(r);else{if(/^on/i.test(t))throw Error('Attribute "'+t+'" requires goog.string.Const value, "'+r+'" given.');if(t.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(r instanceof goog.html.TrustedResourceUrl)r=goog.html.TrustedResourceUrl.unwrap(r);else if(r instanceof goog.html.SafeUrl)r=goog.html.SafeUrl.unwrap(r);else{if(!goog.isString(r))throw Error('Attribute "'+t+'" on tag "'+e+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+r+'" given.');r=goog.html.SafeUrl.sanitize(r).getTypedStringValue()}}return r.implementsGoogStringTypedString&&(r=r.getTypedStringValue()),goog.asserts.assert(goog.isString(r)||goog.isNumber(r),"String or number value expected, got "+typeof r+" with value: "+r),t+'="'+goog.string.internal.htmlEscape(String(r))+'"'},goog.html.SafeHtml.getStyleValue_=function(e){if(!goog.isObject(e))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof e+" given: "+e);return e instanceof goog.html.SafeStyle||(e=goog.html.SafeStyle.create(e)),goog.html.SafeStyle.unwrap(e)},goog.html.SafeHtml.createWithDir=function(e,t,r,n){return(t=goog.html.SafeHtml.create(t,r,n)).dir_=e,t},goog.html.SafeHtml.join=function(e,t){var r=(e=goog.html.SafeHtml.htmlEscape(e)).getDirection(),n=[],o=function(e){goog.isArray(e)?goog.array.forEach(e,o):(e=goog.html.SafeHtml.htmlEscape(e),n.push(goog.html.SafeHtml.unwrap(e)),e=e.getDirection(),r==goog.i18n.bidi.Dir.NEUTRAL?r=e:e!=goog.i18n.bidi.Dir.NEUTRAL&&r!=e&&(r=null))};return goog.array.forEach(t,o),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(n.join(goog.html.SafeHtml.unwrap(e)),r)},goog.html.SafeHtml.concat=function(e){return goog.html.SafeHtml.join(goog.html.SafeHtml.EMPTY,Array.prototype.slice.call(arguments))},goog.html.SafeHtml.concatWithDir=function(e,t){var r=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return r.dir_=e,r},goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(e,t){return(new goog.html.SafeHtml).initSecurityPrivateDoNotAccessOrElse_(e,t)},goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e,t){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createHTML(e):e,this.dir_=t,this},goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(e,t,r){var n=null,o="<"+e+goog.html.SafeHtml.stringifyAttributes(e,t);return goog.isDefAndNotNull(r)?goog.isArray(r)||(r=[r]):r=[],goog.dom.tags.isVoidTag(e.toLowerCase())?(goog.asserts.assert(!r.length,"Void tag <"+e+"> does not allow content."),o+=">"):(n=goog.html.SafeHtml.concat(r),o+=">"+goog.html.SafeHtml.unwrap(n)+"</"+e+">",n=n.getDirection()),(e=t&&t.dir)&&(n=/^(ltr|rtl|auto)$/i.test(e)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(o,n)},goog.html.SafeHtml.stringifyAttributes=function(e,t){var r="";if(t)for(var n in t){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(n))throw Error('Invalid attribute name "'+n+'".');var o=t[n];goog.isDefAndNotNull(o)&&(r+=" "+goog.html.SafeHtml.getAttrNameAndValue_(e,n,o))}return r},goog.html.SafeHtml.combineAttributes=function(e,t,r){var n,o={};for(n in e)goog.asserts.assert(n.toLowerCase()==n,"Must be lower case"),o[n]=e[n];for(n in t)goog.asserts.assert(n.toLowerCase()==n,"Must be lower case"),o[n]=t[n];for(n in r){var i=n.toLowerCase();if(i in e)throw Error('Cannot override "'+i+'" attribute, got "'+n+'" with value "'+r[n]+'"');i in t&&delete o[i],o[n]=r[n]}return o},goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.uncheckedconversions={},goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(e,t,r){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(t,r||null)},goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.dom.safe={},goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"},goog.dom.safe.insertAdjacentHtml=function(e,t,r){e.insertAdjacentHTML(t,goog.html.SafeHtml.unwrapTrustedHTML(r))},goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.dom.safe.isInnerHtmlCleanupRecursive_=goog.functions.cacheReturnValue((function(){if(goog.DEBUG&&"undefined"==typeof document)return!1;var e=document.createElement("div"),t=document.createElement("div");return t.appendChild(document.createElement("div")),e.appendChild(t),!(goog.DEBUG&&!e.firstChild)&&(t=e.firstChild.firstChild,e.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(goog.html.SafeHtml.EMPTY),!t.parentElement)})),goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse=function(e,t){if(goog.dom.safe.isInnerHtmlCleanupRecursive_())for(;e.lastChild;)e.removeChild(e.lastChild);e.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setInnerHtml=function(e,t){if(goog.asserts.ENABLE_ASSERTS){var r=e.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[r])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+e.tagName+".")}goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(e,t)},goog.dom.safe.setOuterHtml=function(e,t){e.outerHTML=goog.html.SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setFormElementAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLFormElement(e).action=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setButtonFormAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLButtonElement(e).formAction=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setInputFormAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLInputElement(e).formAction=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setStyle=function(e,t){e.style.cssText=goog.html.SafeStyle.unwrap(t)},goog.dom.safe.documentWrite=function(e,t){e.write(goog.html.SafeHtml.unwrapTrustedHTML(t))},goog.dom.safe.setAnchorHref=function(e,t){goog.dom.asserts.assertIsHTMLAnchorElement(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.href=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setImageSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLImageElement(e),!(t instanceof goog.html.SafeUrl)){var r=/^data:image\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,r)}e.src=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setAudioSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLAudioElement(e),!(t instanceof goog.html.SafeUrl)){var r=/^data:audio\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,r)}e.src=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setVideoSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLVideoElement(e),!(t instanceof goog.html.SafeUrl)){var r=/^data:video\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,r)}e.src=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setEmbedSrc=function(e,t){goog.dom.asserts.assertIsHTMLEmbedElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t)},goog.dom.safe.setFrameSrc=function(e,t){goog.dom.asserts.assertIsHTMLFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(t)},goog.dom.safe.setIframeSrc=function(e,t){goog.dom.asserts.assertIsHTMLIFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(t)},goog.dom.safe.setIframeSrcdoc=function(e,t){goog.dom.asserts.assertIsHTMLIFrameElement(e),e.srcdoc=goog.html.SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setLinkHrefAndRel=function(e,t,r){goog.dom.asserts.assertIsHTMLLinkElement(e),e.rel=r,goog.string.internal.caseInsensitiveContains(r,"stylesheet")?(goog.asserts.assert(t instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),e.href=goog.html.TrustedResourceUrl.unwrapTrustedURL(t)):e.href=t instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrapTrustedURL(t):t instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrapTrustedURL(t):goog.html.SafeUrl.unwrapTrustedURL(goog.html.SafeUrl.sanitizeAssertUnchanged(t))},goog.dom.safe.setObjectData=function(e,t){goog.dom.asserts.assertIsHTMLObjectElement(e),e.data=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t)},goog.dom.safe.setScriptSrc=function(e,t){goog.dom.asserts.assertIsHTMLScriptElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t),(t=goog.getScriptNonce())&&e.setAttribute("nonce",t)},goog.dom.safe.setScriptContent=function(e,t){goog.dom.asserts.assertIsHTMLScriptElement(e),e.text=goog.html.SafeScript.unwrapTrustedScript(t),(t=goog.getScriptNonce())&&e.setAttribute("nonce",t)},goog.dom.safe.setLocationHref=function(e,t){goog.dom.asserts.assertIsLocation(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.href=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.assignLocation=function(e,t){goog.dom.asserts.assertIsLocation(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.assign(goog.html.SafeUrl.unwrapTrustedURL(t))},goog.dom.safe.replaceLocation=function(e,t){goog.dom.asserts.assertIsLocation(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.replace(goog.html.SafeUrl.unwrapTrustedURL(t))},goog.dom.safe.openInWindow=function(e,t,r,n,o){return e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),(t||goog.global).open(goog.html.SafeUrl.unwrapTrustedURL(e),r?goog.string.Const.unwrap(r):"",n,o)},goog.dom.safe.parseFromStringHtml=function(e,t){return goog.dom.safe.parseFromString(e,t,"text/html")},goog.dom.safe.parseFromString=function(e,t,r){return e.parseFromString(goog.html.SafeHtml.unwrapTrustedHTML(t),r)},goog.dom.safe.createImageFromBlob=function(e){if(!/^image\/.*/g.test(e.type))throw Error("goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.");var t=goog.global.URL.createObjectURL(e);return(e=new goog.global.Image).onload=function(){goog.global.URL.revokeObjectURL(t)},goog.dom.safe.setImageSrc(e,goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Image blob URL."),t)),e},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:""},goog.string.startsWith=goog.string.internal.startsWith,goog.string.endsWith=goog.string.internal.endsWith,goog.string.caseInsensitiveStartsWith=goog.string.internal.caseInsensitiveStartsWith,goog.string.caseInsensitiveEndsWith=goog.string.internal.caseInsensitiveEndsWith,goog.string.caseInsensitiveEquals=goog.string.internal.caseInsensitiveEquals,goog.string.subs=function(e,t){for(var r=e.split("%s"),n="",o=Array.prototype.slice.call(arguments,1);o.length&&1<r.length;)n+=r.shift()+o.shift();return n+r.join("%s")},goog.string.collapseWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=goog.string.internal.isEmptyOrWhitespace,goog.string.isEmptyString=function(e){return 0==e.length},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(e){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(e))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(e){return!/[^\t\n\r ]/.test(e)},goog.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)},goog.string.isNumeric=function(e){return!/[^0-9]/.test(e)},goog.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)},goog.string.isSpace=function(e){return" "==e},goog.string.isUnicodeChar=function(e){return 1==e.length&&" "<=e&&"~">=e||""<=e&&"">=e},goog.string.stripNewlines=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(e){return e.replace(/(\r\n|\r|\n)/g,"\n")},goog.string.normalizeWhitespace=function(e){return e.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(e){return e.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.string.internal.trim,goog.string.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=goog.string.internal.caseInsensitiveCompare,goog.string.numberAwareCompare_=function(e,t,r){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var n=e.toLowerCase().match(r),o=t.toLowerCase().match(r),i=Math.min(n.length,o.length),s=0;s<i;s++){r=n[s];var a=o[s];if(r!=a)return e=parseInt(r,10),!isNaN(e)&&(t=parseInt(a,10),!isNaN(t)&&e-t)?e-t:r<a?-1:1}return n.length!=o.length?n.length-o.length:e<t?-1:1},goog.string.intAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\D+/g)},goog.string.floatAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(e){return encodeURIComponent(String(e))},goog.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))},goog.string.newLineToBr=goog.string.internal.newLineToBr,goog.string.htmlEscape=function(e,t){return e=goog.string.internal.htmlEscape(e,t),goog.string.DETECT_DOUBLE_ESCAPING&&(e=e.replace(goog.string.E_RE_,"&#101;")),e},goog.string.E_RE_=/e/g,goog.string.unescapeEntities=function(e){return goog.string.contains(e,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(e):goog.string.unescapePureXmlEntities_(e):e},goog.string.unescapeEntitiesWithDocument=function(e,t){return goog.string.contains(e,"&")?goog.string.unescapeEntitiesUsingDom_(e,t):e},goog.string.unescapeEntitiesUsingDom_=function(e,t){var r={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},n=t?t.createElement("div"):goog.global.document.createElement("div");return e.replace(goog.string.HTML_ENTITY_PATTERN_,(function(e,t){var o=r[e];return o||("#"==t.charAt(0)&&(t=Number("0"+t.substr(1)),isNaN(t)||(o=String.fromCharCode(t))),o||(goog.dom.safe.setInnerHtml(n,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Single HTML entity."),e+" ")),o=n.firstChild.nodeValue.slice(0,-1)),r[e]=o)}))},goog.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,(function(e,t){switch(t){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:return"#"!=t.charAt(0)||(t=Number("0"+t.substr(1)),isNaN(t))?e:String.fromCharCode(t)}}))},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(e,t){return goog.string.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.preserveSpaces=function(e){return e.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(e,t){for(var r=t.length,n=0;n<r;n++){var o=1==r?t:t.charAt(n);if(e.charAt(0)==o&&e.charAt(e.length-1)==o)return e.substring(1,e.length-1)}return e},goog.string.truncate=function(e,t,r){return r&&(e=goog.string.unescapeEntities(e)),e.length>t&&(e=e.substring(0,t-3)+"..."),r&&(e=goog.string.htmlEscape(e)),e},goog.string.truncateMiddle=function(e,t,r,n){if(r&&(e=goog.string.unescapeEntities(e)),n&&e.length>t){n>t&&(n=t);var o=e.length-n;e=e.substring(0,t-n)+"..."+e.substring(o)}else e.length>t&&(n=Math.floor(t/2),o=e.length-n,e=e.substring(0,n+t%2)+"..."+e.substring(o));return r&&(e=goog.string.htmlEscape(e)),e},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(e){e=String(e);for(var t=['"'],r=0;r<e.length;r++){var n=e.charAt(r),o=n.charCodeAt(0);t[r+1]=goog.string.specialEscapeChars_[n]||(31<o&&127>o?n:goog.string.escapeChar(n))}return t.push('"'),t.join("")},goog.string.escapeString=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=goog.string.escapeChar(e.charAt(r));return t.join("")},goog.string.escapeChar=function(e){if(e in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[e];if(e in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[e]=goog.string.specialEscapeChars_[e];var t=e.charCodeAt(0);if(31<t&&127>t)var r=e;else 256>t?(r="\\x",(16>t||256<t)&&(r+="0")):(r="\\u",4096>t&&(r+="0")),r+=t.toString(16).toUpperCase();return goog.string.jsEscapeCache_[e]=r},goog.string.contains=goog.string.internal.contains,goog.string.caseInsensitiveContains=goog.string.internal.caseInsensitiveContains,goog.string.countOf=function(e,t){return e&&t?e.split(t).length-1:0},goog.string.removeAt=function(e,t,r){var n=e;return 0<=t&&t<e.length&&0<r&&(n=e.substr(0,t)+e.substr(t+r,e.length-t-r)),n},goog.string.remove=function(e,t){return e.replace(t,"")},goog.string.removeAll=function(e,t){return t=new RegExp(goog.string.regExpEscape(t),"g"),e.replace(t,"")},goog.string.replaceAll=function(e,t,r){return t=new RegExp(goog.string.regExpEscape(t),"g"),e.replace(t,r.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(e){return String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(e,t){return e.repeat(t)}:function(e,t){return Array(t+1).join(e)},goog.string.padNumber=function(e,t,r){return-1==(r=(e=goog.isDef(r)?e.toFixed(r):String(e)).indexOf("."))&&(r=e.length),goog.string.repeat("0",Math.max(0,t-r))+e},goog.string.makeSafe=function(e){return null==e?"":String(e)},goog.string.buildString=function(e){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=goog.string.internal.compareVersions,goog.string.hashCode=function(e){for(var t=0,r=0;r<e.length;++r)t=31*t+e.charCodeAt(r)>>>0;return t},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(e){var t=Number(e);return 0==t&&goog.string.isEmptyOrWhitespace(e)?NaN:t},goog.string.isLowerCamelCase=function(e){return/^[a-z]+([A-Z][a-z]*)*$/.test(e)},goog.string.isUpperCamelCase=function(e){return/^([A-Z][a-z]*)+$/.test(e)},goog.string.toCamelCase=function(e){return String(e).replace(/\-([a-z])/g,(function(e,t){return t.toUpperCase()}))},goog.string.toSelectorCase=function(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(e,t){return t=goog.isString(t)?goog.string.regExpEscape(t):"\\s",e.replace(new RegExp("(^"+(t?"|["+t+"]+":"")+")([a-z])","g"),(function(e,t,r){return t+r.toUpperCase()}))},goog.string.capitalize=function(e){return String(e.charAt(0)).toUpperCase()+String(e.substr(1)).toLowerCase()},goog.string.parseInt=function(e){return isFinite(e)&&(e=String(e)),goog.isString(e)?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):NaN},goog.string.splitLimit=function(e,t,r){e=e.split(t);for(var n=[];0<r&&e.length;)n.push(e.shift()),r--;return e.length&&n.push(e.join(t)),n},goog.string.lastComponent=function(e,t){if(!t)return e;"string"==typeof t&&(t=[t]);for(var r=-1,n=0;n<t.length;n++)if(""!=t[n]){var o=e.lastIndexOf(t[n]);o>r&&(r=o)}return-1==r?e:e.slice(r+1)},goog.string.editDistance=function(e,t){var r=[],n=[];if(e==t)return 0;if(!e.length||!t.length)return Math.max(e.length,t.length);for(var o=0;o<t.length+1;o++)r[o]=o;for(o=0;o<e.length;o++){n[0]=o+1;for(var i=0;i<t.length;i++)n[i+1]=Math.min(n[i]+1,r[i+1]+1,r[i]+Number(e[o]!=t[i]));for(i=0;i<r.length;i++)r[i]=n[i]}return n[t.length]},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent();if(e){e=goog.labs.userAgent.util.extractVersionTuples(e);var t,r=goog.labs.userAgent.engine.getEngineTuple_(e);if(r)return"Gecko"==r[0]?goog.labs.userAgent.engine.getVersionForKey_(e,"Firefox"):r[1];if((e=e[0])&&(t=e[2])&&(t=/Trident\/([^\s;]+)/.exec(t)))return t[1]}return""},goog.labs.userAgent.engine.getEngineTuple_=function(e){if(!goog.labs.userAgent.engine.isEdge())return e[1];for(var t=0;t<e.length;t++){var r=e[t];if("Edge"==r[0])return r}},goog.labs.userAgent.engine.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),e)},goog.labs.userAgent.engine.getVersionForKey_=function(e,t){return(e=goog.array.find(e,(function(e){return t==e[0]})))&&e[1]||""},goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.isChromecast=function(){return goog.labs.userAgent.util.matchUserAgent("CrKey")},goog.labs.userAgent.platform.isKaiOS=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("KaiOS")},goog.labs.userAgent.platform.isGo2Phone=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("GAFP")},goog.labs.userAgent.platform.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent(),t="";return goog.labs.userAgent.platform.isWindows()?t=(e=(t=/Windows (?:NT|Phone) ([0-9.]+)/).exec(e))?e[1]:"0.0":goog.labs.userAgent.platform.isIos()?t=(e=(t=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/).exec(e))&&e[1].replace(/_/g,"."):goog.labs.userAgent.platform.isMacintosh()?t=(e=(t=/Mac OS X ([0-9_.]+)/).exec(e))?e[1].replace(/_/g,"."):"10":goog.labs.userAgent.platform.isKaiOS()?t=(e=(t=/(?:KaiOS)\/(\S+)/i).exec(e))&&e[1]:goog.labs.userAgent.platform.isAndroid()?t=(e=(t=/Android\s+([^\);]+)(\)|;)/).exec(e))&&e[1]:goog.labs.userAgent.platform.isChromeOS()&&(t=(e=(t=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/).exec(e))&&e[1]),t||""},goog.labs.userAgent.platform.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),e)},goog.reflect={},goog.reflect.object=function(e,t){return t},goog.reflect.objectProperty=function(e,t){return e},goog.reflect.sinkValue=function(e){return goog.reflect.sinkValue[" "](e),e},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(e,t){try{return goog.reflect.sinkValue(e[t]),!0}catch(e){}return!1},goog.reflect.cache=function(e,t,r,n){return n=n?n(t):t,Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=r(t)},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null},goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var e=goog.userAgent.getNavigatorTyped();return e&&e.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.ASSUME_IPOD=!1,goog.userAgent.ASSUME_KAIOS=!1,goog.userAgent.ASSUME_GO2PHONE=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var e=goog.userAgent.getNavigatorTyped();return!!e&&goog.string.contains(e.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod(),goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos(),goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:goog.labs.userAgent.platform.isKaiOS(),goog.userAgent.GO2PHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_GO2PHONE:goog.labs.userAgent.platform.isGo2Phone(),goog.userAgent.determineVersion_=function(){var e="",t=goog.userAgent.getVersionRegexResult_();return t&&(e=t?t[1]:""),goog.userAgent.IE&&(null!=(t=goog.userAgent.getDocumentMode_())&&t>parseFloat(e))?String(t):e},goog.userAgent.getVersionRegexResult_=function(){var e=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv:([^\);]+)(\)|;)/.exec(e):goog.userAgent.EDGE?/Edge\/([\d\.]+)/.exec(e):goog.userAgent.IE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):goog.userAgent.WEBKIT?/WebKit\/(\S+)/.exec(e):goog.userAgent.OPERA?/(?:Version)[ \/]?(\S+)/.exec(e):void 0},goog.userAgent.getDocumentMode_=function(){var e=goog.global.document;return e?e.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(e,t){return goog.string.compareVersions(e,t)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(e){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,e,(function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,e)}))},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(e){return Number(goog.userAgent.DOCUMENT_MODE)>=e},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){if(goog.global.document&&goog.userAgent.IE)return goog.userAgent.getDocumentMode_()}(),goog.userAgent.product={},goog.userAgent.product.ASSUME_FIREFOX=!1,goog.userAgent.product.ASSUME_IPHONE=!1,goog.userAgent.product.ASSUME_IPAD=!1,goog.userAgent.product.ASSUME_ANDROID=!1,goog.userAgent.product.ASSUME_CHROME=!1,goog.userAgent.product.ASSUME_SAFARI=!1,goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI,goog.userAgent.product.OPERA=goog.userAgent.OPERA,goog.userAgent.product.IE=goog.userAgent.IE,goog.userAgent.product.EDGE=goog.userAgent.EDGE,goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.labs.userAgent.browser.isFirefox(),goog.userAgent.product.isIphoneOrIpod_=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpod()},goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_(),goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.labs.userAgent.browser.isAndroidBrowser(),goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.labs.userAgent.browser.isChrome(),goog.userAgent.product.isSafariDesktop_=function(){return goog.labs.userAgent.browser.isSafari()&&!goog.labs.userAgent.platform.isIos()},goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_(),goog.crypt.base64={},goog.crypt.base64.DEFAULT_ALPHABET_COMMON_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"+/=",goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"-_.",goog.crypt.base64.Alphabet={DEFAULT:0,NO_PADDING:1,WEBSAFE:2,WEBSAFE_DOT_PADDING:3,WEBSAFE_NO_PADDING:4},goog.crypt.base64.paddingChars_="=.",goog.crypt.base64.isPadding_=function(e){return goog.string.contains(goog.crypt.base64.paddingChars_,e)},goog.crypt.base64.byteToCharMaps_={};goog.crypt.base64.charToByteMap_=null,goog.crypt.base64.ASSUME_NATIVE_SUPPORT_=goog.userAgent.GECKO||goog.userAgent.WEBKIT&&!goog.userAgent.product.SAFARI||goog.userAgent.OPERA,goog.crypt.base64.HAS_NATIVE_ENCODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||"function"==typeof goog.global.btoa,goog.crypt.base64.HAS_NATIVE_DECODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||!goog.userAgent.product.SAFARI&&!goog.userAgent.IE&&"function"==typeof goog.global.atob,goog.crypt.base64.encodeByteArray=function(e,t){goog.asserts.assert(goog.isArrayLike(e),"encodeByteArray takes an array as a parameter"),void 0===t&&(t=goog.crypt.base64.Alphabet.DEFAULT),goog.crypt.base64.init_(),t=goog.crypt.base64.byteToCharMaps_[t];for(var r=[],n=0;n<e.length;n+=3){var o=e[n],i=n+1<e.length,s=i?e[n+1]:0,a=n+2<e.length,l=a?e[n+2]:0,c=o>>2;o=(3&o)<<4|s>>4,s=(15&s)<<2|l>>6,l&=63,a||(l=64,i||(s=64)),r.push(t[c],t[o],t[s]||"",t[l]||"")}return r.join("")},goog.crypt.base64.encodeString=function(e,t){return goog.crypt.base64.HAS_NATIVE_ENCODE_&&!t?goog.global.btoa(e):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(e),t)},goog.crypt.base64.decodeString=function(e,t){if(goog.crypt.base64.HAS_NATIVE_DECODE_&&!t)return goog.global.atob(e);var r="";return goog.crypt.base64.decodeStringInternal_(e,(function(e){r+=String.fromCharCode(e)})),r},goog.crypt.base64.decodeStringToByteArray=function(e,t){var r=[];return goog.crypt.base64.decodeStringInternal_(e,(function(e){r.push(e)})),r},goog.crypt.base64.decodeStringToUint8Array=function(e){goog.asserts.assert(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10"),"Browser does not support typed arrays");var t=e.length,r=3*t/4;r%3?r=Math.floor(r):goog.crypt.base64.isPadding_(e[t-1])&&(r=goog.crypt.base64.isPadding_(e[t-2])?r-2:r-1);var n=new Uint8Array(r),o=0;return goog.crypt.base64.decodeStringInternal_(e,(function(e){n[o++]=e})),n.subarray(0,o)},goog.crypt.base64.decodeStringInternal_=function(e,t){function r(t){for(;n<e.length;){var r=e.charAt(n++),o=goog.crypt.base64.charToByteMap_[r];if(null!=o)return o;if(!goog.string.isEmptyOrWhitespace(r))throw Error("Unknown base64 encoding at char: "+r)}return t}goog.crypt.base64.init_();for(var n=0;;){var o=r(-1),i=r(0),s=r(64),a=r(64);if(64===a&&-1===o)break;t(o<<2|i>>4),64!=s&&(t(i<<4&240|s>>2),64!=a&&t(s<<6&192|a))}},goog.crypt.base64.init_=function(){if(!goog.crypt.base64.charToByteMap_){goog.crypt.base64.charToByteMap_={};for(var e=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_.split(""),t=["+/=","+/","-_=","-_.","-_"],r=0;5>r;r++){var n=e.concat(t[r].split(""));goog.crypt.base64.byteToCharMaps_[r]=n;for(var o=0;o<n.length;o++){var i=n[o],s=goog.crypt.base64.charToByteMap_[i];void 0===s?goog.crypt.base64.charToByteMap_[i]=o:goog.asserts.assert(s===o)}}}},jspb.utils={},jspb.utils.split64Low=0,jspb.utils.split64High=0,jspb.utils.splitUint64=function(e){var t=e>>>0;e=Math.floor((e-t)/jspb.BinaryConstants.TWO_TO_32)>>>0,jspb.utils.split64Low=t,jspb.utils.split64High=e},jspb.utils.splitInt64=function(e){var t=0>e,r=(e=Math.abs(e))>>>0;e=Math.floor((e-r)/jspb.BinaryConstants.TWO_TO_32),e>>>=0,t&&(e=~e>>>0,4294967295<(r=1+(~r>>>0))&&(r=0,4294967295<++e&&(e=0))),jspb.utils.split64Low=r,jspb.utils.split64High=e},jspb.utils.splitZigzag64=function(e){var t=0>e;e=2*Math.abs(e),jspb.utils.splitUint64(e),e=jspb.utils.split64Low;var r=jspb.utils.split64High;t&&(0==e?0==r?r=e=4294967295:(r--,e=4294967295):e--),jspb.utils.split64Low=e,jspb.utils.split64High=r},jspb.utils.splitFloat32=function(e){var t=0>e?1:0;if(0===(e=t?-e:e))0<1/e?(jspb.utils.split64High=0,jspb.utils.split64Low=0):(jspb.utils.split64High=0,jspb.utils.split64Low=2147483648);else if(isNaN(e))jspb.utils.split64High=0,jspb.utils.split64Low=2147483647;else if(e>jspb.BinaryConstants.FLOAT32_MAX)jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|2139095040)>>>0;else if(e<jspb.BinaryConstants.FLOAT32_MIN)e=Math.round(e/Math.pow(2,-149)),jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|e)>>>0;else{var r=Math.floor(Math.log(e)/Math.LN2);e*=Math.pow(2,-r),e=8388607&Math.round(e*jspb.BinaryConstants.TWO_TO_23),jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|r+127<<23|e)>>>0}},jspb.utils.splitFloat64=function(e){var t=0>e?1:0;if(0===(e=t?-e:e))jspb.utils.split64High=0<1/e?0:2147483648,jspb.utils.split64Low=0;else if(isNaN(e))jspb.utils.split64High=2147483647,jspb.utils.split64Low=4294967295;else if(e>jspb.BinaryConstants.FLOAT64_MAX)jspb.utils.split64High=(t<<31|2146435072)>>>0,jspb.utils.split64Low=0;else if(e<jspb.BinaryConstants.FLOAT64_MIN){var r=e/Math.pow(2,-1074);e=r/jspb.BinaryConstants.TWO_TO_32,jspb.utils.split64High=(t<<31|e)>>>0,jspb.utils.split64Low=r>>>0}else{var n=0;if(2<=(r=e))for(;2<=r&&1023>n;)n++,r/=2;else for(;1>r&&-1022<n;)r*=2,n--;e=(r=e*Math.pow(2,-n))*jspb.BinaryConstants.TWO_TO_20&1048575,r=r*jspb.BinaryConstants.TWO_TO_52>>>0,jspb.utils.split64High=(t<<31|n+1023<<20|e)>>>0,jspb.utils.split64Low=r}},jspb.utils.splitHash64=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),o=e.charCodeAt(3),i=e.charCodeAt(4),s=e.charCodeAt(5),a=e.charCodeAt(6);e=e.charCodeAt(7),jspb.utils.split64Low=t+(r<<8)+(n<<16)+(o<<24)>>>0,jspb.utils.split64High=i+(s<<8)+(a<<16)+(e<<24)>>>0},jspb.utils.joinUint64=function(e,t){return t*jspb.BinaryConstants.TWO_TO_32+(e>>>0)},jspb.utils.joinInt64=function(e,t){var r=2147483648&t;return r&&(t=~t>>>0,0==(e=1+~e>>>0)&&(t=t+1>>>0)),e=jspb.utils.joinUint64(e,t),r?-e:e},jspb.utils.toZigzag64=function(e,t,r){var n=t>>31;return r(e<<1^n,(t<<1|e>>>31)^n)},jspb.utils.joinZigzag64=function(e,t){return jspb.utils.fromZigzag64(e,t,jspb.utils.joinInt64)},jspb.utils.fromZigzag64=function(e,t,r){var n=-(1&e);return r((e>>>1|t<<31)^n,t>>>1^n)},jspb.utils.joinFloat32=function(e,t){t=2*(e>>31)+1;var r=e>>>23&255;return e&=8388607,255==r?e?NaN:1/0*t:0==r?t*Math.pow(2,-149)*e:t*Math.pow(2,r-150)*(e+Math.pow(2,23))},jspb.utils.joinFloat64=function(e,t){var r=2*(t>>31)+1,n=t>>>20&2047;return e=jspb.BinaryConstants.TWO_TO_32*(1048575&t)+e,2047==n?e?NaN:1/0*r:0==n?r*Math.pow(2,-1074)*e:r*Math.pow(2,n-1075)*(e+jspb.BinaryConstants.TWO_TO_52)},jspb.utils.joinHash64=function(e,t){return String.fromCharCode(e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255,t>>>0&255,t>>>8&255,t>>>16&255,t>>>24&255)},jspb.utils.DIGITS="0123456789abcdef".split(""),jspb.utils.ZERO_CHAR_CODE_=48,jspb.utils.A_CHAR_CODE_=97,jspb.utils.joinUnsignedDecimalString=function(e,t){function r(e,t){return e=e?String(e):"",t?"0000000".slice(e.length)+e:e}if(2097151>=t)return""+jspb.utils.joinUint64(e,t);var n=(e>>>24|t<<8)>>>0&16777215;return e=(16777215&e)+6777216*n+6710656*(t=t>>16&65535),n+=8147497*t,t*=2,1e7<=e&&(n+=Math.floor(e/1e7),e%=1e7),1e7<=n&&(t+=Math.floor(n/1e7),n%=1e7),r(t,0)+r(n,t)+r(e,1)},jspb.utils.joinSignedDecimalString=function(e,t){var r=2147483648&t;return r&&(t=~t+(0==(e=1+~e>>>0)?1:0)>>>0),e=jspb.utils.joinUnsignedDecimalString(e,t),r?"-"+e:e},jspb.utils.hash64ToDecimalString=function(e,t){jspb.utils.splitHash64(e),e=jspb.utils.split64Low;var r=jspb.utils.split64High;return t?jspb.utils.joinSignedDecimalString(e,r):jspb.utils.joinUnsignedDecimalString(e,r)},jspb.utils.hash64ArrayToDecimalStrings=function(e,t){for(var r=Array(e.length),n=0;n<e.length;n++)r[n]=jspb.utils.hash64ToDecimalString(e[n],t);return r},jspb.utils.decimalStringToHash64=function(e){function t(e,t){for(var r=0;8>r&&(1!==e||0<t);r++)t=e*n[r]+t,n[r]=255&t,t>>>=8}goog.asserts.assert(0<e.length);var r=!1;"-"===e[0]&&(r=!0,e=e.slice(1));for(var n=[0,0,0,0,0,0,0,0],o=0;o<e.length;o++)t(10,e.charCodeAt(o)-jspb.utils.ZERO_CHAR_CODE_);return r&&(function(){for(var e=0;8>e;e++)n[e]=255&~n[e]}(),t(1,1)),goog.crypt.byteArrayToString(n)},jspb.utils.splitDecimalString=function(e){jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(e))},jspb.utils.toHexDigit_=function(e){return String.fromCharCode(10>e?jspb.utils.ZERO_CHAR_CODE_+e:jspb.utils.A_CHAR_CODE_-10+e)},jspb.utils.fromHexCharCode_=function(e){return e>=jspb.utils.A_CHAR_CODE_?e-jspb.utils.A_CHAR_CODE_+10:e-jspb.utils.ZERO_CHAR_CODE_},jspb.utils.hash64ToHexString=function(e){var t=Array(18);t[0]="0",t[1]="x";for(var r=0;8>r;r++){var n=e.charCodeAt(7-r);t[2*r+2]=jspb.utils.toHexDigit_(n>>4),t[2*r+3]=jspb.utils.toHexDigit_(15&n)}return t.join("")},jspb.utils.hexStringToHash64=function(e){e=e.toLowerCase(),goog.asserts.assert(18==e.length),goog.asserts.assert("0"==e[0]),goog.asserts.assert("x"==e[1]);for(var t="",r=0;8>r;r++){var n=jspb.utils.fromHexCharCode_(e.charCodeAt(2*r+2)),o=jspb.utils.fromHexCharCode_(e.charCodeAt(2*r+3));t=String.fromCharCode(16*n+o)+t}return t},jspb.utils.hash64ToNumber=function(e,t){jspb.utils.splitHash64(e),e=jspb.utils.split64Low;var r=jspb.utils.split64High;return t?jspb.utils.joinInt64(e,r):jspb.utils.joinUint64(e,r)},jspb.utils.numberToHash64=function(e){return jspb.utils.splitInt64(e),jspb.utils.joinHash64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.utils.countVarints=function(e,t,r){for(var n=0,o=t;o<r;o++)n+=e[o]>>7;return r-t-n},jspb.utils.countVarintFields=function(e,t,r,n){var o=0;if(128>(n=8*n+jspb.BinaryConstants.WireType.VARINT))for(;t<r&&e[t++]==n;)for(o++;;){var i=e[t++];if(0==(128&i))break}else for(;t<r;){for(i=n;128<i;){if(e[t]!=(127&i|128))return o;t++,i>>=7}if(e[t++]!=i)break;for(o++;0!=(128&(i=e[t++])););}return o},jspb.utils.countFixedFields_=function(e,t,r,n,o){var i=0;if(128>n)for(;t<r&&e[t++]==n;)i++,t+=o;else for(;t<r;){for(var s=n;128<s;){if(e[t++]!=(127&s|128))return i;s>>=7}if(e[t++]!=s)break;i++,t+=o}return i},jspb.utils.countFixed32Fields=function(e,t,r,n){return jspb.utils.countFixedFields_(e,t,r,8*n+jspb.BinaryConstants.WireType.FIXED32,4)},jspb.utils.countFixed64Fields=function(e,t,r,n){return jspb.utils.countFixedFields_(e,t,r,8*n+jspb.BinaryConstants.WireType.FIXED64,8)},jspb.utils.countDelimitedFields=function(e,t,r,n){var o=0;for(n=8*n+jspb.BinaryConstants.WireType.DELIMITED;t<r;){for(var i=n;128<i;){if(e[t++]!=(127&i|128))return o;i>>=7}if(e[t++]!=i)break;o++;for(var s=0,a=1;s+=(127&(i=e[t++]))*a,a*=128,0!=(128&i););t+=s}return o},jspb.utils.debugBytesToTextFormat=function(e){var t='"';if(e){e=jspb.utils.byteSourceToUint8Array(e);for(var r=0;r<e.length;r++)t+="\\x",16>e[r]&&(t+="0"),t+=e[r].toString(16)}return t+'"'},jspb.utils.debugScalarToTextFormat=function(e){return"string"==typeof e?goog.string.quote(e):e.toString()},jspb.utils.stringToByteArray=function(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++){var n=e.charCodeAt(r);if(255<n)throw Error("Conversion error: string contains codepoint outside of byte range");t[r]=n}return t},jspb.utils.byteSourceToUint8Array=function(e){return e.constructor===Uint8Array?e:e.constructor===ArrayBuffer||"undefined"!=typeof Buffer&&e.constructor===Buffer||e.constructor===Array?new Uint8Array(e):e.constructor===String?goog.crypt.base64.decodeStringToUint8Array(e):(goog.asserts.fail("Type not convertible to Uint8Array."),new Uint8Array(0))},jspb.BinaryDecoder=function(e,t,r){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1,e&&this.setBlock(e,t,r)},jspb.BinaryDecoder.instanceCache_=[],jspb.BinaryDecoder.alloc=function(e,t,r){if(jspb.BinaryDecoder.instanceCache_.length){var n=jspb.BinaryDecoder.instanceCache_.pop();return e&&n.setBlock(e,t,r),n}return new jspb.BinaryDecoder(e,t,r)},jspb.BinaryDecoder.prototype.free=function(){this.clear(),100>jspb.BinaryDecoder.instanceCache_.length&&jspb.BinaryDecoder.instanceCache_.push(this)},jspb.BinaryDecoder.prototype.clone=function(){return jspb.BinaryDecoder.alloc(this.bytes_,this.start_,this.end_-this.start_)},jspb.BinaryDecoder.prototype.clear=function(){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1},jspb.BinaryDecoder.prototype.getBuffer=function(){return this.bytes_},jspb.BinaryDecoder.prototype.setBlock=function(e,t,r){this.bytes_=jspb.utils.byteSourceToUint8Array(e),this.start_=void 0!==t?t:0,this.end_=void 0!==r?this.start_+r:this.bytes_.length,this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getEnd=function(){return this.end_},jspb.BinaryDecoder.prototype.setEnd=function(e){this.end_=e},jspb.BinaryDecoder.prototype.reset=function(){this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getCursor=function(){return this.cursor_},jspb.BinaryDecoder.prototype.setCursor=function(e){this.cursor_=e},jspb.BinaryDecoder.prototype.advance=function(e){this.cursor_+=e,goog.asserts.assert(this.cursor_<=this.end_)},jspb.BinaryDecoder.prototype.atEnd=function(){return this.cursor_==this.end_},jspb.BinaryDecoder.prototype.pastEnd=function(){return this.cursor_>this.end_},jspb.BinaryDecoder.prototype.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_},jspb.BinaryDecoder.prototype.readSplitVarint64=function(e){for(var t=128,r=0,n=0,o=0;4>o&&128<=t;o++)r|=(127&(t=this.bytes_[this.cursor_++]))<<7*o;if(128<=t&&(r|=(127&(t=this.bytes_[this.cursor_++]))<<28,n|=(127&t)>>4),128<=t)for(o=0;5>o&&128<=t;o++)n|=(127&(t=this.bytes_[this.cursor_++]))<<7*o+3;if(128>t)return e(r>>>0,n>>>0);goog.asserts.fail("Failed to read varint, encoding is invalid."),this.error_=!0},jspb.BinaryDecoder.prototype.readSplitZigzagVarint64=function(e){return this.readSplitVarint64((function(t,r){return jspb.utils.fromZigzag64(t,r,e)}))},jspb.BinaryDecoder.prototype.readSplitFixed64=function(e){var t=this.bytes_,r=this.cursor_;this.cursor_+=8;for(var n=0,o=0,i=r+7;i>=r;i--)n=n<<8|t[i],o=o<<8|t[i+4];return e(n,o)},jspb.BinaryDecoder.prototype.skipVarint=function(){for(;128&this.bytes_[this.cursor_];)this.cursor_++;this.cursor_++},jspb.BinaryDecoder.prototype.unskipVarint=function(e){for(;128<e;)this.cursor_--,e>>>=7;this.cursor_--},jspb.BinaryDecoder.prototype.readUnsignedVarint32=function(){var e=this.bytes_,t=e[this.cursor_+0],r=127&t;return 128>t?(this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),r):(r|=(127&(t=e[this.cursor_+1]))<<7,128>t?(this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),r):(r|=(127&(t=e[this.cursor_+2]))<<14,128>t?(this.cursor_+=3,goog.asserts.assert(this.cursor_<=this.end_),r):(r|=(127&(t=e[this.cursor_+3]))<<21,128>t?(this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),r):(r|=(15&(t=e[this.cursor_+4]))<<28,128>t?(this.cursor_+=5,goog.asserts.assert(this.cursor_<=this.end_),r>>>0):(this.cursor_+=5,128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&goog.asserts.assert(!1),goog.asserts.assert(this.cursor_<=this.end_),r)))))},jspb.BinaryDecoder.prototype.readSignedVarint32=jspb.BinaryDecoder.prototype.readUnsignedVarint32,jspb.BinaryDecoder.prototype.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()},jspb.BinaryDecoder.prototype.readSignedVarint32String=function(){return this.readSignedVarint32().toString()},jspb.BinaryDecoder.prototype.readZigzagVarint32=function(){var e=this.readUnsignedVarint32();return e>>>1^-(1&e)},jspb.BinaryDecoder.prototype.readUnsignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinUint64)},jspb.BinaryDecoder.prototype.readUnsignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinUnsignedDecimalString)},jspb.BinaryDecoder.prototype.readSignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinInt64)},jspb.BinaryDecoder.prototype.readSignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readZigzagVarint64=function(){return this.readSplitVarint64(jspb.utils.joinZigzag64)},jspb.BinaryDecoder.prototype.readZigzagVarintHash64=function(){return this.readSplitZigzagVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readZigzagVarint64String=function(){return this.readSplitZigzagVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readUint8=function(){var e=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),e},jspb.BinaryDecoder.prototype.readUint16=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),e<<0|t<<8},jspb.BinaryDecoder.prototype.readUint32=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1],r=this.bytes_[this.cursor_+2],n=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),(e<<0|t<<8|r<<16|n<<24)>>>0},jspb.BinaryDecoder.prototype.readUint64=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinUint64(e,t)},jspb.BinaryDecoder.prototype.readUint64String=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinUnsignedDecimalString(e,t)},jspb.BinaryDecoder.prototype.readInt8=function(){var e=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),e<<24>>24},jspb.BinaryDecoder.prototype.readInt16=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),(e<<0|t<<8)<<16>>16},jspb.BinaryDecoder.prototype.readInt32=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1],r=this.bytes_[this.cursor_+2],n=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),e<<0|t<<8|r<<16|n<<24},jspb.BinaryDecoder.prototype.readInt64=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinInt64(e,t)},jspb.BinaryDecoder.prototype.readInt64String=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinSignedDecimalString(e,t)},jspb.BinaryDecoder.prototype.readFloat=function(){var e=this.readUint32();return jspb.utils.joinFloat32(e,0)},jspb.BinaryDecoder.prototype.readDouble=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinFloat64(e,t)},jspb.BinaryDecoder.prototype.readBool=function(){return!!this.bytes_[this.cursor_++]},jspb.BinaryDecoder.prototype.readEnum=function(){return this.readSignedVarint32()},jspb.BinaryDecoder.prototype.readString=function(e){var t=this.bytes_,r=this.cursor_;e=r+e;for(var n=[],o="";r<e;){var i=t[r++];if(128>i)n.push(i);else{if(192>i)continue;if(224>i){var s=t[r++];n.push((31&i)<<6|63&s)}else if(240>i){s=t[r++];var a=t[r++];n.push((15&i)<<12|(63&s)<<6|63&a)}else if(248>i){i=(7&i)<<18|(63&(s=t[r++]))<<12|(63&(a=t[r++]))<<6|63&t[r++],i-=65536,n.push(55296+(i>>10&1023),56320+(1023&i))}}8192<=n.length&&(o+=String.fromCharCode.apply(null,n),n.length=0)}return o+=goog.crypt.byteArrayToString(n),this.cursor_=r,o},jspb.BinaryDecoder.prototype.readStringWithLength=function(){var e=this.readUnsignedVarint32();return this.readString(e)},jspb.BinaryDecoder.prototype.readBytes=function(e){if(0>e||this.cursor_+e>this.bytes_.length)return this.error_=!0,goog.asserts.fail("Invalid byte length!"),new Uint8Array(0);var t=this.bytes_.subarray(this.cursor_,this.cursor_+e);return this.cursor_+=e,goog.asserts.assert(this.cursor_<=this.end_),t},jspb.BinaryDecoder.prototype.readVarintHash64=function(){return this.readSplitVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readFixedHash64=function(){var e=this.bytes_,t=this.cursor_,r=e[t+0],n=e[t+1],o=e[t+2],i=e[t+3],s=e[t+4],a=e[t+5],l=e[t+6];return e=e[t+7],this.cursor_+=8,String.fromCharCode(r,n,o,i,s,a,l,e)},jspb.BinaryReader=function(e,t,r){this.decoder_=jspb.BinaryDecoder.alloc(e,t,r),this.fieldCursor_=this.decoder_.getCursor(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null},jspb.BinaryReader.instanceCache_=[],jspb.BinaryReader.alloc=function(e,t,r){if(jspb.BinaryReader.instanceCache_.length){var n=jspb.BinaryReader.instanceCache_.pop();return e&&n.decoder_.setBlock(e,t,r),n}return new jspb.BinaryReader(e,t,r)},jspb.BinaryReader.prototype.alloc=jspb.BinaryReader.alloc,jspb.BinaryReader.prototype.free=function(){this.decoder_.clear(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null,100>jspb.BinaryReader.instanceCache_.length&&jspb.BinaryReader.instanceCache_.push(this)},jspb.BinaryReader.prototype.getFieldCursor=function(){return this.fieldCursor_},jspb.BinaryReader.prototype.getCursor=function(){return this.decoder_.getCursor()},jspb.BinaryReader.prototype.getBuffer=function(){return this.decoder_.getBuffer()},jspb.BinaryReader.prototype.getFieldNumber=function(){return this.nextField_},jspb.BinaryReader.prototype.getWireType=function(){return this.nextWireType_},jspb.BinaryReader.prototype.isDelimited=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED},jspb.BinaryReader.prototype.isEndGroup=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP},jspb.BinaryReader.prototype.getError=function(){return this.error_||this.decoder_.getError()},jspb.BinaryReader.prototype.setBlock=function(e,t,r){this.decoder_.setBlock(e,t,r),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.reset=function(){this.decoder_.reset(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.advance=function(e){this.decoder_.advance(e)},jspb.BinaryReader.prototype.nextField=function(){if(this.decoder_.atEnd())return!1;if(this.getError())return goog.asserts.fail("Decoder hit an error"),!1;this.fieldCursor_=this.decoder_.getCursor();var e=this.decoder_.readUnsignedVarint32(),t=e>>>3;return(e&=7)!=jspb.BinaryConstants.WireType.VARINT&&e!=jspb.BinaryConstants.WireType.FIXED32&&e!=jspb.BinaryConstants.WireType.FIXED64&&e!=jspb.BinaryConstants.WireType.DELIMITED&&e!=jspb.BinaryConstants.WireType.START_GROUP&&e!=jspb.BinaryConstants.WireType.END_GROUP?(goog.asserts.fail("Invalid wire type: %s (at position %s)",e,this.fieldCursor_),this.error_=!0,!1):(this.nextField_=t,this.nextWireType_=e,!0)},jspb.BinaryReader.prototype.unskipHeader=function(){this.decoder_.unskipVarint(this.nextField_<<3|this.nextWireType_)},jspb.BinaryReader.prototype.skipMatchingFields=function(){var e=this.nextField_;for(this.unskipHeader();this.nextField()&&this.getFieldNumber()==e;)this.skipField();this.decoder_.atEnd()||this.unskipHeader()},jspb.BinaryReader.prototype.skipVarintField=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.VARINT?(goog.asserts.fail("Invalid wire type for skipVarintField"),this.skipField()):this.decoder_.skipVarint()},jspb.BinaryReader.prototype.skipDelimitedField=function(){if(this.nextWireType_!=jspb.BinaryConstants.WireType.DELIMITED)goog.asserts.fail("Invalid wire type for skipDelimitedField"),this.skipField();else{var e=this.decoder_.readUnsignedVarint32();this.decoder_.advance(e)}},jspb.BinaryReader.prototype.skipFixed32Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED32?(goog.asserts.fail("Invalid wire type for skipFixed32Field"),this.skipField()):this.decoder_.advance(4)},jspb.BinaryReader.prototype.skipFixed64Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED64?(goog.asserts.fail("Invalid wire type for skipFixed64Field"),this.skipField()):this.decoder_.advance(8)},jspb.BinaryReader.prototype.skipGroup=function(){for(var e=this.nextField_;;){if(!this.nextField()){goog.asserts.fail("Unmatched start-group tag: stream EOF"),this.error_=!0;break}if(this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP){this.nextField_!=e&&(goog.asserts.fail("Unmatched end-group tag"),this.error_=!0);break}this.skipField()}},jspb.BinaryReader.prototype.skipField=function(){switch(this.nextWireType_){case jspb.BinaryConstants.WireType.VARINT:this.skipVarintField();break;case jspb.BinaryConstants.WireType.FIXED64:this.skipFixed64Field();break;case jspb.BinaryConstants.WireType.DELIMITED:this.skipDelimitedField();break;case jspb.BinaryConstants.WireType.FIXED32:this.skipFixed32Field();break;case jspb.BinaryConstants.WireType.START_GROUP:this.skipGroup();break;default:goog.asserts.fail("Invalid wire encoding for field.")}},jspb.BinaryReader.prototype.registerReadCallback=function(e,t){null===this.readCallbacks_&&(this.readCallbacks_={}),goog.asserts.assert(!this.readCallbacks_[e]),this.readCallbacks_[e]=t},jspb.BinaryReader.prototype.runReadCallback=function(e){return goog.asserts.assert(null!==this.readCallbacks_),e=this.readCallbacks_[e],goog.asserts.assert(e),e(this)},jspb.BinaryReader.prototype.readAny=function(e){this.nextWireType_=jspb.BinaryConstants.FieldTypeToWireType(e);var t=jspb.BinaryConstants.FieldType;switch(e){case t.DOUBLE:return this.readDouble();case t.FLOAT:return this.readFloat();case t.INT64:return this.readInt64();case t.UINT64:return this.readUint64();case t.INT32:return this.readInt32();case t.FIXED64:return this.readFixed64();case t.FIXED32:return this.readFixed32();case t.BOOL:return this.readBool();case t.STRING:return this.readString();case t.GROUP:goog.asserts.fail("Group field type not supported in readAny()");case t.MESSAGE:goog.asserts.fail("Message field type not supported in readAny()");case t.BYTES:return this.readBytes();case t.UINT32:return this.readUint32();case t.ENUM:return this.readEnum();case t.SFIXED32:return this.readSfixed32();case t.SFIXED64:return this.readSfixed64();case t.SINT32:return this.readSint32();case t.SINT64:return this.readSint64();case t.FHASH64:return this.readFixedHash64();case t.VHASH64:return this.readVarintHash64();default:goog.asserts.fail("Invalid field type in readAny()")}return 0},jspb.BinaryReader.prototype.readMessage=function(e,t){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var r=this.decoder_.getEnd(),n=this.decoder_.readUnsignedVarint32();n=this.decoder_.getCursor()+n,this.decoder_.setEnd(n),t(e,this),this.decoder_.setCursor(n),this.decoder_.setEnd(r)},jspb.BinaryReader.prototype.readGroup=function(e,t,r){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.START_GROUP),goog.asserts.assert(this.nextField_==e),r(t,this),this.error_||this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP||(goog.asserts.fail("Group submessage did not end with an END_GROUP tag"),this.error_=!0)},jspb.BinaryReader.prototype.getFieldDecoder=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32(),t=this.decoder_.getCursor(),r=t+e;return e=jspb.BinaryDecoder.alloc(this.decoder_.getBuffer(),t,e),this.decoder_.setCursor(r),e},jspb.BinaryReader.prototype.readInt32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32()},jspb.BinaryReader.prototype.readInt32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32String()},jspb.BinaryReader.prototype.readInt64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readInt64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64String()},jspb.BinaryReader.prototype.readUint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readUint32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32String()},jspb.BinaryReader.prototype.readUint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64()},jspb.BinaryReader.prototype.readUint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64String()},jspb.BinaryReader.prototype.readSint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint32()},jspb.BinaryReader.prototype.readSint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64()},jspb.BinaryReader.prototype.readSint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64String()},jspb.BinaryReader.prototype.readFixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readUint32()},jspb.BinaryReader.prototype.readFixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64()},jspb.BinaryReader.prototype.readFixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64String()},jspb.BinaryReader.prototype.readSfixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32()},jspb.BinaryReader.prototype.readSfixed32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32().toString()},jspb.BinaryReader.prototype.readSfixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64()},jspb.BinaryReader.prototype.readSfixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64String()},jspb.BinaryReader.prototype.readFloat=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readFloat()},jspb.BinaryReader.prototype.readDouble=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readDouble()},jspb.BinaryReader.prototype.readBool=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),!!this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readEnum=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readString=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(e)},jspb.BinaryReader.prototype.readBytes=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(e)},jspb.BinaryReader.prototype.readVarintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readVarintHash64()},jspb.BinaryReader.prototype.readSintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarintHash64()},jspb.BinaryReader.prototype.readSplitVarint64=function(e){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(e)},jspb.BinaryReader.prototype.readSplitZigzagVarint64=function(e){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64((function(t,r){return jspb.utils.fromZigzag64(t,r,e)}))},jspb.BinaryReader.prototype.readFixedHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readFixedHash64()},jspb.BinaryReader.prototype.readSplitFixed64=function(e){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readSplitFixed64(e)},jspb.BinaryReader.prototype.readPackedField_=function(e){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var t=this.decoder_.readUnsignedVarint32();t=this.decoder_.getCursor()+t;for(var r=[];this.decoder_.getCursor()<t;)r.push(e.call(this.decoder_));return r},jspb.BinaryReader.prototype.readPackedInt32=function(){return this.readPackedField_(this.decoder_.readSignedVarint32)},jspb.BinaryReader.prototype.readPackedInt32String=function(){return this.readPackedField_(this.decoder_.readSignedVarint32String)},jspb.BinaryReader.prototype.readPackedInt64=function(){return this.readPackedField_(this.decoder_.readSignedVarint64)},jspb.BinaryReader.prototype.readPackedInt64String=function(){return this.readPackedField_(this.decoder_.readSignedVarint64String)},jspb.BinaryReader.prototype.readPackedUint32=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32)},jspb.BinaryReader.prototype.readPackedUint32String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32String)},jspb.BinaryReader.prototype.readPackedUint64=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64)},jspb.BinaryReader.prototype.readPackedUint64String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64String)},jspb.BinaryReader.prototype.readPackedSint32=function(){return this.readPackedField_(this.decoder_.readZigzagVarint32)},jspb.BinaryReader.prototype.readPackedSint64=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64)},jspb.BinaryReader.prototype.readPackedSint64String=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64String)},jspb.BinaryReader.prototype.readPackedFixed32=function(){return this.readPackedField_(this.decoder_.readUint32)},jspb.BinaryReader.prototype.readPackedFixed64=function(){return this.readPackedField_(this.decoder_.readUint64)},jspb.BinaryReader.prototype.readPackedFixed64String=function(){return this.readPackedField_(this.decoder_.readUint64String)},jspb.BinaryReader.prototype.readPackedSfixed32=function(){return this.readPackedField_(this.decoder_.readInt32)},jspb.BinaryReader.prototype.readPackedSfixed64=function(){return this.readPackedField_(this.decoder_.readInt64)},jspb.BinaryReader.prototype.readPackedSfixed64String=function(){return this.readPackedField_(this.decoder_.readInt64String)},jspb.BinaryReader.prototype.readPackedFloat=function(){return this.readPackedField_(this.decoder_.readFloat)},jspb.BinaryReader.prototype.readPackedDouble=function(){return this.readPackedField_(this.decoder_.readDouble)},jspb.BinaryReader.prototype.readPackedBool=function(){return this.readPackedField_(this.decoder_.readBool)},jspb.BinaryReader.prototype.readPackedEnum=function(){return this.readPackedField_(this.decoder_.readEnum)},jspb.BinaryReader.prototype.readPackedVarintHash64=function(){return this.readPackedField_(this.decoder_.readVarintHash64)},jspb.BinaryReader.prototype.readPackedFixedHash64=function(){return this.readPackedField_(this.decoder_.readFixedHash64)},jspb.BinaryEncoder=function(){this.buffer_=[]},jspb.BinaryEncoder.prototype.length=function(){return this.buffer_.length},jspb.BinaryEncoder.prototype.end=function(){var e=this.buffer_;return this.buffer_=[],e},jspb.BinaryEncoder.prototype.writeSplitVarint64=function(e,t){for(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32);0<t||127<e;)this.buffer_.push(127&e|128),e=(e>>>7|t<<25)>>>0,t>>>=7;this.buffer_.push(e)},jspb.BinaryEncoder.prototype.writeSplitFixed64=function(e,t){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUint32(e),this.writeUint32(t)},jspb.BinaryEncoder.prototype.writeUnsignedVarint32=function(e){for(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32);127<e;)this.buffer_.push(127&e|128),e>>>=7;this.buffer_.push(e)},jspb.BinaryEncoder.prototype.writeSignedVarint32=function(e){if(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),0<=e)this.writeUnsignedVarint32(e);else{for(var t=0;9>t;t++)this.buffer_.push(127&e|128),e>>=7;this.buffer_.push(1)}},jspb.BinaryEncoder.prototype.writeUnsignedVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitInt64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeSignedVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeUnsignedVarint32((e<<1^e>>31)>>>0)},jspb.BinaryEncoder.prototype.writeZigzagVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitZigzag64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint64String=function(e){this.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(e))},jspb.BinaryEncoder.prototype.writeZigzagVarintHash64=function(e){var t=this;jspb.utils.splitHash64(e),jspb.utils.toZigzag64(jspb.utils.split64Low,jspb.utils.split64High,(function(e,r){t.writeSplitVarint64(e>>>0,r>>>0)}))},jspb.BinaryEncoder.prototype.writeUint8=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&256>e),this.buffer_.push(e>>>0&255)},jspb.BinaryEncoder.prototype.writeUint16=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&65536>e),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255)},jspb.BinaryEncoder.prototype.writeUint32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255),this.buffer_.push(e>>>16&255),this.buffer_.push(e>>>24&255)},jspb.BinaryEncoder.prototype.writeUint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitUint64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt8=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(-128<=e&&128>e),this.buffer_.push(e>>>0&255)},jspb.BinaryEncoder.prototype.writeInt16=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(-32768<=e&&32768>e),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255)},jspb.BinaryEncoder.prototype.writeInt32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255),this.buffer_.push(e>>>16&255),this.buffer_.push(e>>>24&255)},jspb.BinaryEncoder.prototype.writeInt64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(e),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt64String=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(+e>=-jspb.BinaryConstants.TWO_TO_63&&+e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(e)),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFloat=function(e){goog.asserts.assert(1/0===e||-1/0===e||isNaN(e)||e>=-jspb.BinaryConstants.FLOAT32_MAX&&e<=jspb.BinaryConstants.FLOAT32_MAX),jspb.utils.splitFloat32(e),this.writeUint32(jspb.utils.split64Low)},jspb.BinaryEncoder.prototype.writeDouble=function(e){goog.asserts.assert(1/0===e||-1/0===e||isNaN(e)||e>=-jspb.BinaryConstants.FLOAT64_MAX&&e<=jspb.BinaryConstants.FLOAT64_MAX),jspb.utils.splitFloat64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeBool=function(e){goog.asserts.assert("boolean"==typeof e||"number"==typeof e),this.buffer_.push(e?1:0)},jspb.BinaryEncoder.prototype.writeEnum=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32(e)},jspb.BinaryEncoder.prototype.writeBytes=function(e){this.buffer_.push.apply(this.buffer_,e)},jspb.BinaryEncoder.prototype.writeVarintHash64=function(e){jspb.utils.splitHash64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFixedHash64=function(e){jspb.utils.splitHash64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeString=function(e){for(var t=this.buffer_.length,r=0;r<e.length;r++){var n=e.charCodeAt(r);if(128>n)this.buffer_.push(n);else if(2048>n)this.buffer_.push(n>>6|192),this.buffer_.push(63&n|128);else if(65536>n)if(55296<=n&&56319>=n&&r+1<e.length){var o=e.charCodeAt(r+1);56320<=o&&57343>=o&&(n=1024*(n-55296)+o-56320+65536,this.buffer_.push(n>>18|240),this.buffer_.push(n>>12&63|128),this.buffer_.push(n>>6&63|128),this.buffer_.push(63&n|128),r++)}else this.buffer_.push(n>>12|224),this.buffer_.push(n>>6&63|128),this.buffer_.push(63&n|128)}return this.buffer_.length-t},jspb.arith={},jspb.arith.UInt64=function(e,t){this.lo=e,this.hi=t},jspb.arith.UInt64.prototype.cmp=function(e){return this.hi<e.hi||this.hi==e.hi&&this.lo<e.lo?-1:this.hi==e.hi&&this.lo==e.lo?0:1},jspb.arith.UInt64.prototype.rightShift=function(){return new jspb.arith.UInt64((this.lo>>>1|(1&this.hi)<<31)>>>0,this.hi>>>1>>>0)},jspb.arith.UInt64.prototype.leftShift=function(){return new jspb.arith.UInt64(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},jspb.arith.UInt64.prototype.msb=function(){return!!(2147483648&this.hi)},jspb.arith.UInt64.prototype.lsb=function(){return!!(1&this.lo)},jspb.arith.UInt64.prototype.zero=function(){return 0==this.lo&&0==this.hi},jspb.arith.UInt64.prototype.add=function(e){return new jspb.arith.UInt64((this.lo+e.lo&4294967295)>>>0>>>0,((this.hi+e.hi&4294967295)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)},jspb.arith.UInt64.prototype.sub=function(e){return new jspb.arith.UInt64((this.lo-e.lo&4294967295)>>>0>>>0,((this.hi-e.hi&4294967295)>>>0)-(0>this.lo-e.lo?1:0)>>>0)},jspb.arith.UInt64.mul32x32=function(e,t){var r=65535&e,n=65535&t,o=t>>>16;for(t=r*n+65536*(r*o&65535)+65536*((e>>>=16)*n&65535),r=e*o+(r*o>>>16)+(e*n>>>16);4294967296<=t;)t-=4294967296,r+=1;return new jspb.arith.UInt64(t>>>0,r>>>0)},jspb.arith.UInt64.prototype.mul=function(e){var t=jspb.arith.UInt64.mul32x32(this.lo,e);return(e=jspb.arith.UInt64.mul32x32(this.hi,e)).hi=e.lo,e.lo=0,t.add(e)},jspb.arith.UInt64.prototype.div=function(e){if(0==e)return[];var t=new jspb.arith.UInt64(0,0),r=new jspb.arith.UInt64(this.lo,this.hi);e=new jspb.arith.UInt64(e,0);for(var n=new jspb.arith.UInt64(1,0);!e.msb();)e=e.leftShift(),n=n.leftShift();for(;!n.zero();)0>=e.cmp(r)&&(t=t.add(n),r=r.sub(e)),e=e.rightShift(),n=n.rightShift();return[t,r]},jspb.arith.UInt64.prototype.toString=function(){for(var e="",t=this;!t.zero();){var r=(t=t.div(10))[0];e=t[1].lo+e,t=r}return""==e&&(e="0"),e},jspb.arith.UInt64.fromString=function(e){for(var t=new jspb.arith.UInt64(0,0),r=new jspb.arith.UInt64(0,0),n=0;n<e.length;n++){if("0">e[n]||"9"<e[n])return null;var o=parseInt(e[n],10);r.lo=o,t=t.mul(10).add(r)}return t},jspb.arith.UInt64.prototype.clone=function(){return new jspb.arith.UInt64(this.lo,this.hi)},jspb.arith.Int64=function(e,t){this.lo=e,this.hi=t},jspb.arith.Int64.prototype.add=function(e){return new jspb.arith.Int64((this.lo+e.lo&4294967295)>>>0>>>0,((this.hi+e.hi&4294967295)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)},jspb.arith.Int64.prototype.sub=function(e){return new jspb.arith.Int64((this.lo-e.lo&4294967295)>>>0>>>0,((this.hi-e.hi&4294967295)>>>0)-(0>this.lo-e.lo?1:0)>>>0)},jspb.arith.Int64.prototype.clone=function(){return new jspb.arith.Int64(this.lo,this.hi)},jspb.arith.Int64.prototype.toString=function(){var e=0!=(2147483648&this.hi),t=new jspb.arith.UInt64(this.lo,this.hi);return e&&(t=new jspb.arith.UInt64(0,0).sub(t)),(e?"-":"")+t.toString()},jspb.arith.Int64.fromString=function(e){var t=0<e.length&&"-"==e[0];return t&&(e=e.substring(1)),null===(e=jspb.arith.UInt64.fromString(e))?null:(t&&(e=new jspb.arith.UInt64(0,0).sub(e)),new jspb.arith.Int64(e.lo,e.hi))},jspb.BinaryWriter=function(){this.blocks_=[],this.totalLength_=0,this.encoder_=new jspb.BinaryEncoder,this.bookmarks_=[]},jspb.BinaryWriter.prototype.appendUint8Array_=function(e){var t=this.encoder_.end();this.blocks_.push(t),this.blocks_.push(e),this.totalLength_+=t.length+e.length},jspb.BinaryWriter.prototype.beginDelimited_=function(e){return this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),e=this.encoder_.end(),this.blocks_.push(e),this.totalLength_+=e.length,e.push(this.totalLength_),e},jspb.BinaryWriter.prototype.endDelimited_=function(e){var t=e.pop();for(t=this.totalLength_+this.encoder_.length()-t,goog.asserts.assert(0<=t);127<t;)e.push(127&t|128),t>>>=7,this.totalLength_++;e.push(t),this.totalLength_++},jspb.BinaryWriter.prototype.writeSerializedMessage=function(e,t,r){this.appendUint8Array_(e.subarray(t,r))},jspb.BinaryWriter.prototype.maybeWriteSerializedMessage=function(e,t,r){null!=e&&null!=t&&null!=r&&this.writeSerializedMessage(e,t,r)},jspb.BinaryWriter.prototype.reset=function(){this.blocks_=[],this.encoder_.end(),this.totalLength_=0,this.bookmarks_=[]},jspb.BinaryWriter.prototype.getResultBuffer=function(){goog.asserts.assert(0==this.bookmarks_.length);for(var e=new Uint8Array(this.totalLength_+this.encoder_.length()),t=this.blocks_,r=t.length,n=0,o=0;o<r;o++){var i=t[o];e.set(i,n),n+=i.length}return t=this.encoder_.end(),e.set(t,n),n+=t.length,goog.asserts.assert(n==e.length),this.blocks_=[e],e},jspb.BinaryWriter.prototype.getResultBase64String=function(e){return goog.crypt.base64.encodeByteArray(this.getResultBuffer(),e)},jspb.BinaryWriter.prototype.beginSubMessage=function(e){this.bookmarks_.push(this.beginDelimited_(e))},jspb.BinaryWriter.prototype.endSubMessage=function(){goog.asserts.assert(0<=this.bookmarks_.length),this.endDelimited_(this.bookmarks_.pop())},jspb.BinaryWriter.prototype.writeFieldHeader_=function(e,t){goog.asserts.assert(1<=e&&e==Math.floor(e)),this.encoder_.writeUnsignedVarint32(8*e+t)},jspb.BinaryWriter.prototype.writeAny=function(e,t,r){var n=jspb.BinaryConstants.FieldType;switch(e){case n.DOUBLE:this.writeDouble(t,r);break;case n.FLOAT:this.writeFloat(t,r);break;case n.INT64:this.writeInt64(t,r);break;case n.UINT64:this.writeUint64(t,r);break;case n.INT32:this.writeInt32(t,r);break;case n.FIXED64:this.writeFixed64(t,r);break;case n.FIXED32:this.writeFixed32(t,r);break;case n.BOOL:this.writeBool(t,r);break;case n.STRING:this.writeString(t,r);break;case n.GROUP:goog.asserts.fail("Group field type not supported in writeAny()");break;case n.MESSAGE:goog.asserts.fail("Message field type not supported in writeAny()");break;case n.BYTES:this.writeBytes(t,r);break;case n.UINT32:this.writeUint32(t,r);break;case n.ENUM:this.writeEnum(t,r);break;case n.SFIXED32:this.writeSfixed32(t,r);break;case n.SFIXED64:this.writeSfixed64(t,r);break;case n.SINT32:this.writeSint32(t,r);break;case n.SINT64:this.writeSint64(t,r);break;case n.FHASH64:this.writeFixedHash64(t,r);break;case n.VHASH64:this.writeVarintHash64(t,r);break;default:goog.asserts.fail("Invalid field type in writeAny()")}},jspb.BinaryWriter.prototype.writeUnsignedVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint32(t))},jspb.BinaryWriter.prototype.writeSignedVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t))},jspb.BinaryWriter.prototype.writeUnsignedVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint64(t))},jspb.BinaryWriter.prototype.writeSignedVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint64(t))},jspb.BinaryWriter.prototype.writeZigzagVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint32(t))},jspb.BinaryWriter.prototype.writeZigzagVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64(t))},jspb.BinaryWriter.prototype.writeZigzagVarint64String_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64String(t))},jspb.BinaryWriter.prototype.writeZigzagVarintHash64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarintHash64(t))},jspb.BinaryWriter.prototype.writeInt32=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeInt32String=function(e,t){null!=t&&(t=parseInt(t,10),goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeInt64=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeSignedVarint64_(e,t))},jspb.BinaryWriter.prototype.writeInt64String=function(e,t){null!=t&&(t=jspb.arith.Int64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeUint32=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeUint32String=function(e,t){null!=t&&(t=parseInt(t,10),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeUint64=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),this.writeUnsignedVarint64_(e,t))},jspb.BinaryWriter.prototype.writeUint64String=function(e,t){null!=t&&(t=jspb.arith.UInt64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeSint32=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeZigzagVarint32_(e,t))},jspb.BinaryWriter.prototype.writeSint64=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64_(e,t))},jspb.BinaryWriter.prototype.writeSintHash64=function(e,t){null!=t&&this.writeZigzagVarintHash64_(e,t)},jspb.BinaryWriter.prototype.writeSint64String=function(e,t){null!=t&&this.writeZigzagVarint64String_(e,t)},jspb.BinaryWriter.prototype.writeFixed32=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeUint32(t))},jspb.BinaryWriter.prototype.writeFixed64=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeUint64(t))},jspb.BinaryWriter.prototype.writeFixed64String=function(e,t){null!=t&&(t=jspb.arith.UInt64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeSfixed32=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeInt32(t))},jspb.BinaryWriter.prototype.writeSfixed64=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeInt64(t))},jspb.BinaryWriter.prototype.writeSfixed64String=function(e,t){null!=t&&(t=jspb.arith.Int64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeFloat=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeFloat(t))},jspb.BinaryWriter.prototype.writeDouble=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeDouble(t))},jspb.BinaryWriter.prototype.writeBool=function(e,t){null!=t&&(goog.asserts.assert("boolean"==typeof t||"number"==typeof t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeBool(t))},jspb.BinaryWriter.prototype.writeEnum=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t))},jspb.BinaryWriter.prototype.writeString=function(e,t){null!=t&&(e=this.beginDelimited_(e),this.encoder_.writeString(t),this.endDelimited_(e))},jspb.BinaryWriter.prototype.writeBytes=function(e,t){null!=t&&(t=jspb.utils.byteSourceToUint8Array(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(t.length),this.appendUint8Array_(t))},jspb.BinaryWriter.prototype.writeMessage=function(e,t,r){null!=t&&(e=this.beginDelimited_(e),r(t,this),this.endDelimited_(e))},jspb.BinaryWriter.prototype.writeMessageSet=function(e,t,r){null!=t&&(this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.START_GROUP),this.writeFieldHeader_(2,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(e),e=this.beginDelimited_(3),r(t,this),this.endDelimited_(e),this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeGroup=function(e,t,r){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.START_GROUP),r(t,this),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeFixedHash64=function(e,t){null!=t&&(goog.asserts.assert(8==t.length),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeFixedHash64(t))},jspb.BinaryWriter.prototype.writeVarintHash64=function(e,t){null!=t&&(goog.asserts.assert(8==t.length),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeVarintHash64(t))},jspb.BinaryWriter.prototype.writeSplitFixed64=function(e,t,r){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t,r)},jspb.BinaryWriter.prototype.writeSplitVarint64=function(e,t,r){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t,r)},jspb.BinaryWriter.prototype.writeSplitZigzagVarint64=function(e,t,r){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT);var n=this.encoder_;jspb.utils.toZigzag64(t,r,(function(e,t){n.writeSplitVarint64(e>>>0,t>>>0)}))},jspb.BinaryWriter.prototype.writeRepeatedInt32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSignedVarint32_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedInt32String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeInt32String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedInt64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSignedVarint64_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSplitFixed64=function(e,t,r,n){if(null!=t)for(var o=0;o<t.length;o++)this.writeSplitFixed64(e,r(t[o]),n(t[o]))},jspb.BinaryWriter.prototype.writeRepeatedSplitVarint64=function(e,t,r,n){if(null!=t)for(var o=0;o<t.length;o++)this.writeSplitVarint64(e,r(t[o]),n(t[o]))},jspb.BinaryWriter.prototype.writeRepeatedSplitZigzagVarint64=function(e,t,r,n){if(null!=t)for(var o=0;o<t.length;o++)this.writeSplitZigzagVarint64(e,r(t[o]),n(t[o]))},jspb.BinaryWriter.prototype.writeRepeatedInt64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeInt64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUnsignedVarint32_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint32String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUint32String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUnsignedVarint64_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUint64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSint32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarint32_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSint64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarint64_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSint64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarint64String_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSintHash64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarintHash64_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFixed32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixed32(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFixed64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixed64(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFixed64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixed64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSfixed32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSfixed32(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSfixed64(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSfixed64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFloat=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFloat(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedDouble=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeDouble(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedBool=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeBool(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedEnum=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeEnum(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedString=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeString(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedBytes=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeBytes(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedMessage=function(e,t,r){if(null!=t)for(var n=0;n<t.length;n++){var o=this.beginDelimited_(e);r(t[n],this),this.endDelimited_(o)}},jspb.BinaryWriter.prototype.writeRepeatedGroup=function(e,t,r){if(null!=t)for(var n=0;n<t.length;n++)this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.START_GROUP),r(t[n],this),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.END_GROUP)},jspb.BinaryWriter.prototype.writeRepeatedFixedHash64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixedHash64(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedVarintHash64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeVarintHash64(e,t[r])},jspb.BinaryWriter.prototype.writePackedInt32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeSignedVarint32(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt32String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeSignedVarint32(parseInt(t[r],10));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeSignedVarint64(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSplitFixed64=function(e,t,r,n){if(null!=t){e=this.beginDelimited_(e);for(var o=0;o<t.length;o++)this.encoder_.writeSplitFixed64(r(t[o]),n(t[o]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSplitVarint64=function(e,t,r,n){if(null!=t){e=this.beginDelimited_(e);for(var o=0;o<t.length;o++)this.encoder_.writeSplitVarint64(r(t[o]),n(t[o]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSplitZigzagVarint64=function(e,t,r,n){if(null!=t){e=this.beginDelimited_(e);for(var o=this.encoder_,i=0;i<t.length;i++)jspb.utils.toZigzag64(r(t[i]),n(t[i]),(function(e,t){o.writeSplitVarint64(e>>>0,t>>>0)}));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++){var n=jspb.arith.Int64.fromString(t[r]);this.encoder_.writeSplitVarint64(n.lo,n.hi)}this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint32(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint32String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint32(parseInt(t[r],10));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint64(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++){var n=jspb.arith.UInt64.fromString(t[r]);this.encoder_.writeSplitVarint64(n.lo,n.hi)}this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSint32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarint32(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSint64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarint64(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSint64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(t[r]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSintHash64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarintHash64(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedFixed32=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeUint32(t[e])},jspb.BinaryWriter.prototype.writePackedFixed64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeUint64(t[e])},jspb.BinaryWriter.prototype.writePackedFixed64String=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++){var r=jspb.arith.UInt64.fromString(t[e]);this.encoder_.writeSplitFixed64(r.lo,r.hi)}},jspb.BinaryWriter.prototype.writePackedSfixed32=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeInt32(t[e])},jspb.BinaryWriter.prototype.writePackedSfixed64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeInt64(t[e])},jspb.BinaryWriter.prototype.writePackedSfixed64String=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeInt64String(t[e])},jspb.BinaryWriter.prototype.writePackedFloat=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeFloat(t[e])},jspb.BinaryWriter.prototype.writePackedDouble=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeDouble(t[e])},jspb.BinaryWriter.prototype.writePackedBool=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(t.length),e=0;e<t.length;e++)this.encoder_.writeBool(t[e])},jspb.BinaryWriter.prototype.writePackedEnum=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeEnum(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedFixedHash64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeFixedHash64(t[e])},jspb.BinaryWriter.prototype.writePackedVarintHash64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeVarintHash64(t[r]);this.endDelimited_(e)}},jspb.Map=function(e,t){this.arr_=e,this.valueCtor_=t,this.map_={},this.arrClean=!0,0<this.arr_.length&&this.loadFromArray_()},jspb.Map.prototype.loadFromArray_=function(){for(var e=0;e<this.arr_.length;e++){var t=this.arr_[e],r=t[0];this.map_[r.toString()]=new jspb.Map.Entry_(r,t[1])}this.arrClean=!0},jspb.Map.prototype.toArray=function(){if(this.arrClean){if(this.valueCtor_){var e,t=this.map_;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var r=t[e].valueWrapper;r&&r.toArray()}}}else{for(this.arr_.length=0,(t=this.stringKeys_()).sort(),e=0;e<t.length;e++){var n=this.map_[t[e]];(r=n.valueWrapper)&&r.toArray(),this.arr_.push([n.key,n.value])}this.arrClean=!0}return this.arr_},jspb.Map.prototype.toObject=function(e,t){for(var r=this.toArray(),n=[],o=0;o<r.length;o++){var i=this.map_[r[o][0].toString()];this.wrapEntry_(i);var s=i.valueWrapper;s?(goog.asserts.assert(t),n.push([i.key,t(e,s)])):n.push([i.key,i.value])}return n},jspb.Map.fromObject=function(e,t,r){t=new jspb.Map([],t);for(var n=0;n<e.length;n++){var o=e[n][0],i=r(e[n][1]);t.set(o,i)}return t},jspb.Map.ArrayIteratorIterable_=function(e){this.idx_=0,this.arr_=e},jspb.Map.ArrayIteratorIterable_.prototype.next=function(){return this.idx_<this.arr_.length?{done:!1,value:this.arr_[this.idx_++]}:{done:!0,value:void 0}},"undefined"!=typeof Symbol&&(jspb.Map.ArrayIteratorIterable_.prototype[Symbol.iterator]=function(){return this}),jspb.Map.prototype.getLength=function(){return this.stringKeys_().length},jspb.Map.prototype.clear=function(){this.map_={},this.arrClean=!1},jspb.Map.prototype.del=function(e){e=e.toString();var t=this.map_.hasOwnProperty(e);return delete this.map_[e],this.arrClean=!1,t},jspb.Map.prototype.getEntryList=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++){var n=this.map_[t[r]];e.push([n.key,n.value])}return e},jspb.Map.prototype.entries=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++){var n=this.map_[t[r]];e.push([n.key,this.wrapEntry_(n)])}return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.keys=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++)e.push(this.map_[t[r]].key);return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.values=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++)e.push(this.wrapEntry_(this.map_[t[r]]));return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.forEach=function(e,t){var r=this.stringKeys_();r.sort();for(var n=0;n<r.length;n++){var o=this.map_[r[n]];e.call(t,this.wrapEntry_(o),o.key,this)}},jspb.Map.prototype.set=function(e,t){var r=new jspb.Map.Entry_(e);return this.valueCtor_?(r.valueWrapper=t,r.value=t.toArray()):r.value=t,this.map_[e.toString()]=r,this.arrClean=!1,this},jspb.Map.prototype.wrapEntry_=function(e){return this.valueCtor_?(e.valueWrapper||(e.valueWrapper=new this.valueCtor_(e.value)),e.valueWrapper):e.value},jspb.Map.prototype.get=function(e){if(e=this.map_[e.toString()])return this.wrapEntry_(e)},jspb.Map.prototype.has=function(e){return e.toString()in this.map_},jspb.Map.prototype.serializeBinary=function(e,t,r,n,o){var i=this.stringKeys_();i.sort();for(var s=0;s<i.length;s++){var a=this.map_[i[s]];t.beginSubMessage(e),r.call(t,1,a.key),this.valueCtor_?n.call(t,2,this.wrapEntry_(a),o):n.call(t,2,a.value),t.endSubMessage()}},jspb.Map.deserializeBinary=function(e,t,r,n,o,i,s){for(;t.nextField()&&!t.isEndGroup();){var a=t.getFieldNumber();1==a?i=r.call(t):2==a&&(e.valueCtor_?(goog.asserts.assert(o),s||(s=new e.valueCtor_),n.call(t,s,o)):s=n.call(t))}goog.asserts.assert(null!=i),goog.asserts.assert(null!=s),e.set(i,s)},jspb.Map.prototype.stringKeys_=function(){var e,t=this.map_,r=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&r.push(e);return r},jspb.Map.Entry_=function(e,t){this.key=e,this.value=t,this.valueWrapper=void 0},jspb.ExtensionFieldInfo=function(e,t,r,n,o){this.fieldIndex=e,this.fieldName=t,this.ctor=r,this.toObjectFn=n,this.isRepeated=o},jspb.ExtensionFieldBinaryInfo=function(e,t,r,n,o,i){this.fieldInfo=e,this.binaryReaderFn=t,this.binaryWriterFn=r,this.binaryMessageSerializeFn=n,this.binaryMessageDeserializeFn=o,this.isPacked=i},jspb.ExtensionFieldInfo.prototype.isMessageType=function(){return!!this.ctor},jspb.Message=function(){},jspb.Message.GENERATE_TO_OBJECT=!0,jspb.Message.GENERATE_FROM_OBJECT=!goog.DISALLOW_TEST_ONLY_CODE,jspb.Message.GENERATE_TO_STRING=!0,jspb.Message.ASSUME_LOCAL_ARRAYS=!1,jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS=!0,jspb.Message.SUPPORTS_UINT8ARRAY_="function"==typeof Uint8Array,jspb.Message.prototype.getJsPbMessageId=function(){return this.messageId_},jspb.Message.getIndex_=function(e,t){return t+e.arrayIndexOffset_},jspb.Message.hiddenES6Property_=function(){},jspb.Message.getFieldNumber_=function(e,t){return t-e.arrayIndexOffset_},jspb.Message.initialize=function(e,t,r,n,o,i){if(e.wrappers_=null,t||(t=r?[r]:[]),e.messageId_=r?String(r):void 0,e.arrayIndexOffset_=0===r?-1:0,e.array=t,jspb.Message.initPivotAndExtensionObject_(e,n),e.convertedPrimitiveFields_={},jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS||(e.repeatedFields=o),o)for(t=0;t<o.length;t++)(r=o[t])<e.pivot_?(r=jspb.Message.getIndex_(e,r),e.array[r]=e.array[r]||jspb.Message.EMPTY_LIST_SENTINEL_):(jspb.Message.maybeInitEmptyExtensionObject_(e),e.extensionObject_[r]=e.extensionObject_[r]||jspb.Message.EMPTY_LIST_SENTINEL_);if(i&&i.length)for(t=0;t<i.length;t++)jspb.Message.computeOneofCase(e,i[t])},jspb.Message.EMPTY_LIST_SENTINEL_=goog.DEBUG&&Object.freeze?Object.freeze([]):[],jspb.Message.isArray_=function(e){return jspb.Message.ASSUME_LOCAL_ARRAYS?e instanceof Array:Array.isArray(e)},jspb.Message.isExtensionObject_=function(e){return!(null===e||"object"!=typeof e||jspb.Message.isArray_(e)||jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array)},jspb.Message.initPivotAndExtensionObject_=function(e,t){var r=e.array.length,n=-1;if(r&&(n=r-1,r=e.array[n],jspb.Message.isExtensionObject_(r)))return e.pivot_=jspb.Message.getFieldNumber_(e,n),void(e.extensionObject_=r);-1<t?(e.pivot_=Math.max(t,jspb.Message.getFieldNumber_(e,n+1)),e.extensionObject_=null):e.pivot_=Number.MAX_VALUE},jspb.Message.maybeInitEmptyExtensionObject_=function(e){var t=jspb.Message.getIndex_(e,e.pivot_);e.array[t]||(e.extensionObject_=e.array[t]={})},jspb.Message.toObjectList=function(e,t,r){for(var n=[],o=0;o<e.length;o++)n[o]=t.call(e[o],r,e[o]);return n},jspb.Message.toObjectExtension=function(e,t,r,n,o){for(var i in r){var s=r[i],a=n.call(e,s);if(null!=a){for(var l in s.fieldName)if(s.fieldName.hasOwnProperty(l))break;t[l]=s.toObjectFn?s.isRepeated?jspb.Message.toObjectList(a,s.toObjectFn,o):s.toObjectFn(o,a):a}}},jspb.Message.serializeBinaryExtensions=function(e,t,r,n){for(var o in r){var i=r[o],s=i.fieldInfo;if(!i.binaryWriterFn)throw Error("Message extension present that was generated without binary serialization support");var a=n.call(e,s);if(null!=a)if(s.isMessageType()){if(!i.binaryMessageSerializeFn)throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");i.binaryWriterFn.call(t,s.fieldIndex,a,i.binaryMessageSerializeFn)}else i.binaryWriterFn.call(t,s.fieldIndex,a)}},jspb.Message.readBinaryExtension=function(e,t,r,n,o){var i=r[t.getFieldNumber()];if(i){if(r=i.fieldInfo,!i.binaryReaderFn)throw Error("Deserializing extension whose generated code does not support binary format");if(r.isMessageType()){var s=new r.ctor;i.binaryReaderFn.call(t,s,i.binaryMessageDeserializeFn)}else s=i.binaryReaderFn.call(t);r.isRepeated&&!i.isPacked?(t=n.call(e,r))?t.push(s):o.call(e,r,[s]):o.call(e,r,s)}else t.skipField()},jspb.Message.getField=function(e,t){if(t<e.pivot_){t=jspb.Message.getIndex_(e,t);var r=e.array[t];return r===jspb.Message.EMPTY_LIST_SENTINEL_?e.array[t]=[]:r}if(e.extensionObject_)return(r=e.extensionObject_[t])===jspb.Message.EMPTY_LIST_SENTINEL_?e.extensionObject_[t]=[]:r},jspb.Message.getRepeatedField=function(e,t){return jspb.Message.getField(e,t)},jspb.Message.getOptionalFloatingPointField=function(e,t){return null==(e=jspb.Message.getField(e,t))?e:+e},jspb.Message.getBooleanField=function(e,t){return null==(e=jspb.Message.getField(e,t))?e:!!e},jspb.Message.getRepeatedFloatingPointField=function(e,t){var r=jspb.Message.getRepeatedField(e,t);if(e.convertedPrimitiveFields_||(e.convertedPrimitiveFields_={}),!e.convertedPrimitiveFields_[t]){for(var n=0;n<r.length;n++)r[n]=+r[n];e.convertedPrimitiveFields_[t]=!0}return r},jspb.Message.getRepeatedBooleanField=function(e,t){var r=jspb.Message.getRepeatedField(e,t);if(e.convertedPrimitiveFields_||(e.convertedPrimitiveFields_={}),!e.convertedPrimitiveFields_[t]){for(var n=0;n<r.length;n++)r[n]=!!r[n];e.convertedPrimitiveFields_[t]=!0}return r},jspb.Message.bytesAsB64=function(e){return null==e||"string"==typeof e?e:jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array?goog.crypt.base64.encodeByteArray(e):(goog.asserts.fail("Cannot coerce to b64 string: "+goog.typeOf(e)),null)},jspb.Message.bytesAsU8=function(e){return null==e||e instanceof Uint8Array?e:"string"==typeof e?goog.crypt.base64.decodeStringToUint8Array(e):(goog.asserts.fail("Cannot coerce to Uint8Array: "+goog.typeOf(e)),null)},jspb.Message.bytesListAsB64=function(e){return jspb.Message.assertConsistentTypes_(e),e.length&&"string"!=typeof e[0]?goog.array.map(e,jspb.Message.bytesAsB64):e},jspb.Message.bytesListAsU8=function(e){return jspb.Message.assertConsistentTypes_(e),!e.length||e[0]instanceof Uint8Array?e:goog.array.map(e,jspb.Message.bytesAsU8)},jspb.Message.assertConsistentTypes_=function(e){if(goog.DEBUG&&e&&1<e.length){var t=goog.typeOf(e[0]);goog.array.forEach(e,(function(e){goog.typeOf(e)!=t&&goog.asserts.fail("Inconsistent type in JSPB repeated field array. Got "+goog.typeOf(e)+" expected "+t)}))}},jspb.Message.getFieldWithDefault=function(e,t,r){return null==(e=jspb.Message.getField(e,t))?r:e},jspb.Message.getBooleanFieldWithDefault=function(e,t,r){return null==(e=jspb.Message.getBooleanField(e,t))?r:e},jspb.Message.getFloatingPointFieldWithDefault=function(e,t,r){return null==(e=jspb.Message.getOptionalFloatingPointField(e,t))?r:e},jspb.Message.getFieldProto3=jspb.Message.getFieldWithDefault,jspb.Message.getMapField=function(e,t,r,n){if(e.wrappers_||(e.wrappers_={}),t in e.wrappers_)return e.wrappers_[t];var o=jspb.Message.getField(e,t);if(!o){if(r)return;o=[],jspb.Message.setField(e,t,o)}return e.wrappers_[t]=new jspb.Map(o,n)},jspb.Message.setField=function(e,t,r){return goog.asserts.assertInstanceof(e,jspb.Message),t<e.pivot_?e.array[jspb.Message.getIndex_(e,t)]=r:(jspb.Message.maybeInitEmptyExtensionObject_(e),e.extensionObject_[t]=r),e},jspb.Message.setProto3IntField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,0)},jspb.Message.setProto3FloatField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,0)},jspb.Message.setProto3BooleanField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,!1)},jspb.Message.setProto3StringField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,"")},jspb.Message.setProto3BytesField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,"")},jspb.Message.setProto3EnumField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,0)},jspb.Message.setProto3StringIntField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,"0")},jspb.Message.setFieldIgnoringDefault_=function(e,t,r,n){return goog.asserts.assertInstanceof(e,jspb.Message),r!==n?jspb.Message.setField(e,t,r):t<e.pivot_?e.array[jspb.Message.getIndex_(e,t)]=null:(jspb.Message.maybeInitEmptyExtensionObject_(e),delete e.extensionObject_[t]),e},jspb.Message.addToRepeatedField=function(e,t,r,n){return goog.asserts.assertInstanceof(e,jspb.Message),t=jspb.Message.getRepeatedField(e,t),null!=n?t.splice(n,0,r):t.push(r),e},jspb.Message.setOneofField=function(e,t,r,n){return goog.asserts.assertInstanceof(e,jspb.Message),(r=jspb.Message.computeOneofCase(e,r))&&r!==t&&void 0!==n&&(e.wrappers_&&r in e.wrappers_&&(e.wrappers_[r]=void 0),jspb.Message.setField(e,r,void 0)),jspb.Message.setField(e,t,n)},jspb.Message.computeOneofCase=function(e,t){for(var r,n,o=0;o<t.length;o++){var i=t[o],s=jspb.Message.getField(e,i);null!=s&&(r=i,n=s,jspb.Message.setField(e,i,void 0))}return r?(jspb.Message.setField(e,r,n),r):0},jspb.Message.getWrapperField=function(e,t,r,n){if(e.wrappers_||(e.wrappers_={}),!e.wrappers_[r]){var o=jspb.Message.getField(e,r);(n||o)&&(e.wrappers_[r]=new t(o))}return e.wrappers_[r]},jspb.Message.getRepeatedWrapperField=function(e,t,r){return jspb.Message.wrapRepeatedField_(e,t,r),(t=e.wrappers_[r])==jspb.Message.EMPTY_LIST_SENTINEL_&&(t=e.wrappers_[r]=[]),t},jspb.Message.wrapRepeatedField_=function(e,t,r){if(e.wrappers_||(e.wrappers_={}),!e.wrappers_[r]){for(var n=jspb.Message.getRepeatedField(e,r),o=[],i=0;i<n.length;i++)o[i]=new t(n[i]);e.wrappers_[r]=o}},jspb.Message.setWrapperField=function(e,t,r){goog.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={});var n=r?r.toArray():r;return e.wrappers_[t]=r,jspb.Message.setField(e,t,n)},jspb.Message.setOneofWrapperField=function(e,t,r,n){goog.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={});var o=n?n.toArray():n;return e.wrappers_[t]=n,jspb.Message.setOneofField(e,t,r,o)},jspb.Message.setRepeatedWrapperField=function(e,t,r){goog.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={}),r=r||[];for(var n=[],o=0;o<r.length;o++)n[o]=r[o].toArray();return e.wrappers_[t]=r,jspb.Message.setField(e,t,n)},jspb.Message.addToRepeatedWrapperField=function(e,t,r,n,o){jspb.Message.wrapRepeatedField_(e,n,t);var i=e.wrappers_[t];return i||(i=e.wrappers_[t]=[]),r=r||new n,e=jspb.Message.getRepeatedField(e,t),null!=o?(i.splice(o,0,r),e.splice(o,0,r.toArray())):(i.push(r),e.push(r.toArray())),r},jspb.Message.toMap=function(e,t,r,n){for(var o={},i=0;i<e.length;i++)o[t.call(e[i])]=r?r.call(e[i],n,e[i]):e[i];return o},jspb.Message.prototype.syncMapFields_=function(){if(this.wrappers_)for(var e in this.wrappers_){var t=this.wrappers_[e];if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&t[r].toArray();else t&&t.toArray()}},jspb.Message.prototype.toArray=function(){return this.syncMapFields_(),this.array},jspb.Message.GENERATE_TO_STRING&&(jspb.Message.prototype.toString=function(){return this.syncMapFields_(),this.array.toString()}),jspb.Message.prototype.getExtension=function(e){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var t=e.fieldIndex;if(e.isRepeated){if(e.isMessageType())return this.wrappers_[t]||(this.wrappers_[t]=goog.array.map(this.extensionObject_[t]||[],(function(t){return new e.ctor(t)}))),this.wrappers_[t]}else if(e.isMessageType())return!this.wrappers_[t]&&this.extensionObject_[t]&&(this.wrappers_[t]=new e.ctor(this.extensionObject_[t])),this.wrappers_[t];return this.extensionObject_[t]}},jspb.Message.prototype.setExtension=function(e,t){this.wrappers_||(this.wrappers_={}),jspb.Message.maybeInitEmptyExtensionObject_(this);var r=e.fieldIndex;return e.isRepeated?(t=t||[],e.isMessageType()?(this.wrappers_[r]=t,this.extensionObject_[r]=goog.array.map(t,(function(e){return e.toArray()}))):this.extensionObject_[r]=t):e.isMessageType()?(this.wrappers_[r]=t,this.extensionObject_[r]=t?t.toArray():t):this.extensionObject_[r]=t,this},jspb.Message.difference=function(e,t){if(!(e instanceof t.constructor))throw Error("Messages have different types.");var r=e.toArray();t=t.toArray();var n=[],o=0,i=r.length>t.length?r.length:t.length;for(e.getJsPbMessageId()&&(n[0]=e.getJsPbMessageId(),o=1);o<i;o++)jspb.Message.compareFields(r[o],t[o])||(n[o]=t[o]);return new e.constructor(n)},jspb.Message.equals=function(e,t){return e==t||!(!e||!t)&&e instanceof t.constructor&&jspb.Message.compareFields(e.toArray(),t.toArray())},jspb.Message.compareExtensions=function(e,t){e=e||{},t=t||{};var r,n={};for(r in e)n[r]=0;for(r in t)n[r]=0;for(r in n)if(!jspb.Message.compareFields(e[r],t[r]))return!1;return!0},jspb.Message.compareFields=function(e,t){if(e==t)return!0;if(!goog.isObject(e)||!goog.isObject(t))return!!("number"==typeof e&&isNaN(e)||"number"==typeof t&&isNaN(t))&&String(e)==String(t);if(e.constructor!=t.constructor)return!1;if(jspb.Message.SUPPORTS_UINT8ARRAY_&&e.constructor===Uint8Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!=t[r])return!1;return!0}if(e.constructor===Array){var n=void 0,o=void 0,i=Math.max(e.length,t.length);for(r=0;r<i;r++){var s=e[r],a=t[r];if(s&&s.constructor==Object&&(goog.asserts.assert(void 0===n),goog.asserts.assert(r===e.length-1),n=s,s=void 0),a&&a.constructor==Object&&(goog.asserts.assert(void 0===o),goog.asserts.assert(r===t.length-1),o=a,a=void 0),!jspb.Message.compareFields(s,a))return!1}return!n&&!o||(n=n||{},o=o||{},jspb.Message.compareExtensions(n,o))}if(e.constructor===Object)return jspb.Message.compareExtensions(e,t);throw Error("Invalid type in JSPB array")},jspb.Message.prototype.cloneMessage=function(){return jspb.Message.cloneMessage(this)},jspb.Message.prototype.clone=function(){return jspb.Message.cloneMessage(this)},jspb.Message.clone=function(e){return jspb.Message.cloneMessage(e)},jspb.Message.cloneMessage=function(e){return new e.constructor(jspb.Message.clone_(e.toArray()))},jspb.Message.copyInto=function(e,t){goog.asserts.assertInstanceof(e,jspb.Message),goog.asserts.assertInstanceof(t,jspb.Message),goog.asserts.assert(e.constructor==t.constructor,"Copy source and target message should have the same type."),e=jspb.Message.clone(e);for(var r=t.toArray(),n=e.toArray(),o=r.length=0;o<n.length;o++)r[o]=n[o];t.wrappers_=e.wrappers_,t.extensionObject_=e.extensionObject_},jspb.Message.clone_=function(e){if(Array.isArray(e)){for(var t=Array(e.length),r=0;r<e.length;r++){var n=e[r];null!=n&&(t[r]="object"==typeof n?jspb.Message.clone_(goog.asserts.assert(n)):n)}return t}if(jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array)return new Uint8Array(e);for(r in t={},e)null!=(n=e[r])&&(t[r]="object"==typeof n?jspb.Message.clone_(goog.asserts.assert(n)):n);return t},jspb.Message.registerMessageType=function(e,t){t.messageId=e},jspb.Message.messageSetExtensions={},jspb.Message.messageSetExtensionsBinary={},jspb.Export={},exports.Map=jspb.Map,exports.Message=jspb.Message,exports.BinaryReader=jspb.BinaryReader,exports.BinaryWriter=jspb.BinaryWriter,exports.ExtensionFieldInfo=jspb.ExtensionFieldInfo,exports.ExtensionFieldBinaryInfo=jspb.ExtensionFieldBinaryInfo,exports.exportSymbol=goog.exportSymbol,exports.inherits=goog.inherits,exports.object={extend:goog.object.extend},exports.typeOf=goog.typeOf},function(e,t,r){"use strict";var n=r(56),o=r(33);var i=t.GradleService={getBuild:{path:"/gradle.Gradle/GetBuild",requestStream:!1,responseStream:!0,requestType:o.GetBuildRequest,responseType:o.GetBuildReply,requestSerialize:function(e){if(!(e instanceof o.GetBuildRequest))throw new Error("Expected argument of type gradle.GetBuildRequest");return Buffer.from(e.serializeBinary())},requestDeserialize:function(e){return o.GetBuildRequest.deserializeBinary(new Uint8Array(e))},responseSerialize:function(e){if(!(e instanceof o.GetBuildReply))throw new Error("Expected argument of type gradle.GetBuildReply");return Buffer.from(e.serializeBinary())},responseDeserialize:function(e){return o.GetBuildReply.deserializeBinary(new Uint8Array(e))}},runBuild:{path:"/gradle.Gradle/RunBuild",requestStream:!1,responseStream:!0,requestType:o.RunBuildRequest,responseType:o.RunBuildReply,requestSerialize:function(e){if(!(e instanceof o.RunBuildRequest))throw new Error("Expected argument of type gradle.RunBuildRequest");return Buffer.from(e.serializeBinary())},requestDeserialize:function(e){return o.RunBuildRequest.deserializeBinary(new Uint8Array(e))},responseSerialize:function(e){if(!(e instanceof o.RunBuildReply))throw new Error("Expected argument of type gradle.RunBuildReply");return Buffer.from(e.serializeBinary())},responseDeserialize:function(e){return o.RunBuildReply.deserializeBinary(new Uint8Array(e))}},getDependencies:{path:"/gradle.Gradle/GetDependencies",requestStream:!1,responseStream:!1,requestType:o.GetDependenciesRequest,responseType:o.GetDependenciesReply,requestSerialize:function(e){if(!(e instanceof o.GetDependenciesRequest))throw new Error("Expected argument of type gradle.GetDependenciesRequest");return Buffer.from(e.serializeBinary())},requestDeserialize:function(e){return o.GetDependenciesRequest.deserializeBinary(new Uint8Array(e))},responseSerialize:function(e){if(!(e instanceof o.GetDependenciesReply))throw new Error("Expected argument of type gradle.GetDependenciesReply");return Buffer.from(e.serializeBinary())},responseDeserialize:function(e){return o.GetDependenciesReply.deserializeBinary(new Uint8Array(e))}},cancelBuild:{path:"/gradle.Gradle/CancelBuild",requestStream:!1,responseStream:!1,requestType:o.CancelBuildRequest,responseType:o.CancelBuildReply,requestSerialize:function(e){if(!(e instanceof o.CancelBuildRequest))throw new Error("Expected argument of type gradle.CancelBuildRequest");return Buffer.from(e.serializeBinary())},requestDeserialize:function(e){return o.CancelBuildRequest.deserializeBinary(new Uint8Array(e))},responseSerialize:function(e){if(!(e instanceof o.CancelBuildReply))throw new Error("Expected argument of type gradle.CancelBuildReply");return Buffer.from(e.serializeBinary())},responseDeserialize:function(e){return o.CancelBuildReply.deserializeBinary(new Uint8Array(e))}},cancelBuilds:{path:"/gradle.Gradle/CancelBuilds",requestStream:!1,responseStream:!1,requestType:o.CancelBuildsRequest,responseType:o.CancelBuildsReply,requestSerialize:function(e){if(!(e instanceof o.CancelBuildsRequest))throw new Error("Expected argument of type gradle.CancelBuildsRequest");return Buffer.from(e.serializeBinary())},requestDeserialize:function(e){return o.CancelBuildsRequest.deserializeBinary(new Uint8Array(e))},responseSerialize:function(e){if(!(e instanceof o.CancelBuildsReply))throw new Error("Expected argument of type gradle.CancelBuildsReply");return Buffer.from(e.serializeBinary())},responseDeserialize:function(e){return o.CancelBuildsReply.deserializeBinary(new Uint8Array(e))}},cancelDependencies:{path:"/gradle.Gradle/CancelDependencies",requestStream:!1,responseStream:!1,requestType:o.CancelDependenciesRequest,responseType:o.CancelDependenciesReply,requestSerialize:function(e){if(!(e instanceof o.CancelDependenciesRequest))throw new Error("Expected argument of type gradle.CancelDependenciesRequest");return Buffer.from(e.serializeBinary())},requestDeserialize:function(e){return o.CancelDependenciesRequest.deserializeBinary(new Uint8Array(e))},responseSerialize:function(e){if(!(e instanceof o.CancelDependenciesReply))throw new Error("Expected argument of type gradle.CancelDependenciesReply");return Buffer.from(e.serializeBinary())},responseDeserialize:function(e){return o.CancelDependenciesReply.deserializeBinary(new Uint8Array(e))}},getDaemonsStatus:{path:"/gradle.Gradle/GetDaemonsStatus",requestStream:!1,responseStream:!1,requestType:o.GetDaemonsStatusRequest,responseType:o.GetDaemonsStatusReply,requestSerialize:function(e){if(!(e instanceof o.GetDaemonsStatusRequest))throw new Error("Expected argument of type gradle.GetDaemonsStatusRequest");return Buffer.from(e.serializeBinary())},requestDeserialize:function(e){return o.GetDaemonsStatusRequest.deserializeBinary(new Uint8Array(e))},responseSerialize:function(e){if(!(e instanceof o.GetDaemonsStatusReply))throw new Error("Expected argument of type gradle.GetDaemonsStatusReply");return Buffer.from(e.serializeBinary())},responseDeserialize:function(e){return o.GetDaemonsStatusReply.deserializeBinary(new Uint8Array(e))}},stopDaemons:{path:"/gradle.Gradle/StopDaemons",requestStream:!1,responseStream:!1,requestType:o.StopDaemonsRequest,responseType:o.StopDaemonsReply,requestSerialize:function(e){if(!(e instanceof o.StopDaemonsRequest))throw new Error("Expected argument of type gradle.StopDaemonsRequest");return Buffer.from(e.serializeBinary())},requestDeserialize:function(e){return o.StopDaemonsRequest.deserializeBinary(new Uint8Array(e))},responseSerialize:function(e){if(!(e instanceof o.StopDaemonsReply))throw new Error("Expected argument of type gradle.StopDaemonsReply");return Buffer.from(e.serializeBinary())},responseDeserialize:function(e){return o.StopDaemonsReply.deserializeBinary(new Uint8Array(e))}},stopDaemon:{path:"/gradle.Gradle/StopDaemon",requestStream:!1,responseStream:!1,requestType:o.StopDaemonRequest,responseType:o.StopDaemonReply,requestSerialize:function(e){if(!(e instanceof o.StopDaemonRequest))throw new Error("Expected argument of type gradle.StopDaemonRequest");return Buffer.from(e.serializeBinary())},requestDeserialize:function(e){return o.StopDaemonRequest.deserializeBinary(new Uint8Array(e))},responseSerialize:function(e){if(!(e instanceof o.StopDaemonReply))throw new Error("Expected argument of type gradle.StopDaemonReply");return Buffer.from(e.serializeBinary())},responseDeserialize:function(e){return o.StopDaemonReply.deserializeBinary(new Uint8Array(e))}}};t.GradleClient=n.makeGenericClientConstructor(i)},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(248),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressHandler=void 0;const n=r(0);t.ProgressHandler=class{constructor(e,t){this.progress=e,this.initialMessage=t,this._onDidProgressStart=new n.EventEmitter,this.onDidProgressStart=this._onDidProgressStart.event,this.initialMessage&&this.progress.report({message:this.initialMessage})}report(e){e.trim()&&(this.progress.report({message:e}),this._onDidProgressStart.fire(null),this._onDidProgressStart.dispose())}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GradleRunnerTerminal=void 0;const n=r(0),o=r(30),i=r(120),s=r(41),a=r(10),l=r(56),c=r(7),u=r(27),d=new RegExp("\n([^\r]|$)","g");t.GradleRunnerTerminal=class{constructor(e,t,r,i){this.rootProject=e,this.args=t,this.cancellationKey=r,this.client=i,this.writeEmitter=new n.EventEmitter,this.closeEmitter=new n.EventEmitter,this.onDidWrite=this.writeEmitter.event,this.onDidClose=this.closeEmitter.event,this.handleOutput=e=>{const t=e.getOutputBytes_asU8();t.length&&(s.isTest()&&this.stdOutLoggerStream&&this.stdOutLoggerStream.write(t),this.write(new o.TextDecoder("utf-8").decode(t)))},s.isTest()&&(this.stdOutLoggerStream=new a.LoggerStream(a.logger,a.LogVerbosity.INFO))}async open(){await this.runBuild()}setTask(e){this.task=e}async close(){this.task&&c.isTaskRunning(this.task)&&await this.cancelCommand()}startJavaDebug(e){const t=new Promise((e,t)=>{const r=this.onDidClose(()=>{r.dispose(),t(new Error("The task completed without the debugger being attached"))})}),r=e=>a.logger.error("Unable to start Java debugging:",e.message);Promise.race([s.waitOnTcp("localhost",e),t]).then(async()=>{var t;const r=null===(t=this.task)||void 0===t?void 0:t.definition,o=r?r.project:void 0,i={type:"java",name:"Debug (Attach) via Gradle Tasks",request:"attach",hostName:"localhost",port:e,projectName:o};if(!await n.debug.startDebugging(this.rootProject.getWorkspaceFolder(),i))throw new Error("The debugger was not started")},r).catch(e=>(r(e),this.close()))}async runBuild(){const e=!!this.task&&this.task.definition.javaDebug;try{const t=e?await i():0;e&&this.startJavaDebug(t);const r=this.client.runBuild(this.rootProject.getProjectUri().fsPath,this.cancellationKey,this.args,"",t,this.task,this.handleOutput,!0);await r,this.closeEmitter.fire(0)}catch(e){this.handleError(e),this.closeEmitter.fire(1)}}async cancelCommand(){await n.commands.executeCommand(u.COMMAND_CANCEL_BUILD,this.cancellationKey,this.task)}handleError(e){if(e.code===l.status.UNKNOWN){const e=a.logger.getChannel();e&&this.write(`Unable to run Gradle Task due to server error. View the "${e.name}" output for details.`)}else this.write(e.details||e.message)}async handleInput(e){""===e&&await this.cancelCommand()}write(e){const t=e.replace(d,"\n\r$1");this.writeEmitter.fire(t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancelBuildCommand=t.COMMAND_CANCEL_BUILD=void 0;const n=r(7),o=r(10),i=r(1);t.COMMAND_CANCEL_BUILD="gradle.cancelBuild";class s extends i.Command{constructor(e){super(),this.client=e}async run(e,t){try{await n.cancelBuild(this.client,e,t)}catch(e){o.logger.error("Error cancelling task:",e.message)}}}t.CancelBuildCommand=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancelTreeItemTaskCommand=t.COMMAND_CANCEL_TREE_ITEM_TASK=void 0;const n=r(0),o=r(27),i=r(48),s=r(7),a=r(1);t.COMMAND_CANCEL_TREE_ITEM_TASK="gradle.cancelTreeItemTask";class l extends a.Command{async run(e){if(e&&e.task){const t=s.getRunningGradleTask(e.task);if(!t)return;const r=t.definition,a=i.getRunTaskCommandCancellationKey(r.projectFolder,t.name);return n.commands.executeCommand(o.COMMAND_CANCEL_BUILD,a,t)}}}t.CancelTreeItemTaskCommand=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellingTreeItemTaskCommand=t.COMMAND_CANCELLING_TREE_ITEM_TASK=void 0;const n=r(0),o=r(1);t.COMMAND_CANCELLING_TREE_ITEM_TASK="gradle.cancellingTreeItemTask";class i extends o.Command{async run(){await n.window.showInformationMessage("Gradle task is cancelling, please wait")}}t.CancellingTreeItemTaskCommand=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClearAllPinnedTasksCommand=t.COMMAND_CLEAR_ALL_PINNED_TASKS=void 0;const n=r(21),o=r(1);t.COMMAND_CLEAR_ALL_PINNED_TASKS="gradle.clearAllPinnedTasks";class i extends o.Command{constructor(e){super(),this.pinnedTasksStore=e}async run(){this.pinnedTasksStore.getData().size&&await n.confirmModal("Are you sure you want to clear the pinned tasks?")&&this.pinnedTasksStore.clear()}}t.ClearAllPinnedTasksCommand=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClearAllRecentTasksCommand=t.COMMAND_CLEAR_ALL_RECENT_TASKS=void 0;const n=r(21),o=r(1);t.COMMAND_CLEAR_ALL_RECENT_TASKS="gradle.clearAllRecentTasks";class i extends o.Command{constructor(e){super(),this.recentTasksStore=e}async run(){this.recentTasksStore.getData().size&&await n.confirmModal("Are you sure you want to clear the recent tasks?")&&this.recentTasksStore.clear()}}t.ClearAllRecentTasksCommand=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CloseAllTaskTerminalsCommand=t.COMMAND_CLOSE_ALL_TASK_TERMINALS=void 0;const n=r(21),o=r(1);t.COMMAND_CLOSE_ALL_TASK_TERMINALS="gradle.closeAllTaskTerminals";class i extends o.Command{constructor(e){super(),this.taskTerminalsStore=e}async run(){this.taskTerminalsStore.getData().size&&await n.confirmModal("Are you sure you want to close all task terminals?")&&(Array.from(this.taskTerminalsStore.getData().keys()).forEach(e=>{const t=this.taskTerminalsStore.getItem(e);t&&Array.from(t).forEach(e=>e.dispose())}),this.taskTerminalsStore.clear())}}t.CloseAllTaskTerminalsCommand=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CloseTaskTerminalsCommand=t.COMMAND_CLOSE_TASK_TERMINALS=void 0;const n=r(1);t.COMMAND_CLOSE_TASK_TERMINALS="gradle.closeTaskTerminals";class o extends n.Command{constructor(e){super(),this.taskTerminalsStore=e}async run(e){if(e&&e.task){const t=e.task.definition,r=this.taskTerminalsStore.getItem(t.id+t.args);r&&Array.from(r).forEach(e=>{e.dispose()})}}}t.CloseTaskTerminalsCommand=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugTaskCommand=t.COMMAND_DEBUG_TASK=void 0;const n=r(7),o=r(1);t.COMMAND_DEBUG_TASK="gradle.debugTask";class i extends o.Command{constructor(e,t,r){super(),this.rootProjectsStore=e,this.taskTerminalsStore=t,this.client=r}async run(e,t=""){e&&e.task&&await n.runTask(this.rootProjectsStore,this.taskTerminalsStore,e.task,this.client,t,!0)}}t.DebugTaskCommand=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugTaskWithArgsCommand=t.COMMAND_DEBUG_TASK_WITH_ARGS=void 0;const n=r(7),o=r(10),i=r(1);t.COMMAND_DEBUG_TASK_WITH_ARGS="gradle.debugTaskWithArgs";class s extends i.Command{constructor(e,t,r){super(),this.rootProjectsStore=e,this.taskTerminalsStore=t,this.client=r}async run(e){e&&e.task?await n.runTaskWithArgs(this.rootProjectsStore,this.taskTerminalsStore,e.task,this.client,!0):o.logger.error("Unable to debug task with args. TreeItem or TreeItem task not found.")}}t.DebugTaskWithArgsCommand=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExplorerFlatCommand=t.COMMAND_EXPLORER_FLAT=void 0;const n=r(1);t.COMMAND_EXPLORER_FLAT="gradle.explorerFlat";class o extends n.Command{constructor(e){super(),this.gradleTasksTreeDataProvider=e}async run(){await this.gradleTasksTreeDataProvider.setCollapsed(!0)}}t.ExplorerFlatCommand=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExplorerTreeCommand=t.COMMAND_EXPLORER_TREE=void 0;const n=r(1);t.COMMAND_EXPLORER_TREE="gradle.explorerTree";class o extends n.Command{constructor(e){super(),this.gradleTasksTreeDataProvider=e}async run(){await this.gradleTasksTreeDataProvider.setCollapsed(!1)}}t.ExplorerTreeCommand=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoadTasksCommand=t.COMMAND_LOAD_TASKS=void 0;const n=r(1);t.COMMAND_LOAD_TASKS="gradle.loadTasks";class o extends n.Command{constructor(e){super(),this.gradleTaskProvider=e}async run(){return this.gradleTaskProvider.loadTasks()}}t.LoadTasksCommand=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpenBuildFileCommand=t.OpenBuildFileDoubleClickCommand=t.COMMAND_OPEN_BUILD_FILE_DOUBLE_CLICK=t.COMMAND_OPEN_BUILD_FILE=void 0;const n=r(0),o=r(1);let i;async function s(e){await n.commands.executeCommand("vscode.open",n.Uri.file(e.task.definition.buildFile))}t.COMMAND_OPEN_BUILD_FILE="gradle.openBuildFile",t.COMMAND_OPEN_BUILD_FILE_DOUBLE_CLICK="gradle.openBuildFileDoubleClick";class a extends o.Command{async run(e){if(function(){let e=!1;if(i){e=(new Date).getTime()-i.getTime()<500}return i=new Date,e}())return s(e)}}t.OpenBuildFileDoubleClickCommand=a;class l extends o.Command{async run(e){return s(e)}}t.OpenBuildFileCommand=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpenPinHelpCommand=t.COMMAND_OPEN_PIN_HELP=void 0;const n=r(0),o=r(1);t.COMMAND_OPEN_PIN_HELP="gradle.openPinHelp";class i extends o.Command{async run(){await n.window.showInformationMessage("Pin your favourite tasks via the task context menu.")}}t.OpenPinHelpCommand=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpenSettingsCommand=t.COMMAND_OPEN_SETTINGS=void 0;const n=r(0),o=r(1);t.COMMAND_OPEN_SETTINGS="gradle.openSettings";class i extends o.Command{async run(){await n.commands.executeCommand("workbench.action.openSettings","@ext:vscjava.vscode-gradle")}}t.OpenSettingsCommand=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PinTaskCommand=t.COMMAND_PIN_TASK=void 0;const n=r(1);t.COMMAND_PIN_TASK="gradle.pinTask";class o extends n.Command{constructor(e){super(),this.pinnedTasksTreeDataProvider=e}async run(e){if(e&&e.task){const t=e.task.definition;this.pinnedTasksTreeDataProvider.getStore().addEntry(t.id,t.args)}}}t.PinTaskCommand=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PinTaskWithArgsCommand=t.COMMAND_PIN_TASK_WITH_ARGS=void 0;const n=r(21),o=r(1);t.COMMAND_PIN_TASK_WITH_ARGS="gradle.pinTaskWithArgs";class i extends o.Command{constructor(e){super(),this.pinnedTasksTreeDataProvider=e}async run(e){if(e&&e.task){const t=await n.getTaskArgs();if(t){const r=e.task.definition;this.pinnedTasksTreeDataProvider.getStore().addEntry(r.id,t)}}}}t.PinTaskWithArgsCommand=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RefreshCommand=t.COMMAND_REFRESH=void 0;const n=r(1);t.COMMAND_REFRESH="gradle.refresh";class o extends n.Command{constructor(e,t,r,n,o){super(),this.gradleTaskProvider=e,this.gradleDependencyProvider=t,this.gradleTasksTreeDataProvider=r,this.pinnedTasksTreeDataProvider=n,this.recentTasksTreeDataProvider=o}async run(){this.gradleTaskProvider.clearTasksCache(),this.gradleDependencyProvider.clearDependenciesCache(),this.gradleTaskProvider.loadTasks(),this.gradleTasksTreeDataProvider.refresh(),this.pinnedTasksTreeDataProvider.refresh(),this.recentTasksTreeDataProvider.refresh()}}t.RefreshCommand=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RefreshDaemonStatusCommand=t.COMMAND_REFRESH_DAEMON_STATUS=void 0;const n=r(1);t.COMMAND_REFRESH_DAEMON_STATUS="gradle.refreshDaemonStatus";class o extends n.Command{constructor(e){super(),this.gradleDaemonsTreeDataProvider=e}async run(){this.gradleDaemonsTreeDataProvider.refresh()}}t.RefreshDaemonStatusCommand=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemovePinnedTaskCommand=t.COMMAND_REMOVE_PINNED_TASK=void 0;const n=r(1);t.COMMAND_REMOVE_PINNED_TASK="gradle.removePinnedTask";class o extends n.Command{constructor(e){super(),this.pinnedTasksTreeDataProvider=e}async run(e){if(e&&e.task){const t=e.task.definition;this.pinnedTasksTreeDataProvider.getStore().removeEntry(t.id,t.args)}}}t.RemovePinnedTaskCommand=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemoveRecentTaskCommand=t.COMMAND_REMOVE_RECENT_TASK=void 0;const n=r(1);t.COMMAND_REMOVE_RECENT_TASK="gradle.removeRecentTask";class o extends n.Command{constructor(e){super(),this.recentTasksStore=e}async run(e){if(e&&e.task){const t=e.task.definition;this.recentTasksStore.removeEntry(t.id,t.args)}}}t.RemoveRecentTaskCommand=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RenderTaskCommand=t.COMMAND_RENDER_TASK=void 0;const n=r(28),o=r(1);t.COMMAND_RENDER_TASK="gradle.renderTask";class i extends o.Command{constructor(e,t,r){super(),this.gradleTasksTreeDataProvider=e,this.pinnedTasksTreeDataProvider=t,this.recentTasksTreeDataProvider=r}async run(e){n.updateGradleTreeItemStateForTask(e,this.gradleTasksTreeDataProvider,this.pinnedTasksTreeDataProvider,this.recentTasksTreeDataProvider)}}t.RenderTaskCommand=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoTasksTreeItem=void 0;const n=r(0),o=r(34);class i extends n.TreeItem{constructor(e){super("",n.TreeItemCollapsibleState.None),this.contextValue=o.TREE_ITEM_STATE_NO_TASKS,this.description=e}}t.NoTasksTreeItem=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GradleTaskTreeItem=void 0;const n=r(0),o=r(34),i=r(28);class s extends n.TreeItem{constructor(e,t,r,o,i,s,a){super(r,n.TreeItemCollapsibleState.None),this.parentTreeItem=e,this.task=t,this.label=r,this.tooltip=o,this.description=i,this.icons=s,this.javaDebug=a,this.command={title:"Run Task",command:"gradle.openBuildFileDoubleClick",arguments:[this]}}setContext(){this.contextValue=i.getTreeItemState(this.task,this.javaDebug),this.setIconState()}setIconState(){const{iconPathRunning:e,iconPathIdle:t}=this.icons;this.contextValue&&o.TASK_STATE_RUNNING_REGEX.test(this.contextValue)?this.iconPath=e:this.iconPath=t}}t.GradleTaskTreeItem=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GradleTasksTreeDataProvider=t.getProjectTreeItemMap=t.getGradleTaskTreeItemMap=void 0;const n=r(0),o=r(4),i=r(11),s=r(41),a=r(7),l=r(78),c=r(79),u=r(121),d=r(122),g=new Map,p=new Map,h=new Map,f=new Map;t.getGradleTaskTreeItemMap=function(){return g},t.getProjectTreeItemMap=function(){return h};class m{constructor(e,t,r,o,i){this.context=e,this.rootProjectStore=t,this.gradleTaskProvider=r,this.gradleDependencyProvider=o,this.icons=i,this.collapsed=!0,this._onDidChangeTreeData=new n.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event;const s=this.context.workspaceState.get("gradleTasksCollapsed",!1);this.setCollapsed(s)}async setCollapsed(e){this.collapsed=e,await this.context.workspaceState.update("gradleTasksCollapsed",e),await n.commands.executeCommand("setContext","gradle:gradleTasksCollapsed",e),this.refresh()}async buildTreeItems(){g.clear(),p.clear(),h.clear(),f.clear();const e=await this.gradleTaskProvider.loadTasks();return 0===e.length?[new i.NoGradleTasksTreeItem]:m.buildItemsTreeFromTasks(e,this.rootProjectStore,this.collapsed,this.icons)}refresh(e=null){this._onDidChangeTreeData.fire(e)}getTreeItem(e){return e}getParent(e){return(e instanceof i.RootProjectTreeItem||e instanceof i.ProjectTreeItem||e instanceof i.TreeItemWithTasksOrGroups||e instanceof i.GradleTaskTreeItem||e instanceof i.ProjectTreeItem||e instanceof l.DependencyConfigurationTreeItem||e instanceof c.DependencyTreeItem)&&e.parentTreeItem||null}async getChildren(e){return e instanceof i.RootProjectTreeItem?e.projects:e instanceof i.ProjectTreeItem?m.getChildrenForProjectTreeItem(e):e instanceof i.GroupTreeItem?e.tasks:e instanceof i.GradleTaskTreeItem||e instanceof i.NoGradleTasksTreeItem?[]:e instanceof u.ProjectDependencyTreeItem?this.gradleDependencyProvider.getDependencies(e):e instanceof d.ProjectTaskTreeItem||e instanceof l.DependencyConfigurationTreeItem||e instanceof c.DependencyTreeItem?e.getChildren()||[]:e?[]:this.buildTreeItems()}static async getChildrenForProjectTreeItem(e){const t=new d.ProjectTaskTreeItem("Tasks",n.TreeItemCollapsibleState.Collapsed,e);t.setChildren([...e.groups,...e.tasks]);const r=[t],i=e.resourceUri;if(!i)return r;const s=new u.ProjectDependencyTreeItem("Dependencies",n.TreeItemCollapsibleState.Collapsed,e,o.dirname(i.fsPath),"string"==typeof e.label?e.label:i.fsPath);return[...r,s]}static buildItemsTreeFromTasks(e,t,r,l){let c=null;return e.forEach(e=>{const u=e.definition;if(s.isWorkspaceFolder(e.scope)&&a.isGradleTask(e)){const s=t.get(u.projectFolder);if(!s)return;c=p.get(u.projectFolder),c||(c=new i.RootProjectTreeItem(o.basename(u.projectFolder),s.getProjectUri()),p.set(u.projectFolder,c));let a=h.get(u.buildFile);a||(a=new i.ProjectTreeItem(u.project,c,n.Uri.file(u.buildFile)),c.addProject(a),h.set(u.buildFile,a));const d=u.script.slice(u.script.lastIndexOf(":")+1);let m=a;if(!r){const e=u.group+u.project;let t=f.get(e);t||(t=new i.GroupTreeItem(u.group,a,void 0),a.addGroup(t),f.set(e,t)),m=t}const y=new i.GradleTaskTreeItem(m,e,d,u.description||d,"",l,s.getJavaDebug());y.setContext(),g.set(e.definition.id,y),m.addTask(y)}}),1===p.size?p.values().next().value.projects:[...p.values()]}}t.GradleTasksTreeDataProvider=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TreeItemWithTasksOrGroups=void 0;const n=r(0),o=r(28);class i extends n.TreeItem{constructor(e,t,r,o=n.TreeItemCollapsibleState.Expanded){super(e,o),this._tasks=[],this._groups=[],this.iconPath=new n.ThemeIcon("file-submodule"),this.contextValue="folder",this.resourceUri=r,this.parentTreeItem=t}addTask(e){this._tasks.push(e)}get tasks(){return this._tasks.sort(o.gradleTaskTreeItemSortCompareFunc)}addGroup(e){this._groups.push(e)}get groups(){return this._groups.sort(o.treeItemSortCompareFunc)}}t.TreeItemWithTasksOrGroups=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectTreeItem=void 0;const n=r(0),o=r(77);class i extends o.TreeItemWithTasksOrGroups{constructor(){super(...arguments),this.iconPath=n.ThemeIcon.File}}t.ProjectTreeItem=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroupTreeItem=void 0;const n=r(0),o=r(77);class i extends o.TreeItemWithTasksOrGroups{constructor(e,t,r){super(e,t,r,n.TreeItemCollapsibleState.Collapsed)}}t.GroupTreeItem=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoGradleTasksTreeItem=void 0;const n=r(11),o=r(27);class i extends n.NoTasksTreeItem{constructor(){super("No tasks found"),this.command={title:"Show Logs",command:o.COMMAND_SHOW_LOGS}}}t.NoGradleTasksTreeItem=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RootProjectTreeItem=void 0;const n=r(0),o=r(34);class i extends n.TreeItem{constructor(e,t){super(e,n.TreeItemCollapsibleState.Expanded),this.projects=[],this.parentTreeItem=null,this.contextValue=o.TREE_ITEM_STATE_FOLDER,this.resourceUri=t,this.iconPath=n.ThemeIcon.Folder}addProject(e){this.projects.push(e)}}t.RootProjectTreeItem=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GradleDaemonTreeItem=void 0;const n=r(0),o=r(4),i=r(33),s=r(34),a=Object.assign({},...Object.entries(i.DaemonInfo.DaemonStatus).map(([e,t])=>({[t]:e})));class l extends n.TreeItem{constructor(e,t,r){super(t,n.TreeItemCollapsibleState.None),this.context=e,this.label=t,this.daemonInfo=r;const i=s.DAEMON_ICON_MAP[r.getStatus()];this.iconPath={light:this.context.asAbsolutePath(o.join("resources","light",i)),dark:this.context.asAbsolutePath(o.join("resources","dark",i))},this.status=a[r.getStatus()],this.description=this.status,this.contextValue=this.status.toLowerCase(),this.tooltip=`${this.status} - ${r.getInfo()}`}get pid(){return this.daemonInfo.getPid()}}t.GradleDaemonTreeItem=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GradleDaemonsTreeDataProvider=void 0;const n=r(0),o=r(123),i=r(33),s=r(20),a=r(282),l=r(80),c=r(124);t.GradleDaemonsTreeDataProvider=class{constructor(e,t,r){this.context=e,this.rootProjectsStore=t,this.client=r,this.treeItems=[],this.specificVersion=!1,this._onDidChangeTreeData=new n.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event,this.setSpecificVersion(c.getSpecificVersionStatus())}async setSpecificVersion(e){this.specificVersion!==e&&(this.specificVersion=e,await n.commands.executeCommand("setContext","gradle:specificGradleVersion",e),this.refresh())}refresh(){var e;null===(e=this.cancelDeferred)||void 0===e||e.resolve(this.treeItems),this._onDidChangeTreeData.fire(null)}getTreeItem(e){return e}async getChildren(e){var t;if(e||!(null===(t=n.workspace.workspaceFolders)||void 0===t?void 0:t.length))return[];this.cancelDeferred=new a.Deferred;const r=new n.CancellationTokenSource;this.cancelDeferred.promise.then(()=>r.cancel());const c=(await this.getProjectRootFolders()).map(e=>this.client.getDaemonsStatus(e,r.token).then(e=>{if(!e)return[];let t=e.getDaemonInfoList();return s.getShowStoppedDaemons()||(t=t.filter(e=>e.getStatus()!==i.DaemonInfo.DaemonStatus.STOPPED)),t.map(e=>new o.GradleDaemonTreeItem(this.context,e.getPid(),e))}));return this.treeItems=await Promise.race([Promise.all(c).then(e=>e.flat()),this.cancelDeferred.promise]),this.cancelDeferred=void 0,this.treeItems.length?this.treeItems:this.specificVersion?[new l.HintItem("Gradle Daemons view is not available when specifying a Gradle version")]:[new l.HintItem("No Gradle Daemons")]}async getProjectRootFolders(){return(await this.rootProjectsStore.getProjectRootsWithUniqueVersions()).map(e=>e.getProjectUri().fsPath)}showStoppedDaemons(){s.setShowStoppedDaemons(!0),this.refresh()}hideStoppedDaemons(){s.setShowStoppedDaemons(!1),this.refresh()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Deferred=void 0;t.Deferred=class{constructor(){this.promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}resolve(e){this._resolve(e)}reject(e){this._reject(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoPinnedTasksTreeItem=void 0;const n=r(11),o=r(27);class i extends n.NoTasksTreeItem{constructor(){super("No pinned tasks"),this.command={title:"Show Help",command:o.COMMAND_OPEN_PIN_HELP}}}t.NoPinnedTasksTreeItem=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PinnedTaskTreeItem=void 0;const n=r(11),o=r(28);class i extends n.GradleTaskTreeItem{setContext(){const e=this.task.definition;this.contextValue=o.getTreeItemState(this.task,this.javaDebug,this.task.definition.args),this.tooltip=(e.args?`(args: ${e.args}) `:"")+(e.description||this.label),this.setIconState()}}t.PinnedTaskTreeItem=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PinnedTasksTreeDataProvider=t.getPinnedTasksTreeItemMap=void 0;const n=r(0),o=r(4),i=r(125),s=r(11),a=r(41),l=r(7),c=new Map,u=new Map;function d(e,t,r){const n=e.definition;if(a.isWorkspaceFolder(e.scope)&&l.isGradleTask(e)){let s=c.get(n.projectFolder);s||(s=new i.PinnedTasksRootProjectTreeItem(o.basename(n.projectFolder)),c.set(n.projectFolder,s));const a=function(e,t,r,n){const o=t.definition,s=t.name,a=new i.PinnedTaskTreeItem(e,t,s,o.description||s,"",n,r.getJavaDebug());return a.setContext(),a}(s,e,t,r);u.set(n.id+n.args,a),s.addTask(a)}}t.getPinnedTasksTreeItemMap=function(){return u};t.PinnedTasksTreeDataProvider=class{constructor(e,t,r,o,i){this.pinnedTasksStore=e,this.rootProjectsStore=t,this.gradleTaskProvider=r,this.icons=o,this.client=i,this._onDidChangeTreeData=new n.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event,this.pinnedTasksStore.onDidChange(()=>this.refresh())}getStore(){return this.pinnedTasksStore}getTreeItem(e){return e}refresh(e=null){this._onDidChangeTreeData.fire(e)}getParent(e){return e instanceof s.GradleTaskTreeItem&&e.parentTreeItem||null}async getChildren(e){if(e instanceof i.PinnedTasksRootProjectTreeItem)return[...e.tasks];if(!e){const e=await this.buildTreeItems();return e.length?e:[new i.NoPinnedTasksTreeItem]}return[]}async buildTreeItems(){u.clear(),c.clear();const e=await this.rootProjectsStore.getProjectRoots();if(!e.length)return[];const t=e.length>1;await this.gradleTaskProvider.waitForTasksLoad();const r=this.pinnedTasksStore.getData();return Array.from(r.keys()).forEach(e=>{const t=this.gradleTaskProvider.findByTaskId(e);if(!t)return;const n=t.definition,o=this.rootProjectsStore.get(n.projectFolder);if(!o)return;const i=r.get(e)||"";i&&Array.from(i.values()).forEach(e=>{d(l.cloneTask(this.rootProjectsStore,t,e,this.client),o,this.icons)})}),c.size?t?[...c.values()]:[...c.values().next().value.tasks]:[]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PinnedTasksRootProjectTreeItem=void 0;const n=r(0),o=r(11);class i extends o.TreeItemWithTasksOrGroups{constructor(){super(...arguments),this.iconPath=n.ThemeIcon.Folder}}t.PinnedTasksRootProjectTreeItem=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoRecentTasksTreeItem=void 0;const n=r(11);class o extends n.NoTasksTreeItem{constructor(){super("No recent tasks")}}t.NoRecentTasksTreeItem=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecentTaskTreeItem=void 0;const n=r(11),o=r(28);class i extends n.GradleTaskTreeItem{constructor(e,t,r,n,o,i,s={tasks:[],clean:!0}){super(e,t,r,n||r,"",o,s),this.taskTerminalsStore=i,this.javaDebug=s}setContext(){const e=this.task.definition;this.tooltip=(e.args?`(args: ${e.args}) `:"")+(e.description||this.label);const t=this.taskTerminalsStore.getItem(e.id+e.args),r=t?t.size:0;this.description=`(${r})`,this.contextValue=function(e,t){return t>0?e+"WithTerminals":e}(o.getTreeItemState(this.task,this.javaDebug,e.args),r),this.setIconState()}}t.RecentTaskTreeItem=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecentTasksTreeDataProvider=t.getRecentTaskTreeItemMap=void 0;const n=r(0),o=r(4),i=r(126),s=r(11),a=r(41),l=r(7),c=new Map,u=new Map;function d(e,t,r,n){const s=e.definition;if(a.isWorkspaceFolder(e.scope)&&l.isGradleTask(e)){let a=c.get(s.projectFolder);a||(a=new i.RecentTasksRootProjectTreeItem(o.basename(s.projectFolder)),c.set(s.projectFolder,a));const l=function(e,t,r,n,o){const s=t.definition,a=t.name,l=new i.RecentTaskTreeItem(e,t,a,s.description||a,o,n,r.getJavaDebug());return l.setContext(),l}(a,e,t,r,n);u.set(s.id+s.args,l),a.addTask(l)}}t.getRecentTaskTreeItemMap=function(){return u};t.RecentTasksTreeDataProvider=class{constructor(e,t,r,o,i,s){this.recentTasksStore=e,this.taskTerminalsStore=t,this.rootProjectsStore=r,this.gradleTaskProvider=o,this.client=i,this.icons=s,this._onDidChangeTreeData=new n.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event,this.handleTerminalsStoreChange=e=>{if(e){const t=Array.from(this.taskTerminalsStore.getData().keys()).find(t=>this.taskTerminalsStore.getItem(t)===e);if(t){const e=u.get(t);if(e)return e.setContext(),void this.refresh(e)}}this.refresh()},this.recentTasksStore.onDidChange(()=>this.refresh()),this.taskTerminalsStore.onDidChange(this.handleTerminalsStoreChange)}getStore(){return this.recentTasksStore}getTreeItem(e){return e}refresh(e=null){this._onDidChangeTreeData.fire(e)}getParent(e){return e instanceof s.GradleTaskTreeItem&&e.parentTreeItem||null}async getChildren(e){if(e instanceof i.RecentTasksRootProjectTreeItem)return[...e.tasks];if(!e){const e=await this.buildTreeItems();return e.length?e:[new i.NoRecentTasksTreeItem]}return[]}async buildTreeItems(){c.clear(),u.clear();const e=await this.rootProjectsStore.getProjectRoots();if(!e.length)return[];const t=e.length>1;await this.gradleTaskProvider.waitForTasksLoad();const r=this.recentTasksStore.getData();return Array.from(r.keys()).forEach(e=>{const t=this.gradleTaskProvider.findByTaskId(e);if(!t)return;const n=t.definition,o=this.rootProjectsStore.get(n.projectFolder);if(!o)return;const i=r.get(e)||"";i&&Array.from(i.values()).forEach(e=>{d(l.cloneTask(this.rootProjectsStore,t,e,this.client,n.javaDebug),o,this.taskTerminalsStore,this.icons)})}),c.size?t?[...c.values()]:[...c.values().next().value.tasks]:[]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecentTasksRootProjectTreeItem=void 0;const n=r(0),o=r(11);class i extends o.TreeItemWithTasksOrGroups{constructor(){super(...arguments),this.iconPath=n.ThemeIcon.Folder}}t.RecentTasksRootProjectTreeItem=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RestartTaskCommand=t.COMMAND_RESTART_TASK=void 0;const n=r(7),o=r(1);t.COMMAND_RESTART_TASK="gradle.restartTask";class i extends o.Command{constructor(e){super(),this.client=e}async run(e){if(e&&e.task){const t=n.getTaskExecution(e.task);t&&await n.queueRestartTask(this.client,t.task)}}}t.RestartTaskCommand=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RunTaskCommand=t.COMMAND_RUN_TASK=void 0;const n=r(7),o=r(1);t.COMMAND_RUN_TASK="gradle.runTask";class i extends o.Command{constructor(e,t,r){super(),this.rootProjectsStore=e,this.taskTerminalsStore=t,this.client=r}async run(e){e&&e.task&&await n.runTask(this.rootProjectsStore,this.taskTerminalsStore,e.task,this.client)}}t.RunTaskCommand=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RunTaskWithArgsCommand=t.COMMAND_RUN_TASK_WITH_ARGS=void 0;const n=r(7),o=r(10),i=r(1);t.COMMAND_RUN_TASK_WITH_ARGS="gradle.runTaskWithArgs";class s extends i.Command{constructor(e,t,r){super(),this.rootProjectsStore=e,this.taskTerminalsStore=t,this.client=r}async run(e){e&&e.task?await n.runTaskWithArgs(this.rootProjectsStore,this.taskTerminalsStore,e.task,this.client,!1):o.logger.error("Unable to run task with args. TreeItem or TreeItem task not found.")}}t.RunTaskWithArgsCommand=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShowLogsCommand=t.COMMAND_SHOW_LOGS=void 0;const n=r(10),o=r(1);t.COMMAND_SHOW_LOGS="gradle.showLogs";class i extends o.Command{async run(){var e;null===(e=n.logger.getChannel())||void 0===e||e.show()}}t.ShowLogsCommand=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShowTaskTerminalCommand=t.COMMAND_SHOW_TASK_TERMINAL=void 0;const n=r(1);t.COMMAND_SHOW_TASK_TERMINAL="gradle.showTaskTerminal";class o extends n.Command{constructor(e){super(),this.taskTerminalsStore=e}async run(e){if(e&&e.task){const t=e.task.definition,r=this.taskTerminalsStore.getItem(t.id+t.args);if(r){const e=Array.from(r).pop();e&&e.show()}}}}t.ShowTaskTerminalCommand=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShowTasksCommand=t.COMMAND_SHOW_TASKS=void 0;const n=r(28),o=r(1);t.COMMAND_SHOW_TASKS="gradle.showTasks";class i extends o.Command{constructor(e){super(),this.gradleTasksTreeView=e}async run(e){await n.focusProjectInGradleTasksTree(e,this.gradleTasksTreeView)}}t.ShowTasksCommand=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StopDaemonCommand=t.COMMAND_STOP_DAEMON=void 0;const n=r(21),o=r(10),i=r(1);t.COMMAND_STOP_DAEMON="gradle.stopDaemon";class s extends i.Command{constructor(e){super(),this.client=e}async run(e){if(!await n.confirmModal("Are you sure you want to stop the daemon?"))return;const t=e.pid,r=await this.client.stopDaemon(t);r&&o.logger.info(r.getMessage())}}t.StopDaemonCommand=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StopDaemonsCommand=t.COMMAND_STOP_DAEMONS=void 0;const n=r(0),o=r(21),i=r(10),s=r(1);t.COMMAND_STOP_DAEMONS="gradle.stopDaemons";class a extends s.Command{constructor(e,t){super(),this.client=e,this.rootProjectsStore=t}async run(){if(!n.workspace.workspaceFolders||!n.workspace.workspaceFolders.length||!await o.confirmModal("Are you sure you want to stop the daemons?"))return;const e=(await this.rootProjectsStore.getProjectRootsWithUniqueVersions()).map(e=>this.client.stopDaemons(e.getProjectUri().fsPath));(await Promise.all(e)).forEach(e=>{e&&i.logger.info(e.getMessage())})}}t.StopDaemonsCommand=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RunBuildCommand=t.COMMAND_RUN_BUILD=void 0;const n=r(0),o=r(118),i=r(21),s=r(119),a=r(48),l=r(1);t.COMMAND_RUN_BUILD="gradle.runBuild";class c extends l.Command{constructor(e,t){super(),this.rootProjectsStore=e,this.client=t}async run(){const e=await i.getRootProjectFolder(this.rootProjectsStore);if(!e)return;const t=await i.getGradleCommand();if(!t)return;const r=o.parseArgsStringToArgv(t.trim()),l=a.getRunBuildCancellationKey(e.getProjectUri().fsPath,r),c=new s.GradleRunnerTerminal(e,r,l,this.client),u=new n.Task({type:"gradle"},e.getWorkspaceFolder(),t,"gradle",new n.CustomExecution(async()=>c),["$gradle"]);u.presentationOptions={showReuseMessage:!1,clear:!0,echo:!0,focus:!0,panel:n.TaskPanelKind.Shared,reveal:n.TaskRevealKind.Always},await n.tasks.executeTask(u)}}t.RunBuildCommand=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FindTaskCommand=t.COMMAND_FIND_TASK=void 0;const n=r(21),o=r(28),i=r(1);t.COMMAND_FIND_TASK="gradle.findTask";class s extends i.Command{constructor(e,t){super(),this.gradleTasksTreeView=e,this.gradleTaskProvider=t}async run(){const e=await n.getFindTask(this.gradleTaskProvider);if(e){const t=this.gradleTaskProvider.getTasks().find(t=>t.name===e);t&&await o.focusTaskInGradleTasksTree(t,this.gradleTasksTreeView)}}}t.FindTaskCommand=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getJavaDebuggerExtension=t.getJavaLanguageSupportExtension=t.isJavaDebuggerExtensionActivated=t.isJavaLanguageSupportExtensionActivated=t.JAVA_DEBUGGER_EXTENSION_ID=t.JAVA_LANGUAGE_EXTENSION_ID=void 0;const n=r(0);function o(){return n.extensions.getExtension(t.JAVA_LANGUAGE_EXTENSION_ID)}function i(){return n.extensions.getExtension(t.JAVA_DEBUGGER_EXTENSION_ID)}t.JAVA_LANGUAGE_EXTENSION_ID="redhat.java",t.JAVA_DEBUGGER_EXTENSION_ID="vscjava.vscode-java-debug",t.isJavaLanguageSupportExtensionActivated=function(){const e=o();return(null==e?void 0:e.isActive)||!1},t.isJavaDebuggerExtensionActivated=function(){const e=i();return(null==e?void 0:e.isActive)||!1},t.getJavaLanguageSupportExtension=o,t.getJavaDebuggerExtension=i},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(303),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GradleServer=void 0;const n=r(0),o=r(4),i=r(37),s=r(120),a=r(304),l=r(305),c=r(41),u=/^\[([A-Z]+)\](.*)$/;t.GradleServer=class{constructor(e,t,r){this.opts=e,this.context=t,this.logger=r,this._onDidStart=new n.EventEmitter,this._onDidStop=new n.EventEmitter,this.ready=!1,this.restarting=!1,this.onDidStart=this._onDidStart.event,this.onDidStop=this._onDidStop.event,this.logOutput=e=>{const t=e.toString().trim();if(!t||"."===t)return;const r=t.match(u);if(r&&r.length){const[,e,t]=r,n=e.toLowerCase();this.logger[n](t.trim())}else this.logger.info(t)}}async start(){if(c.isDebuggingServer())this.port=8887,this.fireOnStart();else{this.port=await s();const e=this.context.asAbsolutePath("lib"),t=o.join(e,l.getGradleServerCommand()),r=l.getGradleServerEnv(),n=[String(this.port)];this.logger.debug("Starting server"),this.logger.debug(`Gradle Server cmd: ${t} ${n.join(" ")}`),this.process=i.spawn(`"${t}"`,n,{cwd:e,env:r,shell:!0}),this.process.stdout.on("data",this.logOutput),this.process.stderr.on("data",this.logOutput),this.process.on("error",e=>this.logger.error(e.message)).on("exit",async e=>{var t;this.logger.warn("Gradle server stopped"),this._onDidStop.fire(null),this.ready=!1,null===(t=this.process)||void 0===t||t.removeAllListeners(),this.restarting?(this.restarting=!1,await this.start()):0!==e&&await this.handleServerStartError()}),this.fireOnStart()}}isReady(){return this.ready}async showRestartMessage(){"Restart Server"===await n.window.showErrorMessage("No connection to gradle server. Try restarting the server.","Restart Server")&&await this.start()}async restart(){this.logger.info("Restarting gradle server"),this.restarting=!0,this.killProcess()}killProcess(){this.process&&a(this.process.pid,"SIGTERM")}async handleServerStartError(){await this.showRestartMessage()}fireOnStart(){this.ready=!0,this._onDidStart.fire(null)}stop(){var e;null===(e=this.process)||void 0===e||e.removeAllListeners(),this.killProcess(),this.ready=!1}dispose(){this.stop(),this._onDidStart.dispose(),this._onDidStop.dispose()}getPort(){return this.port}getOpts(){return this.opts}}},function(e,t,r){"use strict";var n=r(37),o=n.spawn,i=n.exec;function s(e,t,r){var n={};try{Object.keys(e).forEach((function(r){e[r].forEach((function(e){n[e]||(a(e,t),n[e]=1)})),n[r]||(a(r,t),n[r]=1)}))}catch(e){if(r)return r(e);throw e}if(r)return r()}function a(e,t){try{process.kill(parseInt(e,10),t)}catch(e){if("ESRCH"!==e.code)throw e}}function l(e,t,r,n,o){var i=n(e),s="";i.stdout.on("data",(function(e){e=e.toString("ascii");s+=e}));i.on("close",(function(i){delete r[e],0==i?s.match(/\d+/g).forEach((function(i){i=parseInt(i,10),t[e].push(i),t[i]=[],r[i]=1,l(i,t,r,n,o)})):0==Object.keys(r).length&&o()}))}e.exports=function(e,t,r){if("function"==typeof t&&void 0===r&&(r=t,t=void 0),e=parseInt(e),Number.isNaN(e)){if(r)return r(new Error("pid must be a number"));throw new Error("pid must be a number")}var n={},a={};switch(n[e]=[],a[e]=1,process.platform){case"win32":i("taskkill /pid "+e+" /T /F",r);break;case"darwin":l(e,n,a,(function(e){return o("pgrep",["-P",e])}),(function(){s(n,t,r)}));break;default:l(e,n,a,(function(e){return o("ps",["-o","pid","--no-headers","--ppid",e])}),(function(){s(n,t,r)}))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGradleServerEnv=t.getGradleServerCommand=void 0;const n=r(20);t.getGradleServerCommand=function(){const e=process.platform;if("win32"===e)return"gradle-server.bat";if("linux"===e||"darwin"===e)return"gradle-server";throw new Error("Unsupported platform")},t.getGradleServerEnv=function(){const e=n.getConfigGradleJavaHome(),t=Object.assign({},process.env);return e&&Object.assign(t,{VSCODE_JAVA_HOME:e}),t}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(307),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Icons=void 0;const n=r(4),o=r(34);t.Icons=class{constructor(e){this.context=e,this.iconPathRunning={light:this.context.asAbsolutePath(n.join("resources","light",o.ICON_LOADING)),dark:this.context.asAbsolutePath(n.join("resources","dark",o.ICON_LOADING))},this.iconPathIdle={light:this.context.asAbsolutePath(n.join("resources","light",o.ICON_GRADLE_TASK)),dark:this.context.asAbsolutePath(n.join("resources","dark",o.ICON_GRADLE_TASK))}}}},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.EventedStore=void 0;const o=r(0),i=r(309);class s{constructor(){this._onDidChange=new o.EventEmitter,this.onDidChange=this._onDidChange.event}fireOnDidChange(e){this._onDidChange.fire(e)}dispose(){this._onDidChange.dispose()}}n([i.debounce(0)],s.prototype,"fireOnDidChange",null),t.EventedStore=s},function(e,t,r){"use strict";function n(e){return(t,r,n)=>{let o=null,i=null;if("function"==typeof n.value?(o="value",i=n.value):"function"==typeof n.get&&(o="get",i=n.get),!i)throw new Error("not supported");n[o]=e(i,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=t.createDecorator=void 0,t.createDecorator=n,t.debounce=function(e){return n((t,r)=>{const n="$debounce$"+r;return function(...r){clearTimeout(this[n]),this[n]=setTimeout(()=>{t.apply(this,r)},e)}})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StoreMapSet=void 0;const n=r(129);class o extends n.StoreMap{addEntry(e,t,r=!0){let n=this.getItem(e);n||(n=new Set,this.setItem(e,n,!1)),n.has(t)||(n.add(t),r&&this.fireOnDidChange(n))}removeEntry(e,t,r=!0){const n=this.getItem(e);n&&n.has(t)&&(n.delete(t),0===n.size&&this.removeItem(e,!1),r&&this.fireOnDidChange(n))}}t.StoreMapSet=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskStore=void 0;const n=r(35);class o extends n.StoreMapSet{}t.TaskStore=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PinnedTasksStore=void 0;const n=r(35);class o extends n.TaskStore{constructor(e){super(),this.context=e;const t=this.context.workspaceState.get("pinnedTasks",{});t&&!Array.isArray(t)&&"object"==typeof t&&Object.keys(t).forEach(e=>{this.setItem(e,new Set(t[e]),!1)})}async fireOnDidChange(){const e=(t=this.getData(),Array.from(t.keys()).reduce((e,r)=>(e[r]=Array.from(t.get(r).values()),e),{}));var t;await this.context.workspaceState.update("pinnedTasks",e),super.fireOnDidChange(null)}}t.PinnedTasksStore=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecentTasksStore=void 0;const n=r(35);class o extends n.TaskStore{}t.RecentTasksStore=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskTerminalsStore=void 0;const n=r(35);class o extends n.StoreMapSet{removeTerminal(e){Array.from(this.getData().keys()).forEach(t=>{const r=this.getItem(t);r&&Array.from(r).forEach(t=>{t===e&&r.delete(t)})}),this.fireOnDidChange(null)}}t.TaskTerminalsStore=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RootProjectsStore=void 0;const n=r(0),o=r(4),i=r(20),s=r(35),a=r(41),l=r(130);function c(e){const t=n.workspace.getWorkspaceFolder(e),r=i.getConfigJavaDebug(t);return new l.RootProject(t,e,r)}function u(e,t,r){return!0===e?t.filter(e=>e!==r.uri.fsPath):Array.isArray(e)?e.map(e=>o.join(r.uri.fsPath,e)):[]}class d extends s.StoreMap{constructor(){super(...arguments),this.isPopulated=!1,this.populatePromise=void 0,this.setRootProjectFolder=e=>{a.isGradleRootProject(e)&&this.setItem(e.getProjectUri().fsPath,e,!1)}}async populate(){const e=n.workspace.workspaceFolders||[],t=await async function(){const e=await n.workspace.findFiles("**/{gradlew,gradlew.bat}");return[...new Set(e.map(e=>o.dirname(e.fsPath)))]}();for(const r of e){const e=u(i.getNestedProjectsConfig(r),t,r);t.includes(r.uri.fsPath)&&this.setRootProjectFolder(c(r.uri)),e.map(e=>c(n.Uri.file(e))).forEach(this.setRootProjectFolder)}this.isPopulated=!0,this.fireOnDidChange(null)}async getProjectRoots(){return this.isPopulated||(this.populatePromise||(this.populatePromise=this.populate()),await this.populatePromise,this.populatePromise=void 0),[...this.getData().values()]}async getProjectRootsWithUniqueVersions(){const e=[];return(await this.getProjectRoots()).filter(t=>{var r,n;const o=null===(n=null===(r=t.getEnvironment())||void 0===r?void 0:r.getGradleEnvironment())||void 0===n?void 0:n.getGradleVersion();return void 0!==o&&(!e.includes(o)&&(e.push(o),!0))})}clear(e=!0){super.clear(e),this.isPopulated=!1}}t.RootProjectsStore=d},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(317),t),o(r(318),t),o(r(319),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GradleTaskManager=void 0;const n=r(0),o=r(7);t.GradleTaskManager=class{constructor(e){this.context=e,this._onDidStartTask=new n.EventEmitter,this._onDidEndTask=new n.EventEmitter,this._onDidEndAllTasks=new n.EventEmitter,this.onDidStartTask=this._onDidStartTask.event,this.onDidEndTask=this._onDidEndTask.event,this.onDidEndAllTasks=this._onDidEndAllTasks.event,this.context.subscriptions.push(n.tasks.onDidStartTask(e=>{o.isGradleTask(e.execution.task)&&this._onDidStartTask.fire(e.execution.task)}),n.tasks.onDidEndTask(e=>{o.isGradleTask(e.execution.task)&&(this._onDidEndTask.fire(e.execution.task),0===o.getRunningGradleTasks().length&&this._onDidEndAllTasks.fire(null))}))}dispose(){this._onDidStartTask.dispose(),this._onDidEndAllTasks.dispose()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GradleTaskProvider=void 0;const n=r(0),o=r(10),i=r(7),s=r(130),a=r(20),l=r(127);t.GradleTaskProvider=class{constructor(e,t){this.rootProjectsStore=e,this.client=t,this.cachedTasks=[],this._onDidLoadTasks=new n.EventEmitter,this._onDidStartRefresh=new n.EventEmitter,this._onDidStopRefresh=new n.EventEmitter,this.onDidLoadTasks=this._onDidLoadTasks.event,this.onDidStartRefresh=this._onDidStartRefresh.event,this.onDidStopRefresh=this._onDidStopRefresh.event,this._waitForTasksLoad=new l.EventWaiter(this.onDidLoadTasks),this.waitForTasksLoad=this._waitForTasksLoad.wait}provideTasks(){return this.loadTasks()}async resolveTask(e){const{definition:t}=e,r=t,l=n.workspace.getWorkspaceFolder(n.Uri.file(r.workspaceFolder));if(!l)return void o.logger.error("Unable to provide Gradle task. Invalid workspace folder: ",r.workspaceFolder);const c=a.getConfigJavaDebug(l),u=new s.RootProject(l,n.Uri.file(r.projectFolder),c);return i.createTaskFromDefinition(r,u,this.client)}async loadTasks(){if(this.loadTasksPromise)return this.loadTasksPromise;if(this.cachedTasks.length)return Promise.resolve(this.cachedTasks);o.logger.debug("Refreshing tasks"),this._onDidStartRefresh.fire(null);const e=await this.rootProjectsStore.getProjectRoots();return e.length?(this.loadTasksPromise=i.loadTasksForProjectRoots(this.client,e).then(e=>{this.cachedTasks=e,o.logger.info(`Found ${this.cachedTasks.length} tasks`)},e=>{o.logger.error("Unable to refresh tasks:",e.message),this.cachedTasks=[]}).then(()=>this.cachedTasks),this.loadTasksPromise.finally(()=>{this._onDidLoadTasks.fire(this.cachedTasks),this._onDidStopRefresh.fire(null),this.loadTasksPromise=void 0})):(this.cachedTasks=[],Promise.resolve(this.cachedTasks))}getTasks(){return this.cachedTasks}findByTaskId(e){return this.getTasks().find(t=>t.definition.id===e)}clearTasksCache(){this.cachedTasks=[],this._waitForTasksLoad.reset()}dispose(){this._onDidLoadTasks.dispose(),this._onDidStartRefresh.dispose(),this._onDidStopRefresh.dispose()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Commands=void 0;const n=r(0),o=r(89),i=r(27),s=r(321),a=r(322);t.Commands=class{constructor(e,t,r,n,o,i,s,a,l,c,u,d,g){this.context=e,this.pinnedTasksStore=t,this.gradleTaskProvider=r,this.gradleDependencyProvider=n,this.gradleTasksTreeDataProvider=o,this.pinnedTasksTreeDataProvider=i,this.recentTasksTreeDataProvider=s,this.gradleDaemonsTreeDataProvider=a,this.client=l,this.rootProjectsStore=c,this.taskTerminalsStore=u,this.recentTasksStore=d,this.gradleTasksTreeView=g}registerCommand(e,t){this.context.subscriptions.push(o.instrumentOperationAsVsCodeCommand(e,(...e)=>t.run(...e)))}registerCommandWithoutInstrument(e,t){this.context.subscriptions.push(n.commands.registerCommand(e,(...e)=>t.run(...e)))}register(){this.registerCommand(i.COMMAND_SHOW_TASKS,new i.ShowTasksCommand(this.gradleTasksTreeView)),this.registerCommand(i.COMMAND_RUN_TASK,new i.RunTaskCommand(this.rootProjectsStore,this.taskTerminalsStore,this.client)),this.registerCommand(i.COMMAND_DEBUG_TASK,new i.DebugTaskCommand(this.rootProjectsStore,this.taskTerminalsStore,this.client)),this.registerCommand(i.COMMAND_RESTART_TASK,new i.RestartTaskCommand(this.client)),this.registerCommand(i.COMMAND_RUN_TASK_WITH_ARGS,new i.RunTaskWithArgsCommand(this.rootProjectsStore,this.taskTerminalsStore,this.client)),this.registerCommand(i.COMMAND_DEBUG_TASK_WITH_ARGS,new i.DebugTaskWithArgsCommand(this.rootProjectsStore,this.taskTerminalsStore,this.client)),this.registerCommandWithoutInstrument(i.COMMAND_RENDER_TASK,new i.RenderTaskCommand(this.gradleTasksTreeDataProvider,this.pinnedTasksTreeDataProvider,this.recentTasksTreeDataProvider)),this.registerCommand(i.COMMAND_CANCEL_BUILD,new i.CancelBuildCommand(this.client)),this.registerCommand(i.COMMAND_CANCEL_TREE_ITEM_TASK,new i.CancelTreeItemTaskCommand),this.registerCommandWithoutInstrument(i.COMMAND_REFRESH,new i.RefreshCommand(this.gradleTaskProvider,this.gradleDependencyProvider,this.gradleTasksTreeDataProvider,this.pinnedTasksTreeDataProvider,this.recentTasksTreeDataProvider)),this.registerCommand(i.COMMAND_LOAD_TASKS,new i.LoadTasksCommand(this.gradleTaskProvider)),this.registerCommandWithoutInstrument(i.COMMAND_REFRESH_DAEMON_STATUS,new i.RefreshDaemonStatusCommand(this.gradleDaemonsTreeDataProvider)),this.registerCommand(i.COMMAND_STOP_DAEMONS,new i.StopDaemonsCommand(this.client,this.rootProjectsStore)),this.registerCommand(i.COMMAND_STOP_DAEMON,new i.StopDaemonCommand(this.client)),this.registerCommand(i.COMMAND_EXPLORER_TREE,new i.ExplorerTreeCommand(this.gradleTasksTreeDataProvider)),this.registerCommand(i.COMMAND_EXPLORER_FLAT,new i.ExplorerFlatCommand(this.gradleTasksTreeDataProvider)),this.registerCommand(i.COMMAND_OPEN_SETTINGS,new i.OpenSettingsCommand),this.registerCommand(i.COMMAND_OPEN_BUILD_FILE,new i.OpenBuildFileCommand),this.registerCommand(i.COMMAND_OPEN_BUILD_FILE_DOUBLE_CLICK,new i.OpenBuildFileDoubleClickCommand),this.registerCommand(i.COMMAND_CANCELLING_TREE_ITEM_TASK,new i.CancellingTreeItemTaskCommand),this.registerCommand(i.COMMAND_SHOW_LOGS,new i.ShowLogsCommand),this.registerCommand(i.COMMAND_PIN_TASK,new i.PinTaskCommand(this.pinnedTasksTreeDataProvider)),this.registerCommand(i.COMMAND_PIN_TASK_WITH_ARGS,new i.PinTaskWithArgsCommand(this.pinnedTasksTreeDataProvider)),this.registerCommand(i.COMMAND_REMOVE_PINNED_TASK,new i.RemovePinnedTaskCommand(this.pinnedTasksTreeDataProvider)),this.registerCommand(i.COMMAND_OPEN_PIN_HELP,new i.OpenPinHelpCommand),this.registerCommand(i.COMMAND_SHOW_TASK_TERMINAL,new i.ShowTaskTerminalCommand(this.taskTerminalsStore)),this.registerCommand(i.COMMAND_CLOSE_TASK_TERMINALS,new i.CloseTaskTerminalsCommand(this.taskTerminalsStore)),this.registerCommand(i.COMMAND_CLOSE_ALL_TASK_TERMINALS,new i.CloseAllTaskTerminalsCommand(this.taskTerminalsStore)),this.registerCommand(i.COMMAND_CLEAR_ALL_RECENT_TASKS,new i.ClearAllRecentTasksCommand(this.recentTasksStore)),this.registerCommand(i.COMMAND_CLEAR_ALL_PINNED_TASKS,new i.ClearAllPinnedTasksCommand(this.pinnedTasksStore)),this.registerCommand(i.COMMAND_REMOVE_RECENT_TASK,new i.RemoveRecentTaskCommand(this.recentTasksStore)),this.registerCommand(i.COMMAND_RUN_BUILD,new i.RunBuildCommand(this.rootProjectsStore,this.client)),this.registerCommand(i.COMMAND_FIND_TASK,new i.FindTaskCommand(this.gradleTasksTreeView,this.gradleTaskProvider)),this.registerCommand(a.SHOW_STOPPED_DAEMONS,new a.ShowStoppedDaemonsCommand(this.gradleDaemonsTreeDataProvider)),this.registerCommand(s.HIDE_STOPPED_DAEMONS,new s.HideStoppedDaemonsCommand(this.gradleDaemonsTreeDataProvider))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HideStoppedDaemonsCommand=t.HIDE_STOPPED_DAEMONS=void 0;const n=r(1);t.HIDE_STOPPED_DAEMONS="gradle.hideStoppedDaemons";class o extends n.Command{constructor(e){super(),this.gradleDaemonsTreeDataProvider=e}async run(){this.gradleDaemonsTreeDataProvider.hideStoppedDaemons()}}t.HideStoppedDaemonsCommand=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShowStoppedDaemonsCommand=t.SHOW_STOPPED_DAEMONS=void 0;const n=r(1);t.SHOW_STOPPED_DAEMONS="gradle.showStoppedDaemons";class o extends n.Command{constructor(e){super(),this.gradleDaemonsTreeDataProvider=e}async run(){this.gradleDaemonsTreeDataProvider.showStoppedDaemons()}}t.ShowStoppedDaemonsCommand=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileWatcher=void 0;const n=r(0),o=r(131);t.FileWatcher=class{constructor(e){this.fileGlob=e,this._onDidChange=new n.EventEmitter,this.onDidChange=this._onDidChange.event,this.fireOnDidChange=e=>{this._onDidChange.fire(e)},this.onDidSaveDisposable=n.workspace.onDidSaveTextDocument(e=>{this.isFileMatching(e.uri)&&this.fireOnDidChange(e.uri)}),this.onDidDeleteDisposable=n.workspace.onDidDeleteFiles(e=>{const t=e.files.find(e=>this.isFileMatching(e));t&&this.fireOnDidChange(t)}),this.onDidCreateDisposable=n.workspace.onDidCreateFiles(e=>{const t=e.files.find(e=>this.isFileMatching(e));t&&this.fireOnDidChange(t)})}isFileMatching(e){return"file"===e.scheme&&o(e.fsPath,this.fileGlob)}dispose(){this.onDidSaveDisposable.dispose(),this.onDidDeleteDisposable.dispose(),this.onDidCreateDisposable.dispose(),this._onDidChange.dispose()}}},function(e,t,r){var n=r(325),o=r(326);e.exports=function(e){if(!e)return[];"{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2));return function e(t,r){var i=[],s=o("{","}",t);if(!s||/\$$/.test(s.pre))return[t];var l,c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),d=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),m=c||d,y=s.body.indexOf(",")>=0;if(!m&&!y)return s.post.match(/,.*\}/)?(t=s.pre+"{"+s.body+a+s.post,e(t)):[t];if(m)l=s.body.split(/\.\./);else{if(1===(l=function e(t){if(!t)return[""];var r=[],n=o("{","}",t);if(!n)return t.split(",");var i=n.pre,s=n.body,a=n.post,l=i.split(",");l[l.length-1]+="{"+s+"}";var c=e(a);a.length&&(l[l.length-1]+=c.shift(),l.push.apply(l,c));return r.push.apply(r,l),r}(s.body)).length)if(1===(l=e(l[0],!1).map(g)).length)return(T=s.post.length?e(s.post,!1):[""]).map((function(e){return s.pre+l[0]+e}))}var v,_=s.pre,T=s.post.length?e(s.post,!1):[""];if(m){var S=u(l[0]),b=u(l[1]),E=Math.max(l[0].length,l[1].length),C=3==l.length?Math.abs(u(l[2])):1,R=h;b<S&&(C*=-1,R=f);var w=l.some(p);v=[];for(var D=S;R(D,b);D+=C){var A;if(d)"\\"===(A=String.fromCharCode(D))&&(A="");else if(A=String(D),w){var O=E-A.length;if(O>0){var I=new Array(O+1).join("0");A=D<0?"-"+I+A.slice(1):I+A}}v.push(A)}}else v=n(l,(function(t){return e(t,!1)}));for(var P=0;P<v.length;P++)for(var N=0;N<T.length;N++){var M=_+v[P]+T[N];(!r||m||M)&&i.push(M)}return i}(function(e){return e.split("\\\\").join(i).split("\\{").join(s).split("\\}").join(a).split("\\,").join(l).split("\\.").join(c)}(e),!0).map(d)};var i="\0SLASH"+Math.random()+"\0",s="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",l="\0COMMA"+Math.random()+"\0",c="\0PERIOD"+Math.random()+"\0";function u(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function d(e){return e.split(i).join("\\").split(s).join("{").split(a).join("}").split(l).join(",").split(c).join(".")}function g(e){return"{"+e+"}"}function p(e){return/^-?0\d/.test(e)}function h(e,t){return e<=t}function f(e,t){return e>=t}},function(e,t){e.exports=function(e,t){for(var n=[],o=0;o<e.length;o++){var i=t(e[o],o);r(i)?n.push.apply(n,i):n.push(i)}return n};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){"use strict";function n(e,t,r){e instanceof RegExp&&(e=o(e,r)),t instanceof RegExp&&(t=o(t,r));var n=i(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}function o(e,t){var r=t.match(e);return r?r[0]:null}function i(e,t,r){var n,o,i,s,a,l=r.indexOf(e),c=r.indexOf(t,l+1),u=l;if(l>=0&&c>0){if(e===t)return[l,c];for(n=[],i=r.length;u>=0&&!a;)u==l?(n.push(u),l=r.indexOf(e,u+1)):1==n.length?a=[n.pop(),c]:((o=n.pop())<i&&(i=o,s=c),c=r.indexOf(t,u+1)),u=l<c&&l>=0?l:c;n.length&&(a=[i,s])}return a}e.exports=n,n.range=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GradleDependencyProvider=void 0;const n=r(20),o=r(132),i=r(80);t.GradleDependencyProvider=class{constructor(e){this.client=e,this.cachedDependencies=new Map}async getDependencies(e){const t=e.getProjectPath();if(this.cachedDependencies.has(t))return this.cachedDependencies.get(t);const r=await this.client.getDependencies(t,n.getGradleConfig(),e.getProjectName());if(r){const n=o.getDependencyConfigurationTreeItems(r,e);if(n)return this.cachedDependencies.set(t,n),n}const s=[new i.HintItem("No dependencies")];return this.cachedDependencies.set(t,s),s}clearDependenciesCache(){this.cachedDependencies.clear()}}},function(e,t,r){const n=r(42);e.exports={re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:r(58).SEMVER_SPEC_VERSION,SemVer:r(9),compareIdentifiers:r(81).compareIdentifiers,rcompareIdentifiers:r(81).rcompareIdentifiers,parse:r(43),valid:r(329),clean:r(330),inc:r(331),diff:r(332),major:r(333),minor:r(334),patch:r(335),prerelease:r(336),compare:r(16),rcompare:r(337),compareLoose:r(338),compareBuild:r(83),sort:r(339),rsort:r(340),gt:r(61),lt:r(84),eq:r(82),neq:r(135),gte:r(85),lte:r(86),cmp:r(136),coerce:r(341),Comparator:r(62),Range:r(17),satisfies:r(63),toComparators:r(345),maxSatisfying:r(346),minSatisfying:r(347),minVersion:r(348),validRange:r(349),outside:r(87),gtr:r(350),ltr:r(351),intersects:r(352),simplifyRange:r(353),subset:r(354)}},function(e,t,r){const n=r(43);e.exports=(e,t)=>{const r=n(e,t);return r?r.version:null}},function(e,t,r){const n=r(43);e.exports=(e,t)=>{const r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},function(e,t,r){const n=r(9);e.exports=(e,t,r,o)=>{"string"==typeof r&&(o=r,r=void 0);try{return new n(e,r).inc(t,o).version}catch(e){return null}}},function(e,t,r){const n=r(43),o=r(82);e.exports=(e,t)=>{if(o(e,t))return null;{const r=n(e),o=n(t),i=r.prerelease.length||o.prerelease.length,s=i?"pre":"",a=i?"prerelease":"";for(const e in r)if(("major"===e||"minor"===e||"patch"===e)&&r[e]!==o[e])return s+e;return a}}},function(e,t,r){const n=r(9);e.exports=(e,t)=>new n(e,t).major},function(e,t,r){const n=r(9);e.exports=(e,t)=>new n(e,t).minor},function(e,t,r){const n=r(9);e.exports=(e,t)=>new n(e,t).patch},function(e,t,r){const n=r(43);e.exports=(e,t)=>{const r=n(e,t);return r&&r.prerelease.length?r.prerelease:null}},function(e,t,r){const n=r(16);e.exports=(e,t,r)=>n(t,e,r)},function(e,t,r){const n=r(16);e.exports=(e,t)=>n(e,t,!0)},function(e,t,r){const n=r(83);e.exports=(e,t)=>e.sort((e,r)=>n(e,r,t))},function(e,t,r){const n=r(83);e.exports=(e,t)=>e.sort((e,r)=>n(r,e,t))},function(e,t,r){const n=r(9),o=r(43),{re:i,t:s}=r(42);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){let t;for(;(t=i[s.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&t.index+t[0].length===r.index+r[0].length||(r=t),i[s.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;i[s.COERCERTL].lastIndex=-1}else r=e.match(i[s.COERCE]);return null===r?null:o(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)}},function(e,t,r){"use strict";const n=r(343),o=Symbol("max"),i=Symbol("length"),s=Symbol("lengthCalculator"),a=Symbol("allowStale"),l=Symbol("maxAge"),c=Symbol("dispose"),u=Symbol("noDisposeOnSet"),d=Symbol("lruList"),g=Symbol("cache"),p=Symbol("updateAgeOnGet"),h=()=>1;const f=(e,t,r)=>{const n=e[g].get(t);if(n){const t=n.value;if(m(e,t)){if(v(e,n),!e[a])return}else r&&(e[p]&&(n.value.now=Date.now()),e[d].unshiftNode(n));return t.value}},m=(e,t)=>{if(!t||!t.maxAge&&!e[l])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[l]&&r>e[l]},y=e=>{if(e[i]>e[o])for(let t=e[d].tail;e[i]>e[o]&&null!==t;){const r=t.prev;v(e,t),t=r}},v=(e,t)=>{if(t){const r=t.value;e[c]&&e[c](r.key,r.value),e[i]-=r.length,e[g].delete(r.key),e[d].removeNode(t)}};class _{constructor(e,t,r,n,o){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=o||0}}const T=(e,t,r,n)=>{let o=r.value;m(e,o)&&(v(e,r),e[a]||(o=void 0)),o&&t.call(n,o.value,o.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[o]=e.max||1/0;const t=e.length||h;if(this[s]="function"!=typeof t?h:t,this[a]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[l]=e.maxAge||0,this[c]=e.dispose,this[u]=e.noDisposeOnSet||!1,this[p]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[o]=e||1/0,y(this)}get max(){return this[o]}set allowStale(e){this[a]=!!e}get allowStale(){return this[a]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[l]=e,y(this)}get maxAge(){return this[l]}set lengthCalculator(e){"function"!=typeof e&&(e=h),e!==this[s]&&(this[s]=e,this[i]=0,this[d].forEach(e=>{e.length=this[s](e.value,e.key),this[i]+=e.length})),y(this)}get lengthCalculator(){return this[s]}get length(){return this[i]}get itemCount(){return this[d].length}rforEach(e,t){t=t||this;for(let r=this[d].tail;null!==r;){const n=r.prev;T(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[d].head;null!==r;){const n=r.next;T(this,e,r,t),r=n}}keys(){return this[d].toArray().map(e=>e.key)}values(){return this[d].toArray().map(e=>e.value)}reset(){this[c]&&this[d]&&this[d].length&&this[d].forEach(e=>this[c](e.key,e.value)),this[g]=new Map,this[d]=new n,this[i]=0}dump(){return this[d].map(e=>!m(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[d]}set(e,t,r){if((r=r||this[l])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,a=this[s](t,e);if(this[g].has(e)){if(a>this[o])return v(this,this[g].get(e)),!1;const s=this[g].get(e).value;return this[c]&&(this[u]||this[c](e,s.value)),s.now=n,s.maxAge=r,s.value=t,this[i]+=a-s.length,s.length=a,this.get(e),y(this),!0}const p=new _(e,t,a,n,r);return p.length>this[o]?(this[c]&&this[c](e,t),!1):(this[i]+=p.length,this[d].unshift(p),this[g].set(e,this[d].head),y(this),!0)}has(e){if(!this[g].has(e))return!1;const t=this[g].get(e).value;return!m(this,t)}get(e){return f(this,e,!0)}peek(e){return f(this,e,!1)}pop(){const e=this[d].tail;return e?(v(this,e),e.value):null}del(e){v(this,this[g].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r],o=n.e||0;if(0===o)this.set(n.k,n.v);else{const e=o-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[g].forEach((e,t)=>f(this,t,!1))}}},function(e,t,r){"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var r=0,o=arguments.length;r<o;r++)t.push(arguments[r]);return t}function o(e,t,r){var n=t===e.head?new a(r,null,t,e):new a(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function i(e,t){e.tail=new a(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function s(e,t){e.head=new a(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function a(e,t,r,n){if(!(this instanceof a))return new a(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=n,n.Node=a,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)i(this,arguments[e]);return this.length},n.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)s(this,arguments[e]);return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},n.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},n.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,o=this.head;null!==o;)r.push(e.call(t,o.value,this)),o=o.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,o=this.tail;null!==o;)r.push(e.call(t,o.value,this)),o=o.prev;return r},n.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var o=0;null!==n;o++)r=e(r,n.value,o),n=n.next;return r},n.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var o=this.length-1;null!==n;o--)r=e(r,n.value,o),n=n.prev;return r},n.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},n.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=0,i=this.head;null!==i&&o<e;o++)i=i.next;for(;null!==i&&o<t;o++,i=i.next)r.push(i.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=this.length,i=this.tail;null!==i&&o>t;o--)i=i.prev;for(;null!==i&&o>e;o--,i=i.prev)r.push(i.value);return r},n.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,i=this.head;null!==i&&n<e;n++)i=i.next;var s=[];for(n=0;i&&n<t;n++)s.push(i.value),i=this.removeNode(i);null===i&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(n=0;n<r.length;n++)i=o(this,i,r[n]);return s},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{r(344)(n)}catch(e){}},function(e,t,r){"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},function(e,t,r){const n=r(17);e.exports=(e,t)=>new n(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))},function(e,t,r){const n=r(9),o=r(17);e.exports=(e,t,r)=>{let i=null,s=null,a=null;try{a=new o(t,r)}catch(e){return null}return e.forEach(e=>{a.test(e)&&(i&&-1!==s.compare(e)||(i=e,s=new n(i,r)))}),i}},function(e,t,r){const n=r(9),o=r(17);e.exports=(e,t,r)=>{let i=null,s=null,a=null;try{a=new o(t,r)}catch(e){return null}return e.forEach(e=>{a.test(e)&&(i&&1!==s.compare(e)||(i=e,s=new n(i,r)))}),i}},function(e,t,r){const n=r(9),o=r(17),i=r(61);e.exports=(e,t)=>{e=new o(e,t);let r=new n("0.0.0");if(e.test(r))return r;if(r=new n("0.0.0-0"),e.test(r))return r;r=null;for(let t=0;t<e.set.length;++t){const o=e.set[t];let s=null;o.forEach(e=>{const t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":s&&!i(t,s)||(s=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}),!s||r&&!i(r,s)||(r=s)}return r&&e.test(r)?r:null}},function(e,t,r){const n=r(17);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},function(e,t,r){const n=r(87);e.exports=(e,t,r)=>n(e,t,">",r)},function(e,t,r){const n=r(87);e.exports=(e,t,r)=>n(e,t,"<",r)},function(e,t,r){const n=r(17);e.exports=(e,t,r)=>(e=new n(e,r),t=new n(t,r),e.intersects(t))},function(e,t,r){const n=r(63),o=r(16);e.exports=(e,t,r)=>{const i=[];let s=null,a=null;const l=e.sort((e,t)=>o(e,t,r));for(const e of l){n(e,t,r)?(a=e,s||(s=e)):(a&&i.push([s,a]),a=null,s=null)}s&&i.push([s,null]);const c=[];for(const[e,t]of i)e===t?c.push(e):t||e!==l[0]?t?e===l[0]?c.push("<="+t):c.push(`${e} - ${t}`):c.push(">="+e):c.push("*");const u=c.join(" || "),d="string"==typeof t.raw?t.raw:String(t);return u.length<d.length?u:t}},function(e,t,r){const n=r(17),o=r(62),{ANY:i}=o,s=r(63),a=r(16),l=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===i){if(1===t.length&&t[0].semver===i)return!0;e=r.includePrerelease?[new o(">=0.0.0-0")]:[new o(">=0.0.0")]}if(1===t.length&&t[0].semver===i){if(r.includePrerelease)return!0;t=[new o(">=0.0.0")]}const n=new Set;let l,d,g,p,h,f,m;for(const t of e)">"===t.operator||">="===t.operator?l=c(l,t,r):"<"===t.operator||"<="===t.operator?d=u(d,t,r):n.add(t.semver);if(n.size>1)return null;if(l&&d){if(g=a(l.semver,d.semver,r),g>0)return null;if(0===g&&(">="!==l.operator||"<="!==d.operator))return null}for(const e of n){if(l&&!s(e,String(l),r))return null;if(d&&!s(e,String(d),r))return null;for(const n of t)if(!s(e,String(n),r))return!1;return!0}let y=!(!d||r.includePrerelease||!d.semver.prerelease.length)&&d.semver,v=!(!l||r.includePrerelease||!l.semver.prerelease.length)&&l.semver;y&&1===y.prerelease.length&&"<"===d.operator&&0===y.prerelease[0]&&(y=!1);for(const e of t){if(m=m||">"===e.operator||">="===e.operator,f=f||"<"===e.operator||"<="===e.operator,l)if(v&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===v.major&&e.semver.minor===v.minor&&e.semver.patch===v.patch&&(v=!1),">"===e.operator||">="===e.operator){if(p=c(l,e,r),p===e&&p!==l)return!1}else if(">="===l.operator&&!s(l.semver,String(e),r))return!1;if(d)if(y&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===y.major&&e.semver.minor===y.minor&&e.semver.patch===y.patch&&(y=!1),"<"===e.operator||"<="===e.operator){if(h=u(d,e,r),h===e&&h!==d)return!1}else if("<="===d.operator&&!s(d.semver,String(e),r))return!1;if(!e.operator&&(d||l)&&0!==g)return!1}return!(l&&f&&!d&&0!==g)&&(!(d&&m&&!l&&0!==g)&&(!v&&!y))},c=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},u=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,r={})=>{if(e===t)return!0;e=new n(e,r),t=new n(t,r);let o=!1;e:for(const n of e.set){for(const e of t.set){const t=l(n,e,r);if(o=o||null!==t,t)continue e}if(o)return!1}return!0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(29),o=r(30),i=r(139),s=r(356);class a extends s.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return a.emptyBuffer}fromString(e,t){return Buffer.from(e,t)}toString(e,t){return e instanceof Buffer?e.toString(t):new o.TextDecoder(t).decode(e)}asNative(e,t){return void 0===t?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,t):Buffer.from(e,0,t)}allocNative(e){return Buffer.allocUnsafe(e)}}a.emptyBuffer=Buffer.allocUnsafe(0);class l{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),i.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),i.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),i.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),i.Disposable.create(()=>this.stream.off("data",e))}}class c{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),i.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),i.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),i.Disposable.create(()=>this.stream.off("end",e))}write(e,t){return new Promise((r,n)=>{const o=e=>{null==e?r():n(e)};"string"==typeof e?this.stream.write(e,t,o):this.stream.write(e,o)})}end(){this.stream.end()}}const u=Object.freeze({messageBuffer:Object.freeze({create:e=>new a(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(e){return Promise.reject(e)}}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new o.TextDecoder(t.charset).decode(e)))}catch(e){return Promise.reject(e)}}})}),stream:Object.freeze({asReadableStream:e=>new l(e),asWritableStream:e=>new c(e)}),console:console,timer:Object.freeze({setTimeout:(e,t,...r)=>setTimeout(e,t,...r),clearTimeout(e){clearTimeout(e)},setImmediate:(e,...t)=>setImmediate(e,...t),clearImmediate(e){clearImmediate(e)}})});function d(){return u}!function(e){e.install=function(){n.default.install(u)}}(d||(d={})),t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractMessageBuffer=void 0;t.AbstractMessageBuffer=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){const t="string"==typeof e?this.fromString(e,this._encoding):e;this._chunks.push(t),this._totalLength+=t.byteLength}tryReadHeaders(){if(0===this._chunks.length)return;let e=0,t=0,r=0,n=0;e:for(;t<this._chunks.length;){const o=this._chunks[t];for(r=0;r<o.length;){switch(o[r]){case 13:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case 10:switch(e){case 1:e=2;break;case 3:e=4,r++;break e;default:e=0}break;default:e=0}r++}n+=o.byteLength,t++}if(4!==e)return;const o=this._read(n+r),i=new Map,s=this.toString(o,"ascii").split("\r\n");if(s.length<2)return i;for(let e=0;e<s.length-2;e++){const t=s[e],r=t.indexOf(":");if(-1===r)throw new Error("Message header must separate key and value using :");const n=t.substr(0,r),o=t.substr(r+1).trim();i.set(n,o)}return i}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(0===e)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){const t=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(t)}if(this._chunks[0].byteLength>e){const t=this._chunks[0],r=this.asNative(t,e);return this._chunks[0]=t.slice(e),this._totalLength-=e,r}const t=this.allocNative(e);let r=0;for(;e>0;){const n=this._chunks[0];if(n.byteLength>e){const o=n.slice(0,e);t.set(o,r),r+=e,this._chunks[0]=n.slice(e),this._totalLength-=e,e-=e}else t.set(n,r),r+=n.byteLength,this._chunks.shift(),this._totalLength-=n.byteLength,e-=n.byteLength}return t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=void 0;const n=r(29),o=r(52),i=r(53);var s;!function(e){e.is=function(e){let t=e;return t&&o.func(t.listen)&&o.func(t.dispose)&&o.func(t.onError)&&o.func(t.onClose)&&o.func(t.onPartialMessage)}}(t.MessageReader||(t.MessageReader={}));class a{constructor(){this.errorEmitter=new i.Emitter,this.closeEmitter=new i.Emitter,this.partialMessageEmitter=new i.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error("Reader received error. Reason: "+(o.string(e.message)?e.message:"unknown"))}}t.AbstractMessageReader=a,function(e){e.fromOptions=function(e){var t;let r,o;const i=new Map;let s;const a=new Map;if(void 0===e||"string"==typeof e)r=null!=e?e:"utf-8";else{if(r=null!==(t=e.charset)&&void 0!==t?t:"utf-8",void 0!==e.contentDecoder&&(o=e.contentDecoder,i.set(o.name,o)),void 0!==e.contentDecoders)for(const t of e.contentDecoders)i.set(t.name,t);if(void 0!==e.contentTypeDecoder&&(s=e.contentTypeDecoder,a.set(s.name,s)),void 0!==e.contentTypeDecoders)for(const t of e.contentTypeDecoders)a.set(t.name,t)}return void 0===s&&(s=n.default().applicationJson.decoder,a.set(s.name,s)),{charset:r,contentDecoder:o,contentDecoders:i,contentTypeDecoder:s,contentTypeDecoders:a}}}(s||(s={}));t.ReadableStreamMessageReader=class extends a{constructor(e,t){super(),this.readable=e,this.options=s.fromOptions(t),this.buffer=n.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;const t=this.readable.onData(e=>{this.onData(e)});return this.readable.onError(e=>this.fireError(e)),this.readable.onClose(()=>this.fireClose()),t}onData(e){for(this.buffer.append(e);;){if(-1===this.nextMessageLength){const e=this.buffer.tryReadHeaders();if(!e)return;const t=e.get("Content-Length");if(!t)throw new Error("Header must provide a Content-Length property.");const r=parseInt(t);if(isNaN(r))throw new Error("Content-Length value must be a number.");this.nextMessageLength=r}const e=this.buffer.tryReadBody(this.nextMessageLength);if(void 0===e)return void this.setPartialMessageTimer();let t;this.clearPartialMessageTimer(),this.nextMessageLength=-1,t=void 0!==this.options.contentDecoder?this.options.contentDecoder.decode(e):Promise.resolve(e),t.then(e=>{this.options.contentTypeDecoder.decode(e,this.options).then(e=>{this.callback(e)},e=>{this.fireError(e)})},e=>{this.fireError(e)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(n.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=n.default().timer.setTimeout((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=void 0;const n=r(29),o=r(52),i=r(359),s=r(53);var a;!function(e){e.is=function(e){let t=e;return t&&o.func(t.dispose)&&o.func(t.onClose)&&o.func(t.onError)&&o.func(t.write)}}(t.MessageWriter||(t.MessageWriter={}));class l{constructor(){this.errorEmitter=new s.Emitter,this.closeEmitter=new s.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,r){this.errorEmitter.fire([this.asError(e),t,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error("Writer received error. Reason: "+(o.string(e.message)?e.message:"unknown"))}}t.AbstractMessageWriter=l,function(e){e.fromOptions=function(e){var t,r;return void 0===e||"string"==typeof e?{charset:null!=e?e:"utf-8",contentTypeEncoder:n.default().applicationJson.encoder}:{charset:null!==(t=e.charset)&&void 0!==t?t:"utf-8",contentEncoder:e.contentEncoder,contentTypeEncoder:null!==(r=e.contentTypeEncoder)&&void 0!==r?r:n.default().applicationJson.encoder}}}(a||(a={}));t.WriteableStreamMessageWriter=class extends l{constructor(e,t){super(),this.writable=e,this.options=a.fromOptions(t),this.errorCount=0,this.writeSemaphore=new i.Semaphore(1),this.writable.onError(e=>this.fireError(e)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(e=>void 0!==this.options.contentEncoder?this.options.contentEncoder.encode(e):e).then(t=>{const r=[];return r.push("Content-Length: ",t.byteLength.toString(),"\r\n"),r.push("\r\n"),this.doWrite(e,r,t)},e=>{throw this.fireError(e),e}))}async doWrite(e,t,r){try{return await this.writable.write(t.join(""),"ascii"),this.writable.write(r)}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){this.writable.end()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Semaphore=void 0;const n=r(29);t.Semaphore=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((t,r)=>{this._waiting.push({thunk:e,resolve:t,reject:r}),this.runNext()})}get active(){return this._active}runNext(){0!==this._waiting.length&&this._active!==this._capacity&&n.default().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(0===this._waiting.length||this._active===this._capacity)return;const e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const t=e.thunk();t instanceof Promise?t.then(t=>{this._active--,e.resolve(t),this.runNext()},t=>{this._active--,e.reject(t),this.runNext()}):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.ConnectionOptions=t.CancellationStrategy=t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.ConnectionStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=t.TraceFormat=t.Trace=t.NullLogger=t.ProgressType=void 0;const n=r(29),o=r(52),i=r(141),s=r(361),a=r(53),l=r(142);var c,u,d,g,p,h,f,m,y,v,_,T,S;!function(e){e.type=new i.NotificationType("$/cancelRequest")}(c||(c={})),function(e){e.type=new i.NotificationType("$/progress")}(u||(u={}));t.ProgressType=class{constructor(){}},function(e){e.is=function(e){return o.func(e)}}(d||(d={})),t.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}}),function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Verbose=2]="Verbose"}(g=t.Trace||(t.Trace={})),function(e){e.fromString=function(t){if(!o.string(t))return e.Off;switch(t=t.toLowerCase()){case"off":return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose;default:return e.Off}},e.toString=function(t){switch(t){case e.Off:return"off";case e.Messages:return"messages";case e.Verbose:return"verbose";default:return"off"}}}(g=t.Trace||(t.Trace={})),function(e){e.Text="text",e.JSON="json"}(t.TraceFormat||(t.TraceFormat={})),function(e){e.fromString=function(t){return"json"===(t=t.toLowerCase())?e.JSON:e.Text}}(p=t.TraceFormat||(t.TraceFormat={})),function(e){e.type=new i.NotificationType("$/setTrace")}(h=t.SetTraceNotification||(t.SetTraceNotification={})),function(e){e.type=new i.NotificationType("$/logTrace")}(f=t.LogTraceNotification||(t.LogTraceNotification={})),function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"}(m=t.ConnectionErrors||(t.ConnectionErrors={}));class b extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,b.prototype)}}t.ConnectionError=b,function(e){e.is=function(e){const t=e;return t&&o.func(t.cancelUndispatched)}}(y=t.ConnectionStrategy||(t.ConnectionStrategy={})),function(e){e.Message=Object.freeze({createCancellationTokenSource:e=>new l.CancellationTokenSource}),e.is=function(e){const t=e;return t&&o.func(t.createCancellationTokenSource)}}(v=t.CancellationReceiverStrategy||(t.CancellationReceiverStrategy={})),function(e){e.Message=Object.freeze({sendCancellation(e,t){e.sendNotification(c.type,{id:t})},cleanup(e){}}),e.is=function(e){const t=e;return t&&o.func(t.sendCancellation)&&o.func(t.cleanup)}}(_=t.CancellationSenderStrategy||(t.CancellationSenderStrategy={})),function(e){e.Message=Object.freeze({receiver:v.Message,sender:_.Message}),e.is=function(e){const t=e;return t&&v.is(t.receiver)&&_.is(t.sender)}}(T=t.CancellationStrategy||(t.CancellationStrategy={})),function(e){e.is=function(e){const t=e;return t&&(T.is(t.cancellationStrategy)||y.is(t.connectionStrategy))}}(t.ConnectionOptions||(t.ConnectionOptions={})),function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"}(S||(S={})),t.createMessageConnection=function(e,r,y,v){const _=void 0!==y?y:t.NullLogger;let E=0,C=0,R=0,w=void 0;const D=Object.create(null);let A=void 0;const O=Object.create(null),I=new Map;let P,N,M=new s.LinkedMap,k=Object.create(null),j=Object.create(null),x=g.Off,L=p.Text,F=S.New;const B=new a.Emitter,U=new a.Emitter,G=new a.Emitter,W=new a.Emitter,q=new a.Emitter,H=v&&v.cancellationStrategy?v.cancellationStrategy:T.Message;function V(e){if(null===e)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+e.toString()}function z(e,t){var r;i.isRequestMessage(t)?e.set(V(t.id),t):i.isResponseMessage(t)?e.set(null===(r=t.id)?"res-unknown-"+(++R).toString():"res-"+r.toString(),t):e.set("not-"+(++C).toString(),t)}function $(e){}function K(){return F===S.Listening}function Y(){return F===S.Closed}function J(){return F===S.Disposed}function X(){F!==S.New&&F!==S.Listening||(F=S.Closed,U.fire(void 0))}function Q(){P||0===M.size||(P=n.default().timer.setImmediate(()=>{P=void 0,function(){if(0===M.size)return;const e=M.shift();try{i.isRequestMessage(e)?function(e){if(J())return;function t(t,n,o){const s={jsonrpc:"2.0",id:e.id};t instanceof i.ResponseError?s.error=t.toJson():s.result=void 0===t?null:t,ee(s,n,o),r.write(s)}function n(t,n,o){const i={jsonrpc:"2.0",id:e.id,error:t.toJson()};ee(i,n,o),r.write(i)}!function(e){if(x===g.Off||!N)return;if(L===p.Text){let t=void 0;x===g.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),N.log(`Received request '${e.method} - (${e.id})'.`,t)}else te("receive-request",e)}(e);const s=D[e.method];let a,l;s&&(a=s.type,l=s.handler);const c=Date.now();if(l||w){const s=String(e.id),u=H.receiver.createCancellationTokenSource(s);j[s]=u;try{let d;if(l)if(void 0===e.params){if(void 0!==a&&0!==a.numberOfParams)return void n(new i.ResponseError(i.ErrorCodes.InvalidParams,`Request ${e.method} defines ${a.numberOfParams} params but recevied none.`),e.method,c);d=l(u.token)}else if(Array.isArray(e.params)){if(void 0!==a&&a.parameterStructures===i.ParameterStructures.byName)return void n(new i.ResponseError(i.ErrorCodes.InvalidParams,`Request ${e.method} defines parameters by name but received parameters by position`),e.method,c);d=l(...e.params,u.token)}else{if(void 0!==a&&a.parameterStructures===i.ParameterStructures.byPosition)return void n(new i.ResponseError(i.ErrorCodes.InvalidParams,`Request ${e.method} defines parameters by position but received parameters by name`),e.method,c);d=l(e.params,u.token)}else w&&(d=w(e.method,e.params,u.token));const g=d;d?g.then?g.then(r=>{delete j[s],t(r,e.method,c)},t=>{delete j[s],t instanceof i.ResponseError?n(t,e.method,c):t&&o.string(t.message)?n(new i.ResponseError(i.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,c):n(new i.ResponseError(i.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,c)}):(delete j[s],t(d,e.method,c)):(delete j[s],function(t,n,o){void 0===t&&(t=null);const i={jsonrpc:"2.0",id:e.id,result:t};ee(i,n,o),r.write(i)}(d,e.method,c))}catch(r){delete j[s],r instanceof i.ResponseError?t(r,e.method,c):r&&o.string(r.message)?n(new i.ResponseError(i.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${r.message}`),e.method,c):n(new i.ResponseError(i.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,c)}}else n(new i.ResponseError(i.ErrorCodes.MethodNotFound,"Unhandled method "+e.method),e.method,c)}(e):i.isNotificationMessage(e)?function(e){if(J())return;let t,r=void 0;if(e.method===c.type.method)t=e=>{const t=e.id,r=j[String(t)];r&&r.cancel()};else{const n=O[e.method];n&&(t=n.handler,r=n.type)}if(t||A)try{!function(e){if(x===g.Off||!N||e.method===f.type.method)return;if(L===p.Text){let t=void 0;x===g.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),N.log(`Received notification '${e.method}'.`,t)}else te("receive-notification",e)}(e),t?void 0===e.params?(void 0!==r&&0!==r.numberOfParams&&r.parameterStructures!==i.ParameterStructures.byName&&_.error(`Notification ${e.method} defines ${r.numberOfParams} params but recevied none.`),t()):Array.isArray(e.params)?(void 0!==r&&(r.parameterStructures===i.ParameterStructures.byName&&_.error(`Notification ${e.method} defines parameters by name but received parameters by position`),r.numberOfParams!==e.params.length&&_.error(`Notification ${e.method} defines ${r.numberOfParams} params but received ${e.params.length} argumennts`)),t(...e.params)):(void 0!==r&&r.parameterStructures===i.ParameterStructures.byPosition&&_.error(`Notification ${e.method} defines parameters by position but received parameters by name`),t(e.params)):A&&A(e.method,e.params)}catch(t){t.message?_.error(`Notification handler '${e.method}' failed with message: ${t.message}`):_.error(`Notification handler '${e.method}' failed unexpectedly.`)}else G.fire(e)}(e):i.isResponseMessage(e)?function(e){if(J())return;if(null===e.id)e.error?_.error("Received response message without id: Error is: \n"+JSON.stringify(e.error,void 0,4)):_.error("Received response message without id. No further error information provided.");else{const t=String(e.id),r=k[t];if(function(e,t){if(x===g.Off||!N)return;if(L===p.Text){let r=void 0;if(x===g.Verbose&&(e.error&&e.error.data?r=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?r=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(r="No result returned.\n\n")),t){const n=e.error?` Request failed: ${e.error.message} (${e.error.code}).`:"";N.log(`Received response '${t.method} - (${e.id})' in ${Date.now()-t.timerStart}ms.${n}`,r)}else N.log(`Received response ${e.id} without active response promise.`,r)}else te("receive-response",e)}(e,r),r){delete k[t];try{if(e.error){const t=e.error;r.reject(new i.ResponseError(t.code,t.message,t.data))}else{if(void 0===e.result)throw new Error("Should never happen.");r.resolve(e.result)}}catch(e){e.message?_.error(`Response handler '${r.method}' failed with message: ${e.message}`):_.error(`Response handler '${r.method}' failed unexpectedly.`)}}}}(e):function(e){if(!e)return void _.error("Received empty message.");_.error("Received message which is neither a response nor a notification message:\n"+JSON.stringify(e,null,4));const t=e;if(o.string(t.id)||o.number(t.id)){const e=String(t.id),r=k[e];r&&r.reject(new Error("The received response has neither a result nor an error property."))}}(e)}finally{Q()}}()}))}e.onClose(X),e.onError((function(e){B.fire([e,void 0,void 0])})),r.onClose(X),r.onError((function(e){B.fire(e)}));const Z=e=>{try{if(i.isNotificationMessage(e)&&e.method===c.type.method){const t=V(e.params.id),n=M.get(t);if(i.isRequestMessage(n)){const o=null==v?void 0:v.connectionStrategy,i=o&&o.cancelUndispatched?o.cancelUndispatched(n,$):void 0;if(i&&(void 0!==i.error||void 0!==i.result))return M.delete(t),i.id=n.id,ee(i,e.method,Date.now()),void r.write(i)}}z(M,e)}finally{Q()}};function ee(e,t,r){if(x!==g.Off&&N)if(L===p.Text){let n=void 0;x===g.Verbose&&(e.error&&e.error.data?n=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?n=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(n="No result returned.\n\n")),N.log(`Sending response '${t} - (${e.id})'. Processing request took ${Date.now()-r}ms`,n)}else te("send-response",e)}function te(e,t){if(!N||x===g.Off)return;const r={isLSPMessage:!0,type:e,message:t,timestamp:Date.now()};N.log(r)}function re(){if(Y())throw new b(m.Closed,"Connection is closed.");if(J())throw new b(m.Disposed,"Connection is disposed.")}function ne(e){return void 0===e?null:e}function oe(e){return null===e?void 0:e}function ie(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function se(e,t){switch(e){case i.ParameterStructures.auto:return ie(t)?oe(t):[ne(t)];case i.ParameterStructures.byName:if(!ie(t))throw new Error("Recevied parameters by name but param is not an object literal.");return oe(t);case i.ParameterStructures.byPosition:return[ne(t)];default:throw new Error("Unknown parameter structure "+e.toString())}}function ae(e,t){let r;const n=e.numberOfParams;switch(n){case 0:r=void 0;break;case 1:r=se(e.parameterStructures,t[0]);break;default:r=[];for(let e=0;e<t.length&&e<n;e++)r.push(ne(t[e]));if(t.length<n)for(let e=t.length;e<n;e++)r.push(null)}return r}const le={sendNotification:(e,...t)=>{let n,s;if(re(),o.string(e)){n=e;const r=t[0];let o=0,a=i.ParameterStructures.auto;i.ParameterStructures.is(r)&&(o=1,a=r);let l=t.length;const c=l-o;switch(c){case 0:s=void 0;break;case 1:s=se(a,t[o]);break;default:if(a===i.ParameterStructures.byName)throw new Error(`Recevied ${c} parameters for 'by Name' notification parameter structure.`);s=t.slice(o,l).map(e=>ne(e))}}else{const r=t;n=e.method,s=ae(e,r)}const a={jsonrpc:"2.0",method:n,params:s};!function(e){if(x!==g.Off&&N)if(L===p.Text){let t=void 0;x===g.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),N.log(`Sending notification '${e.method}'.`,t)}else te("send-notification",e)}(a),r.write(a)},onNotification:(e,t)=>{let r;return re(),o.func(e)?A=e:t&&(o.string(e)?(r=e,O[e]={type:void 0,handler:t}):(r=e.method,O[e.method]={type:e,handler:t})),{dispose:()=>{void 0!==r?delete O[r]:A=void 0}}},onProgress:(e,t,r)=>{if(I.has(t))throw new Error(`Progress handler for token ${t} already registered`);return I.set(t,r),{dispose:()=>{I.delete(t)}}},sendProgress:(e,t,r)=>{le.sendNotification(u.type,{token:t,value:r})},onUnhandledProgress:W.event,sendRequest:(e,...t)=>{let n,s;re(),function(){if(!K())throw new Error("Call listen() first.")}();let a=void 0;if(o.string(e)){n=e;const r=t[0],o=t[t.length-1];let c=0,u=i.ParameterStructures.auto;i.ParameterStructures.is(r)&&(c=1,u=r);let d=t.length;l.CancellationToken.is(o)&&(d-=1,a=o);const g=d-c;switch(g){case 0:s=void 0;break;case 1:s=se(u,t[c]);break;default:if(u===i.ParameterStructures.byName)throw new Error(`Recevied ${g} parameters for 'by Name' request parameter structure.`);s=t.slice(c,d).map(e=>ne(e))}}else{const r=t;n=e.method,s=ae(e,r);const o=e.numberOfParams;a=l.CancellationToken.is(r[o])?r[o]:void 0}const c=E++;let u;a&&(u=a.onCancellationRequested(()=>{H.sender.sendCancellation(le,c)}));return new Promise((e,t)=>{const o={jsonrpc:"2.0",id:c,method:n,params:s};let a={method:n,timerStart:Date.now(),resolve:t=>{e(t),H.sender.cleanup(c),null==u||u.dispose()},reject:e=>{t(e),H.sender.cleanup(c),null==u||u.dispose()}};!function(e){if(x!==g.Off&&N)if(L===p.Text){let t=void 0;x===g.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),N.log(`Sending request '${e.method} - (${e.id})'.`,t)}else te("send-request",e)}(o);try{r.write(o)}catch(e){a.reject(new i.ResponseError(i.ErrorCodes.MessageWriteError,e.message?e.message:"Unknown reason")),a=null}a&&(k[String(c)]=a)})},onRequest:(e,t)=>{re();let r=null;return d.is(e)?(r=void 0,w=e):o.string(e)?(r=null,void 0!==t&&(r=e,D[e]={handler:t,type:void 0})):void 0!==t&&(r=e.method,D[e.method]={type:e,handler:t}),{dispose:()=>{null!==r&&(void 0!==r?delete D[r]:w=void 0)}}},trace:(e,t,r)=>{let n=!1,i=p.Text;void 0!==r&&(o.boolean(r)?n=r:(n=r.sendNotification||!1,i=r.traceFormat||p.Text)),x=e,L=i,N=x===g.Off?void 0:t,!n||Y()||J()||le.sendNotification(h.type,{value:g.toString(e)})},onError:B.event,onClose:U.event,onUnhandledNotification:G.event,onDispose:q.event,end:()=>{r.end()},dispose:()=>{if(J())return;F=S.Disposed,q.fire(void 0);const t=new Error("Connection got disposed.");Object.keys(k).forEach(e=>{k[e].reject(t)}),k=Object.create(null),j=Object.create(null),M=new s.LinkedMap,o.func(r.dispose)&&r.dispose(),o.func(e.dispose)&&e.dispose()},listen:()=>{re(),function(){if(K())throw new b(m.AlreadyListening,"Connection is already listening")}(),F=S.Listening,e.listen(Z)},inspect:()=>{n.default().console.log("inspect")}};return le.onNotification(f.type,e=>{x!==g.Off&&N&&N.log(e.message,x===g.Verbose?e.verbose:void 0)}),le.onNotification(u.type,e=>{const t=I.get(e.token);t?t(e.value):W.fire(e)}),le}},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=t.LinkedMap=t.Touch=void 0,function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last}(n=t.Touch||(t.Touch={}));class o{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return null===(e=this._head)||void 0===e?void 0:e.value}get last(){var e;return null===(e=this._tail)||void 0===e?void 0:e.value}has(e){return this._map.has(e)}get(e,t=n.None){const r=this._map.get(e);if(r)return t!==n.None&&this.touch(r,t),r.value}set(e,t,r=n.None){let o=this._map.get(e);if(o)o.value=t,r!==n.None&&this.touch(o,r);else{switch(o={key:e,value:t,next:void 0,previous:void 0},r){case n.None:this.addItemLast(o);break;case n.First:this.addItemFirst(o);break;case n.Last:default:this.addItemLast(o)}this._map.set(e,o),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const r=this._state;let n=this._head;for(;n;){if(t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");n=n.next}}keys(){const e=this,t=this._state;let r=this._head;const n={[Symbol.iterator]:()=>n,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){const e={value:r.key,done:!1};return r=r.next,e}return{value:void 0,done:!0}}};return n}values(){const e=this,t=this._state;let r=this._head;const n={[Symbol.iterator]:()=>n,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){const e={value:r.value,done:!1};return r=r.next,e}return{value:void 0,done:!0}}};return n}entries(){const e=this,t=this._state;let r=this._head;const n={[Symbol.iterator]:()=>n,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){const e={value:[r.key,r.value],done:!1};return r=r.next,e}return{value:void 0,done:!0}}};return n}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(0===e)return void this.clear();let t=this._head,r=this.size;for(;t&&r>e;)this._map.delete(t.key),t=t.next,r--;this._head=t,this._size=r,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e,this._state++}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,r=e.previous;if(!t||!r)throw new Error("Invalid list");t.previous=r,r.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t===n.First||t===n.Last)if(t===n.First){if(e===this._head)return;const t=e.next,r=e.previous;e===this._tail?(r.next=void 0,this._tail=r):(t.previous=r,r.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===n.Last){if(e===this._tail)return;const t=e.next,r=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=r,r.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}toJSON(){const e=[];return this.forEach((t,r)=>{e.push([r,t])}),e}fromJSON(e){this.clear();for(const[t,r]of e)this.set(t,r)}}t.LinkedMap=o;t.LRUCache=class extends o{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=n.AsNew){return super.get(e,t)}peek(e){return super.get(e,n.None)}set(e,t){return super.set(e,t,n.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.LSPErrorCodes=t.createProtocolConnection=void 0,o(r(51),t),o(r(363),t),o(r(5),t),o(r(364),t);var i=r(381);Object.defineProperty(t,"createProtocolConnection",{enumerable:!0,get:function(){return i.createProtocolConnection}}),function(e){e.lspReservedErrorRangeStart=-32899,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800}(t.LSPErrorCodes||(t.LSPErrorCodes={}))},function(e,t,r){"use strict";var n,o,i,s,a,l,c,u,d,g,p,h,f,m,y,v,_,T,S,b,E,C,R,w,D,A;r.r(t),r.d(t,"integer",(function(){return n})),r.d(t,"uinteger",(function(){return o})),r.d(t,"Position",(function(){return i})),r.d(t,"Range",(function(){return s})),r.d(t,"Location",(function(){return a})),r.d(t,"LocationLink",(function(){return l})),r.d(t,"Color",(function(){return c})),r.d(t,"ColorInformation",(function(){return u})),r.d(t,"ColorPresentation",(function(){return d})),r.d(t,"FoldingRangeKind",(function(){return g})),r.d(t,"FoldingRange",(function(){return p})),r.d(t,"DiagnosticRelatedInformation",(function(){return h})),r.d(t,"DiagnosticSeverity",(function(){return f})),r.d(t,"DiagnosticTag",(function(){return m})),r.d(t,"CodeDescription",(function(){return y})),r.d(t,"Diagnostic",(function(){return v})),r.d(t,"Command",(function(){return _})),r.d(t,"TextEdit",(function(){return T})),r.d(t,"ChangeAnnotation",(function(){return S})),r.d(t,"ChangeAnnotationIdentifier",(function(){return b})),r.d(t,"AnnotatedTextEdit",(function(){return E})),r.d(t,"TextDocumentEdit",(function(){return C})),r.d(t,"CreateFile",(function(){return R})),r.d(t,"RenameFile",(function(){return w})),r.d(t,"DeleteFile",(function(){return D})),r.d(t,"WorkspaceEdit",(function(){return A})),r.d(t,"WorkspaceChange",(function(){return ae})),r.d(t,"TextDocumentIdentifier",(function(){return O})),r.d(t,"VersionedTextDocumentIdentifier",(function(){return I})),r.d(t,"OptionalVersionedTextDocumentIdentifier",(function(){return P})),r.d(t,"TextDocumentItem",(function(){return N})),r.d(t,"MarkupKind",(function(){return M})),r.d(t,"MarkupContent",(function(){return k})),r.d(t,"CompletionItemKind",(function(){return j})),r.d(t,"InsertTextFormat",(function(){return x})),r.d(t,"CompletionItemTag",(function(){return L})),r.d(t,"InsertReplaceEdit",(function(){return F})),r.d(t,"InsertTextMode",(function(){return B})),r.d(t,"CompletionItem",(function(){return U})),r.d(t,"CompletionList",(function(){return G})),r.d(t,"MarkedString",(function(){return W})),r.d(t,"Hover",(function(){return q})),r.d(t,"ParameterInformation",(function(){return H})),r.d(t,"SignatureInformation",(function(){return V})),r.d(t,"DocumentHighlightKind",(function(){return z})),r.d(t,"DocumentHighlight",(function(){return $})),r.d(t,"SymbolKind",(function(){return K})),r.d(t,"SymbolTag",(function(){return Y})),r.d(t,"SymbolInformation",(function(){return J})),r.d(t,"DocumentSymbol",(function(){return X})),r.d(t,"CodeActionKind",(function(){return Q})),r.d(t,"CodeActionContext",(function(){return Z})),r.d(t,"CodeAction",(function(){return ee})),r.d(t,"CodeLens",(function(){return te})),r.d(t,"FormattingOptions",(function(){return re})),r.d(t,"DocumentLink",(function(){return ne})),r.d(t,"SelectionRange",(function(){return oe})),r.d(t,"EOL",(function(){return ce})),r.d(t,"TextDocument",(function(){return le})),function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647}(n||(n={})),function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647}(o||(o={})),function(e){e.create=function(e,t){return e===Number.MAX_VALUE&&(e=o.MAX_VALUE),t===Number.MAX_VALUE&&(t=o.MAX_VALUE),{line:e,character:t}},e.is=function(e){var t=e;return ue.objectLiteral(t)&&ue.uinteger(t.line)&&ue.uinteger(t.character)}}(i||(i={})),function(e){e.create=function(e,t,r,n){if(ue.uinteger(e)&&ue.uinteger(t)&&ue.uinteger(r)&&ue.uinteger(n))return{start:i.create(e,t),end:i.create(r,n)};if(i.is(e)&&i.is(t))return{start:e,end:t};throw new Error("Range#create called with invalid arguments["+e+", "+t+", "+r+", "+n+"]")},e.is=function(e){var t=e;return ue.objectLiteral(t)&&i.is(t.start)&&i.is(t.end)}}(s||(s={})),function(e){e.create=function(e,t){return{uri:e,range:t}},e.is=function(e){var t=e;return ue.defined(t)&&s.is(t.range)&&(ue.string(t.uri)||ue.undefined(t.uri))}}(a||(a={})),function(e){e.create=function(e,t,r,n){return{targetUri:e,targetRange:t,targetSelectionRange:r,originSelectionRange:n}},e.is=function(e){var t=e;return ue.defined(t)&&s.is(t.targetRange)&&ue.string(t.targetUri)&&(s.is(t.targetSelectionRange)||ue.undefined(t.targetSelectionRange))&&(s.is(t.originSelectionRange)||ue.undefined(t.originSelectionRange))}}(l||(l={})),function(e){e.create=function(e,t,r,n){return{red:e,green:t,blue:r,alpha:n}},e.is=function(e){var t=e;return ue.numberRange(t.red,0,1)&&ue.numberRange(t.green,0,1)&&ue.numberRange(t.blue,0,1)&&ue.numberRange(t.alpha,0,1)}}(c||(c={})),function(e){e.create=function(e,t){return{range:e,color:t}},e.is=function(e){var t=e;return s.is(t.range)&&c.is(t.color)}}(u||(u={})),function(e){e.create=function(e,t,r){return{label:e,textEdit:t,additionalTextEdits:r}},e.is=function(e){var t=e;return ue.string(t.label)&&(ue.undefined(t.textEdit)||T.is(t))&&(ue.undefined(t.additionalTextEdits)||ue.typedArray(t.additionalTextEdits,T.is))}}(d||(d={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(g||(g={})),function(e){e.create=function(e,t,r,n,o){var i={startLine:e,endLine:t};return ue.defined(r)&&(i.startCharacter=r),ue.defined(n)&&(i.endCharacter=n),ue.defined(o)&&(i.kind=o),i},e.is=function(e){var t=e;return ue.uinteger(t.startLine)&&ue.uinteger(t.startLine)&&(ue.undefined(t.startCharacter)||ue.uinteger(t.startCharacter))&&(ue.undefined(t.endCharacter)||ue.uinteger(t.endCharacter))&&(ue.undefined(t.kind)||ue.string(t.kind))}}(p||(p={})),function(e){e.create=function(e,t){return{location:e,message:t}},e.is=function(e){var t=e;return ue.defined(t)&&a.is(t.location)&&ue.string(t.message)}}(h||(h={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(f||(f={})),function(e){e.Unnecessary=1,e.Deprecated=2}(m||(m={})),function(e){e.is=function(e){var t=e;return null!=t&&ue.string(t.href)}}(y||(y={})),function(e){e.create=function(e,t,r,n,o,i){var s={range:e,message:t};return ue.defined(r)&&(s.severity=r),ue.defined(n)&&(s.code=n),ue.defined(o)&&(s.source=o),ue.defined(i)&&(s.relatedInformation=i),s},e.is=function(e){var t,r=e;return ue.defined(r)&&s.is(r.range)&&ue.string(r.message)&&(ue.number(r.severity)||ue.undefined(r.severity))&&(ue.integer(r.code)||ue.string(r.code)||ue.undefined(r.code))&&(ue.undefined(r.codeDescription)||ue.string(null===(t=r.codeDescription)||void 0===t?void 0:t.href))&&(ue.string(r.source)||ue.undefined(r.source))&&(ue.undefined(r.relatedInformation)||ue.typedArray(r.relatedInformation,h.is))}}(v||(v={})),function(e){e.create=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o={title:e,command:t};return ue.defined(r)&&r.length>0&&(o.arguments=r),o},e.is=function(e){var t=e;return ue.defined(t)&&ue.string(t.title)&&ue.string(t.command)}}(_||(_={})),function(e){e.replace=function(e,t){return{range:e,newText:t}},e.insert=function(e,t){return{range:{start:e,end:e},newText:t}},e.del=function(e){return{range:e,newText:""}},e.is=function(e){var t=e;return ue.objectLiteral(t)&&ue.string(t.newText)&&s.is(t.range)}}(T||(T={})),function(e){e.create=function(e,t,r){var n={label:e};return void 0!==t&&(n.needsConfirmation=t),void 0!==r&&(n.description=r),n},e.is=function(e){var t=e;return void 0!==t&&ue.objectLiteral(t)&&ue.string(t.label)&&(ue.boolean(t.needsConfirmation)||void 0===t.needsConfirmation)&&(ue.string(t.description)||void 0===t.description)}}(S||(S={})),function(e){e.is=function(e){return"string"==typeof e}}(b||(b={})),function(e){e.replace=function(e,t,r){return{range:e,newText:t,annotationId:r}},e.insert=function(e,t,r){return{range:{start:e,end:e},newText:t,annotationId:r}},e.del=function(e,t){return{range:e,newText:"",annotationId:t}},e.is=function(e){var t=e;return T.is(t)&&(S.is(t.annotationId)||b.is(t.annotationId))}}(E||(E={})),function(e){e.create=function(e,t){return{textDocument:e,edits:t}},e.is=function(e){var t=e;return ue.defined(t)&&P.is(t.textDocument)&&Array.isArray(t.edits)}}(C||(C={})),function(e){e.create=function(e,t,r){var n={kind:"create",uri:e};return void 0===t||void 0===t.overwrite&&void 0===t.ignoreIfExists||(n.options=t),void 0!==r&&(n.annotationId=r),n},e.is=function(e){var t=e;return t&&"create"===t.kind&&ue.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||ue.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||ue.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||b.is(t.annotationId))}}(R||(R={})),function(e){e.create=function(e,t,r,n){var o={kind:"rename",oldUri:e,newUri:t};return void 0===r||void 0===r.overwrite&&void 0===r.ignoreIfExists||(o.options=r),void 0!==n&&(o.annotationId=n),o},e.is=function(e){var t=e;return t&&"rename"===t.kind&&ue.string(t.oldUri)&&ue.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||ue.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||ue.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||b.is(t.annotationId))}}(w||(w={})),function(e){e.create=function(e,t,r){var n={kind:"delete",uri:e};return void 0===t||void 0===t.recursive&&void 0===t.ignoreIfNotExists||(n.options=t),void 0!==r&&(n.annotationId=r),n},e.is=function(e){var t=e;return t&&"delete"===t.kind&&ue.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||ue.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||ue.boolean(t.options.ignoreIfNotExists)))&&(void 0===t.annotationId||b.is(t.annotationId))}}(D||(D={})),function(e){e.is=function(e){var t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every((function(e){return ue.string(e.kind)?R.is(e)||w.is(e)||D.is(e):C.is(e)})))}}(A||(A={}));var O,I,P,N,M,k,j,x,L,F,B,U,G,W,q,H,V,z,$,K,Y,J,X,Q,Z,ee,te,re,ne,oe,ie=function(){function e(e,t){this.edits=e,this.changeAnnotations=t}return e.prototype.insert=function(e,t,r){var n,o;if(void 0===r?n=T.insert(e,t):b.is(r)?(o=r,n=E.insert(e,t,r)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(r),n=E.insert(e,t,o)),this.edits.push(n),void 0!==o)return o},e.prototype.replace=function(e,t,r){var n,o;if(void 0===r?n=T.replace(e,t):b.is(r)?(o=r,n=E.replace(e,t,r)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(r),n=E.replace(e,t,o)),this.edits.push(n),void 0!==o)return o},e.prototype.delete=function(e,t){var r,n;if(void 0===t?r=T.del(e):b.is(t)?(n=t,r=E.del(e,t)):(this.assertChangeAnnotations(this.changeAnnotations),n=this.changeAnnotations.manage(t),r=E.del(e,n)),this.edits.push(r),void 0!==n)return n},e.prototype.add=function(e){this.edits.push(e)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e.prototype.assertChangeAnnotations=function(e){if(void 0===e)throw new Error("Text edit change is not configured to manage change annotations.")},e}(),se=function(){function e(e){this._annotations=void 0===e?Object.create(null):e,this._counter=0,this._size=0}return e.prototype.all=function(){return this._annotations},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.manage=function(e,t){var r;if(b.is(e)?r=e:(r=this.nextId(),t=e),void 0!==this._annotations[r])throw new Error("Id "+r+" is already in use.");if(void 0===t)throw new Error("No annotation provided for id "+r);return this._annotations[r]=t,this._size++,r},e.prototype.nextId=function(){return this._counter++,this._counter.toString()},e}(),ae=function(){function e(e){var t=this;this._textEditChanges=Object.create(null),void 0!==e?(this._workspaceEdit=e,e.documentChanges?(this._changeAnnotations=new se(e.changeAnnotations),e.changeAnnotations=this._changeAnnotations.all(),e.documentChanges.forEach((function(e){if(C.is(e)){var r=new ie(e.edits,t._changeAnnotations);t._textEditChanges[e.textDocument.uri]=r}}))):e.changes&&Object.keys(e.changes).forEach((function(r){var n=new ie(e.changes[r]);t._textEditChanges[r]=n}))):this._workspaceEdit={}}return Object.defineProperty(e.prototype,"edit",{get:function(){return this.initDocumentChanges(),void 0!==this._changeAnnotations&&(0===this._changeAnnotations.size?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),e.prototype.getTextEditChange=function(e){if(P.is(e)){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var t={uri:e.uri,version:e.version};if(!(n=this._textEditChanges[t.uri])){var r={textDocument:t,edits:o=[]};this._workspaceEdit.documentChanges.push(r),n=new ie(o,this._changeAnnotations),this._textEditChanges[t.uri]=n}return n}if(this.initChanges(),void 0===this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var n;if(!(n=this._textEditChanges[e])){var o=[];this._workspaceEdit.changes[e]=o,n=new ie(o),this._textEditChanges[e]=n}return n},e.prototype.initDocumentChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._changeAnnotations=new se,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},e.prototype.initChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._workspaceEdit.changes=Object.create(null))},e.prototype.createFile=function(e,t,r){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var n,o,i;if(S.is(t)||b.is(t)?n=t:r=t,void 0===n?o=R.create(e,r):(i=b.is(n)?n:this._changeAnnotations.manage(n),o=R.create(e,r,i)),this._workspaceEdit.documentChanges.push(o),void 0!==i)return i},e.prototype.renameFile=function(e,t,r,n){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var o,i,s;if(S.is(r)||b.is(r)?o=r:n=r,void 0===o?i=w.create(e,t,n):(s=b.is(o)?o:this._changeAnnotations.manage(o),i=w.create(e,t,n,s)),this._workspaceEdit.documentChanges.push(i),void 0!==s)return s},e.prototype.deleteFile=function(e,t,r){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var n,o,i;if(S.is(t)||b.is(t)?n=t:r=t,void 0===n?o=D.create(e,r):(i=b.is(n)?n:this._changeAnnotations.manage(n),o=D.create(e,r,i)),this._workspaceEdit.documentChanges.push(o),void 0!==i)return i},e}();!function(e){e.create=function(e){return{uri:e}},e.is=function(e){var t=e;return ue.defined(t)&&ue.string(t.uri)}}(O||(O={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return ue.defined(t)&&ue.string(t.uri)&&ue.integer(t.version)}}(I||(I={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return ue.defined(t)&&ue.string(t.uri)&&(null===t.version||ue.integer(t.version))}}(P||(P={})),function(e){e.create=function(e,t,r,n){return{uri:e,languageId:t,version:r,text:n}},e.is=function(e){var t=e;return ue.defined(t)&&ue.string(t.uri)&&ue.string(t.languageId)&&ue.integer(t.version)&&ue.string(t.text)}}(N||(N={})),function(e){e.PlainText="plaintext",e.Markdown="markdown"}(M||(M={})),function(e){e.is=function(t){var r=t;return r===e.PlainText||r===e.Markdown}}(M||(M={})),function(e){e.is=function(e){var t=e;return ue.objectLiteral(e)&&M.is(t.kind)&&ue.string(t.value)}}(k||(k={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(j||(j={})),function(e){e.PlainText=1,e.Snippet=2}(x||(x={})),function(e){e.Deprecated=1}(L||(L={})),function(e){e.create=function(e,t,r){return{newText:e,insert:t,replace:r}},e.is=function(e){var t=e;return t&&ue.string(t.newText)&&s.is(t.insert)&&s.is(t.replace)}}(F||(F={})),function(e){e.asIs=1,e.adjustIndentation=2}(B||(B={})),function(e){e.create=function(e){return{label:e}}}(U||(U={})),function(e){e.create=function(e,t){return{items:e||[],isIncomplete:!!t}}}(G||(G={})),function(e){e.fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},e.is=function(e){var t=e;return ue.string(t)||ue.objectLiteral(t)&&ue.string(t.language)&&ue.string(t.value)}}(W||(W={})),function(e){e.is=function(e){var t=e;return!!t&&ue.objectLiteral(t)&&(k.is(t.contents)||W.is(t.contents)||ue.typedArray(t.contents,W.is))&&(void 0===e.range||s.is(e.range))}}(q||(q={})),function(e){e.create=function(e,t){return t?{label:e,documentation:t}:{label:e}}}(H||(H={})),function(e){e.create=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o={label:e};return ue.defined(t)&&(o.documentation=t),ue.defined(r)?o.parameters=r:o.parameters=[],o}}(V||(V={})),function(e){e.Text=1,e.Read=2,e.Write=3}(z||(z={})),function(e){e.create=function(e,t){var r={range:e};return ue.number(t)&&(r.kind=t),r}}($||($={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(K||(K={})),function(e){e.Deprecated=1}(Y||(Y={})),function(e){e.create=function(e,t,r,n,o){var i={name:e,kind:t,location:{uri:n,range:r}};return o&&(i.containerName=o),i}}(J||(J={})),function(e){e.create=function(e,t,r,n,o,i){var s={name:e,detail:t,kind:r,range:n,selectionRange:o};return void 0!==i&&(s.children=i),s},e.is=function(e){var t=e;return t&&ue.string(t.name)&&ue.number(t.kind)&&s.is(t.range)&&s.is(t.selectionRange)&&(void 0===t.detail||ue.string(t.detail))&&(void 0===t.deprecated||ue.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))&&(void 0===t.tags||Array.isArray(t.tags))}}(X||(X={})),function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"}(Q||(Q={})),function(e){e.create=function(e,t){var r={diagnostics:e};return null!=t&&(r.only=t),r},e.is=function(e){var t=e;return ue.defined(t)&&ue.typedArray(t.diagnostics,v.is)&&(void 0===t.only||ue.typedArray(t.only,ue.string))}}(Z||(Z={})),function(e){e.create=function(e,t,r){var n={title:e},o=!0;return"string"==typeof t?(o=!1,n.kind=t):_.is(t)?n.command=t:n.edit=t,o&&void 0!==r&&(n.kind=r),n},e.is=function(e){var t=e;return t&&ue.string(t.title)&&(void 0===t.diagnostics||ue.typedArray(t.diagnostics,v.is))&&(void 0===t.kind||ue.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||_.is(t.command))&&(void 0===t.isPreferred||ue.boolean(t.isPreferred))&&(void 0===t.edit||A.is(t.edit))}}(ee||(ee={})),function(e){e.create=function(e,t){var r={range:e};return ue.defined(t)&&(r.data=t),r},e.is=function(e){var t=e;return ue.defined(t)&&s.is(t.range)&&(ue.undefined(t.command)||_.is(t.command))}}(te||(te={})),function(e){e.create=function(e,t){return{tabSize:e,insertSpaces:t}},e.is=function(e){var t=e;return ue.defined(t)&&ue.uinteger(t.tabSize)&&ue.boolean(t.insertSpaces)}}(re||(re={})),function(e){e.create=function(e,t,r){return{range:e,target:t,data:r}},e.is=function(e){var t=e;return ue.defined(t)&&s.is(t.range)&&(ue.undefined(t.target)||ue.string(t.target))}}(ne||(ne={})),function(e){e.create=function(e,t){return{range:e,parent:t}},e.is=function(t){var r=t;return void 0!==r&&s.is(r.range)&&(void 0===r.parent||e.is(r.parent))}}(oe||(oe={}));var le,ce=["\n","\r\n","\r"];!function(e){e.create=function(e,t,r,n){return new de(e,t,r,n)},e.is=function(e){var t=e;return!!(ue.defined(t)&&ue.string(t.uri)&&(ue.undefined(t.languageId)||ue.string(t.languageId))&&ue.uinteger(t.lineCount)&&ue.func(t.getText)&&ue.func(t.positionAt)&&ue.func(t.offsetAt))},e.applyEdits=function(e,t){for(var r=e.getText(),n=function e(t,r){if(t.length<=1)return t;var n=t.length/2|0,o=t.slice(0,n),i=t.slice(n);e(o,r),e(i,r);var s=0,a=0,l=0;for(;s<o.length&&a<i.length;){var c=r(o[s],i[a]);t[l++]=c<=0?o[s++]:i[a++]}for(;s<o.length;)t[l++]=o[s++];for(;a<i.length;)t[l++]=i[a++];return t}(t,(function(e,t){var r=e.range.start.line-t.range.start.line;return 0===r?e.range.start.character-t.range.start.character:r})),o=r.length,i=n.length-1;i>=0;i--){var s=n[i],a=e.offsetAt(s.range.start),l=e.offsetAt(s.range.end);if(!(l<=o))throw new Error("Overlapping edit");r=r.substring(0,a)+s.newText+r.substring(l,r.length),o=a}return r}}(le||(le={}));var ue,de=function(){function e(e,t,r,n){this._uri=e,this._languageId=t,this._version=r,this._content=n,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(t,r)}return this._content},e.prototype.update=function(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(void 0===this._lineOffsets){for(var e=[],t=this._content,r=!0,n=0;n<t.length;n++){r&&(e.push(n),r=!1);var o=t.charAt(n);r="\r"===o||"\n"===o,"\r"===o&&n+1<t.length&&"\n"===t.charAt(n+1)&&n++}r&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),r=0,n=t.length;if(0===n)return i.create(0,e);for(;r<n;){var o=Math.floor((r+n)/2);t[o]>e?n=o:r=o+1}var s=r-1;return i.create(s,e-t[s])},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var r=t[e.line],n=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(r+e.character,n),r)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),e}();!function(e){var t=Object.prototype.toString;e.defined=function(e){return void 0!==e},e.undefined=function(e){return void 0===e},e.boolean=function(e){return!0===e||!1===e},e.string=function(e){return"[object String]"===t.call(e)},e.number=function(e){return"[object Number]"===t.call(e)},e.numberRange=function(e,r,n){return"[object Number]"===t.call(e)&&r<=e&&e<=n},e.integer=function(e){return"[object Number]"===t.call(e)&&-2147483648<=e&&e<=2147483647},e.uinteger=function(e){return"[object Number]"===t.call(e)&&0<=e&&e<=2147483647},e.func=function(e){return"[object Function]"===t.call(e)},e.objectLiteral=function(e){return null!==e&&"object"==typeof e},e.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)}}(ue||(ue={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentLinkRequest=t.CodeLensRefreshRequest=t.CodeLensResolveRequest=t.CodeLensRequest=t.WorkspaceSymbolRequest=t.CodeActionResolveRequest=t.CodeActionRequest=t.DocumentSymbolRequest=t.DocumentHighlightRequest=t.ReferencesRequest=t.DefinitionRequest=t.SignatureHelpRequest=t.SignatureHelpTriggerKind=t.HoverRequest=t.CompletionResolveRequest=t.CompletionRequest=t.CompletionTriggerKind=t.PublishDiagnosticsNotification=t.WatchKind=t.FileChangeType=t.DidChangeWatchedFilesNotification=t.WillSaveTextDocumentWaitUntilRequest=t.WillSaveTextDocumentNotification=t.TextDocumentSaveReason=t.DidSaveTextDocumentNotification=t.DidCloseTextDocumentNotification=t.DidChangeTextDocumentNotification=t.TextDocumentContentChangeEvent=t.DidOpenTextDocumentNotification=t.TextDocumentSyncKind=t.TelemetryEventNotification=t.LogMessageNotification=t.ShowMessageRequest=t.ShowMessageNotification=t.MessageType=t.DidChangeConfigurationNotification=t.ExitNotification=t.ShutdownRequest=t.InitializedNotification=t.InitializeError=t.InitializeRequest=t.WorkDoneProgressOptions=t.TextDocumentRegistrationOptions=t.StaticRegistrationOptions=t.FailureHandlingKind=t.ResourceOperationKind=t.UnregistrationRequest=t.RegistrationRequest=t.DocumentSelector=t.DocumentFilter=void 0,t.MonikerRequest=t.MonikerKind=t.UniquenessLevel=t.WillDeleteFilesRequest=t.DidDeleteFilesNotification=t.WillRenameFilesRequest=t.DidRenameFilesNotification=t.WillCreateFilesRequest=t.DidCreateFilesNotification=t.FileOperationPatternKind=t.LinkedEditingRangeRequest=t.ShowDocumentRequest=t.SemanticTokensRegistrationType=t.SemanticTokensRefreshRequest=t.SemanticTokensRangeRequest=t.SemanticTokensDeltaRequest=t.SemanticTokensRequest=t.TokenFormat=t.SemanticTokens=t.SemanticTokenModifiers=t.SemanticTokenTypes=t.CallHierarchyPrepareRequest=t.CallHierarchyOutgoingCallsRequest=t.CallHierarchyIncomingCallsRequest=t.WorkDoneProgressCancelNotification=t.WorkDoneProgressCreateRequest=t.WorkDoneProgress=t.SelectionRangeRequest=t.DeclarationRequest=t.FoldingRangeRequest=t.ColorPresentationRequest=t.DocumentColorRequest=t.ConfigurationRequest=t.DidChangeWorkspaceFoldersNotification=t.WorkspaceFoldersRequest=t.TypeDefinitionRequest=t.ImplementationRequest=t.ApplyWorkspaceEditRequest=t.ExecuteCommandRequest=t.PrepareRenameRequest=t.RenameRequest=t.PrepareSupportDefaultBehavior=t.DocumentOnTypeFormattingRequest=t.DocumentRangeFormattingRequest=t.DocumentFormattingRequest=t.DocumentLinkResolveRequest=void 0;const n=r(365),o=r(5),i=r(366);Object.defineProperty(t,"ImplementationRequest",{enumerable:!0,get:function(){return i.ImplementationRequest}});const s=r(367);Object.defineProperty(t,"TypeDefinitionRequest",{enumerable:!0,get:function(){return s.TypeDefinitionRequest}});const a=r(368);Object.defineProperty(t,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return a.WorkspaceFoldersRequest}}),Object.defineProperty(t,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return a.DidChangeWorkspaceFoldersNotification}});const l=r(369);Object.defineProperty(t,"ConfigurationRequest",{enumerable:!0,get:function(){return l.ConfigurationRequest}});const c=r(370);Object.defineProperty(t,"DocumentColorRequest",{enumerable:!0,get:function(){return c.DocumentColorRequest}}),Object.defineProperty(t,"ColorPresentationRequest",{enumerable:!0,get:function(){return c.ColorPresentationRequest}});const u=r(371);Object.defineProperty(t,"FoldingRangeRequest",{enumerable:!0,get:function(){return u.FoldingRangeRequest}});const d=r(372);Object.defineProperty(t,"DeclarationRequest",{enumerable:!0,get:function(){return d.DeclarationRequest}});const g=r(373);Object.defineProperty(t,"SelectionRangeRequest",{enumerable:!0,get:function(){return g.SelectionRangeRequest}});const p=r(374);Object.defineProperty(t,"WorkDoneProgress",{enumerable:!0,get:function(){return p.WorkDoneProgress}}),Object.defineProperty(t,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return p.WorkDoneProgressCreateRequest}}),Object.defineProperty(t,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return p.WorkDoneProgressCancelNotification}});const h=r(375);Object.defineProperty(t,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return h.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(t,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return h.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(t,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return h.CallHierarchyPrepareRequest}});const f=r(376);Object.defineProperty(t,"SemanticTokenTypes",{enumerable:!0,get:function(){return f.SemanticTokenTypes}}),Object.defineProperty(t,"SemanticTokenModifiers",{enumerable:!0,get:function(){return f.SemanticTokenModifiers}}),Object.defineProperty(t,"SemanticTokens",{enumerable:!0,get:function(){return f.SemanticTokens}}),Object.defineProperty(t,"TokenFormat",{enumerable:!0,get:function(){return f.TokenFormat}}),Object.defineProperty(t,"SemanticTokensRequest",{enumerable:!0,get:function(){return f.SemanticTokensRequest}}),Object.defineProperty(t,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return f.SemanticTokensDeltaRequest}}),Object.defineProperty(t,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return f.SemanticTokensRangeRequest}}),Object.defineProperty(t,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return f.SemanticTokensRefreshRequest}}),Object.defineProperty(t,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return f.SemanticTokensRegistrationType}});const m=r(377);Object.defineProperty(t,"ShowDocumentRequest",{enumerable:!0,get:function(){return m.ShowDocumentRequest}});const y=r(378);Object.defineProperty(t,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return y.LinkedEditingRangeRequest}});const v=r(379);Object.defineProperty(t,"FileOperationPatternKind",{enumerable:!0,get:function(){return v.FileOperationPatternKind}}),Object.defineProperty(t,"DidCreateFilesNotification",{enumerable:!0,get:function(){return v.DidCreateFilesNotification}}),Object.defineProperty(t,"WillCreateFilesRequest",{enumerable:!0,get:function(){return v.WillCreateFilesRequest}}),Object.defineProperty(t,"DidRenameFilesNotification",{enumerable:!0,get:function(){return v.DidRenameFilesNotification}}),Object.defineProperty(t,"WillRenameFilesRequest",{enumerable:!0,get:function(){return v.WillRenameFilesRequest}}),Object.defineProperty(t,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return v.DidDeleteFilesNotification}}),Object.defineProperty(t,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return v.WillDeleteFilesRequest}});const _=r(380);var T,S;Object.defineProperty(t,"UniquenessLevel",{enumerable:!0,get:function(){return _.UniquenessLevel}}),Object.defineProperty(t,"MonikerKind",{enumerable:!0,get:function(){return _.MonikerKind}}),Object.defineProperty(t,"MonikerRequest",{enumerable:!0,get:function(){return _.MonikerRequest}}),function(e){e.is=function(e){const t=e;return n.string(t.language)||n.string(t.scheme)||n.string(t.pattern)}}(T=t.DocumentFilter||(t.DocumentFilter={})),function(e){e.is=function(e){if(!Array.isArray(e))return!1;for(let t of e)if(!n.string(t)&&!T.is(t))return!1;return!0}}(S=t.DocumentSelector||(t.DocumentSelector={})),function(e){e.type=new o.ProtocolRequestType("client/registerCapability")}(t.RegistrationRequest||(t.RegistrationRequest={})),function(e){e.type=new o.ProtocolRequestType("client/unregisterCapability")}(t.UnregistrationRequest||(t.UnregistrationRequest={})),function(e){e.Create="create",e.Rename="rename",e.Delete="delete"}(t.ResourceOperationKind||(t.ResourceOperationKind={})),function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"}(t.FailureHandlingKind||(t.FailureHandlingKind={})),function(e){e.hasId=function(e){const t=e;return t&&n.string(t.id)&&t.id.length>0}}(t.StaticRegistrationOptions||(t.StaticRegistrationOptions={})),function(e){e.is=function(e){const t=e;return t&&(null===t.documentSelector||S.is(t.documentSelector))}}(t.TextDocumentRegistrationOptions||(t.TextDocumentRegistrationOptions={})),function(e){e.is=function(e){const t=e;return n.objectLiteral(t)&&(void 0===t.workDoneProgress||n.boolean(t.workDoneProgress))},e.hasWorkDoneProgress=function(e){const t=e;return t&&n.boolean(t.workDoneProgress)}}(t.WorkDoneProgressOptions||(t.WorkDoneProgressOptions={})),function(e){e.type=new o.ProtocolRequestType("initialize")}(t.InitializeRequest||(t.InitializeRequest={})),function(e){e.unknownProtocolVersion=1}(t.InitializeError||(t.InitializeError={})),function(e){e.type=new o.ProtocolNotificationType("initialized")}(t.InitializedNotification||(t.InitializedNotification={})),function(e){e.type=new o.ProtocolRequestType0("shutdown")}(t.ShutdownRequest||(t.ShutdownRequest={})),function(e){e.type=new o.ProtocolNotificationType0("exit")}(t.ExitNotification||(t.ExitNotification={})),function(e){e.type=new o.ProtocolNotificationType("workspace/didChangeConfiguration")}(t.DidChangeConfigurationNotification||(t.DidChangeConfigurationNotification={})),function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4}(t.MessageType||(t.MessageType={})),function(e){e.type=new o.ProtocolNotificationType("window/showMessage")}(t.ShowMessageNotification||(t.ShowMessageNotification={})),function(e){e.type=new o.ProtocolRequestType("window/showMessageRequest")}(t.ShowMessageRequest||(t.ShowMessageRequest={})),function(e){e.type=new o.ProtocolNotificationType("window/logMessage")}(t.LogMessageNotification||(t.LogMessageNotification={})),function(e){e.type=new o.ProtocolNotificationType("telemetry/event")}(t.TelemetryEventNotification||(t.TelemetryEventNotification={})),function(e){e.None=0,e.Full=1,e.Incremental=2}(t.TextDocumentSyncKind||(t.TextDocumentSyncKind={})),function(e){e.method="textDocument/didOpen",e.type=new o.ProtocolNotificationType(e.method)}(t.DidOpenTextDocumentNotification||(t.DidOpenTextDocumentNotification={})),function(e){e.isIncremental=function(e){let t=e;return null!=t&&"string"==typeof t.text&&void 0!==t.range&&(void 0===t.rangeLength||"number"==typeof t.rangeLength)},e.isFull=function(e){let t=e;return null!=t&&"string"==typeof t.text&&void 0===t.range&&void 0===t.rangeLength}}(t.TextDocumentContentChangeEvent||(t.TextDocumentContentChangeEvent={})),function(e){e.method="textDocument/didChange",e.type=new o.ProtocolNotificationType(e.method)}(t.DidChangeTextDocumentNotification||(t.DidChangeTextDocumentNotification={})),function(e){e.method="textDocument/didClose",e.type=new o.ProtocolNotificationType(e.method)}(t.DidCloseTextDocumentNotification||(t.DidCloseTextDocumentNotification={})),function(e){e.method="textDocument/didSave",e.type=new o.ProtocolNotificationType(e.method)}(t.DidSaveTextDocumentNotification||(t.DidSaveTextDocumentNotification={})),function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3}(t.TextDocumentSaveReason||(t.TextDocumentSaveReason={})),function(e){e.method="textDocument/willSave",e.type=new o.ProtocolNotificationType(e.method)}(t.WillSaveTextDocumentNotification||(t.WillSaveTextDocumentNotification={})),function(e){e.method="textDocument/willSaveWaitUntil",e.type=new o.ProtocolRequestType(e.method)}(t.WillSaveTextDocumentWaitUntilRequest||(t.WillSaveTextDocumentWaitUntilRequest={})),function(e){e.type=new o.ProtocolNotificationType("workspace/didChangeWatchedFiles")}(t.DidChangeWatchedFilesNotification||(t.DidChangeWatchedFilesNotification={})),function(e){e.Created=1,e.Changed=2,e.Deleted=3}(t.FileChangeType||(t.FileChangeType={})),function(e){e.Create=1,e.Change=2,e.Delete=4}(t.WatchKind||(t.WatchKind={})),function(e){e.type=new o.ProtocolNotificationType("textDocument/publishDiagnostics")}(t.PublishDiagnosticsNotification||(t.PublishDiagnosticsNotification={})),function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3}(t.CompletionTriggerKind||(t.CompletionTriggerKind={})),function(e){e.method="textDocument/completion",e.type=new o.ProtocolRequestType(e.method)}(t.CompletionRequest||(t.CompletionRequest={})),function(e){e.method="completionItem/resolve",e.type=new o.ProtocolRequestType(e.method)}(t.CompletionResolveRequest||(t.CompletionResolveRequest={})),function(e){e.method="textDocument/hover",e.type=new o.ProtocolRequestType(e.method)}(t.HoverRequest||(t.HoverRequest={})),function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3}(t.SignatureHelpTriggerKind||(t.SignatureHelpTriggerKind={})),function(e){e.method="textDocument/signatureHelp",e.type=new o.ProtocolRequestType(e.method)}(t.SignatureHelpRequest||(t.SignatureHelpRequest={})),function(e){e.method="textDocument/definition",e.type=new o.ProtocolRequestType(e.method)}(t.DefinitionRequest||(t.DefinitionRequest={})),function(e){e.method="textDocument/references",e.type=new o.ProtocolRequestType(e.method)}(t.ReferencesRequest||(t.ReferencesRequest={})),function(e){e.method="textDocument/documentHighlight",e.type=new o.ProtocolRequestType(e.method)}(t.DocumentHighlightRequest||(t.DocumentHighlightRequest={})),function(e){e.method="textDocument/documentSymbol",e.type=new o.ProtocolRequestType(e.method)}(t.DocumentSymbolRequest||(t.DocumentSymbolRequest={})),function(e){e.method="textDocument/codeAction",e.type=new o.ProtocolRequestType(e.method)}(t.CodeActionRequest||(t.CodeActionRequest={})),function(e){e.method="codeAction/resolve",e.type=new o.ProtocolRequestType(e.method)}(t.CodeActionResolveRequest||(t.CodeActionResolveRequest={})),function(e){e.method="workspace/symbol",e.type=new o.ProtocolRequestType(e.method)}(t.WorkspaceSymbolRequest||(t.WorkspaceSymbolRequest={})),function(e){e.method="textDocument/codeLens",e.type=new o.ProtocolRequestType(e.method)}(t.CodeLensRequest||(t.CodeLensRequest={})),function(e){e.method="codeLens/resolve",e.type=new o.ProtocolRequestType(e.method)}(t.CodeLensResolveRequest||(t.CodeLensResolveRequest={})),function(e){e.method="workspace/codeLens/refresh",e.type=new o.ProtocolRequestType0(e.method)}(t.CodeLensRefreshRequest||(t.CodeLensRefreshRequest={})),function(e){e.method="textDocument/documentLink",e.type=new o.ProtocolRequestType(e.method)}(t.DocumentLinkRequest||(t.DocumentLinkRequest={})),function(e){e.method="documentLink/resolve",e.type=new o.ProtocolRequestType(e.method)}(t.DocumentLinkResolveRequest||(t.DocumentLinkResolveRequest={})),function(e){e.method="textDocument/formatting",e.type=new o.ProtocolRequestType(e.method)}(t.DocumentFormattingRequest||(t.DocumentFormattingRequest={})),function(e){e.method="textDocument/rangeFormatting",e.type=new o.ProtocolRequestType(e.method)}(t.DocumentRangeFormattingRequest||(t.DocumentRangeFormattingRequest={})),function(e){e.method="textDocument/onTypeFormatting",e.type=new o.ProtocolRequestType(e.method)}(t.DocumentOnTypeFormattingRequest||(t.DocumentOnTypeFormattingRequest={})),function(e){e.Identifier=1}(t.PrepareSupportDefaultBehavior||(t.PrepareSupportDefaultBehavior={})),function(e){e.method="textDocument/rename",e.type=new o.ProtocolRequestType(e.method)}(t.RenameRequest||(t.RenameRequest={})),function(e){e.method="textDocument/prepareRename",e.type=new o.ProtocolRequestType(e.method)}(t.PrepareRenameRequest||(t.PrepareRenameRequest={})),function(e){e.type=new o.ProtocolRequestType("workspace/executeCommand")}(t.ExecuteCommandRequest||(t.ExecuteCommandRequest={})),function(e){e.type=new o.ProtocolRequestType("workspace/applyEdit")}(t.ApplyWorkspaceEditRequest||(t.ApplyWorkspaceEditRequest={}))},function(e,t,r){"use strict";function n(e){return"string"==typeof e||e instanceof String}function o(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.objectLiteral=t.typedArray=t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=o,t.stringArray=function(e){return o(e)&&e.every(e=>n(e))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.objectLiteral=function(e){return null!==e&&"object"==typeof e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImplementationRequest=void 0;const n=r(5);!function(e){e.method="textDocument/implementation",e.type=new n.ProtocolRequestType(e.method)}(t.ImplementationRequest||(t.ImplementationRequest={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeDefinitionRequest=void 0;const n=r(5);!function(e){e.method="textDocument/typeDefinition",e.type=new n.ProtocolRequestType(e.method)}(t.TypeDefinitionRequest||(t.TypeDefinitionRequest={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DidChangeWorkspaceFoldersNotification=t.WorkspaceFoldersRequest=void 0;const n=r(5);!function(e){e.type=new n.ProtocolRequestType0("workspace/workspaceFolders")}(t.WorkspaceFoldersRequest||(t.WorkspaceFoldersRequest={})),function(e){e.type=new n.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")}(t.DidChangeWorkspaceFoldersNotification||(t.DidChangeWorkspaceFoldersNotification={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationRequest=void 0;const n=r(5);!function(e){e.type=new n.ProtocolRequestType("workspace/configuration")}(t.ConfigurationRequest||(t.ConfigurationRequest={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorPresentationRequest=t.DocumentColorRequest=void 0;const n=r(5);!function(e){e.method="textDocument/documentColor",e.type=new n.ProtocolRequestType(e.method)}(t.DocumentColorRequest||(t.DocumentColorRequest={})),function(e){e.type=new n.ProtocolRequestType("textDocument/colorPresentation")}(t.ColorPresentationRequest||(t.ColorPresentationRequest={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FoldingRangeRequest=t.FoldingRangeKind=void 0;const n=r(5);!function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(t.FoldingRangeKind||(t.FoldingRangeKind={})),function(e){e.method="textDocument/foldingRange",e.type=new n.ProtocolRequestType(e.method)}(t.FoldingRangeRequest||(t.FoldingRangeRequest={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeclarationRequest=void 0;const n=r(5);!function(e){e.method="textDocument/declaration",e.type=new n.ProtocolRequestType(e.method)}(t.DeclarationRequest||(t.DeclarationRequest={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionRangeRequest=void 0;const n=r(5);!function(e){e.method="textDocument/selectionRange",e.type=new n.ProtocolRequestType(e.method)}(t.SelectionRangeRequest||(t.SelectionRangeRequest={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkDoneProgressCancelNotification=t.WorkDoneProgressCreateRequest=t.WorkDoneProgress=void 0;const n=r(51),o=r(5);!function(e){e.type=new n.ProgressType,e.is=function(t){return t===e.type}}(t.WorkDoneProgress||(t.WorkDoneProgress={})),function(e){e.type=new o.ProtocolRequestType("window/workDoneProgress/create")}(t.WorkDoneProgressCreateRequest||(t.WorkDoneProgressCreateRequest={})),function(e){e.type=new o.ProtocolNotificationType("window/workDoneProgress/cancel")}(t.WorkDoneProgressCancelNotification||(t.WorkDoneProgressCancelNotification={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallHierarchyOutgoingCallsRequest=t.CallHierarchyIncomingCallsRequest=t.CallHierarchyPrepareRequest=void 0;const n=r(5);!function(e){e.method="textDocument/prepareCallHierarchy",e.type=new n.ProtocolRequestType(e.method)}(t.CallHierarchyPrepareRequest||(t.CallHierarchyPrepareRequest={})),function(e){e.method="callHierarchy/incomingCalls",e.type=new n.ProtocolRequestType(e.method)}(t.CallHierarchyIncomingCallsRequest||(t.CallHierarchyIncomingCallsRequest={})),function(e){e.method="callHierarchy/outgoingCalls",e.type=new n.ProtocolRequestType(e.method)}(t.CallHierarchyOutgoingCallsRequest||(t.CallHierarchyOutgoingCallsRequest={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SemanticTokensRefreshRequest=t.SemanticTokensRangeRequest=t.SemanticTokensDeltaRequest=t.SemanticTokensRequest=t.SemanticTokensRegistrationType=t.TokenFormat=t.SemanticTokens=t.SemanticTokenModifiers=t.SemanticTokenTypes=void 0;const n=r(5);!function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator"}(t.SemanticTokenTypes||(t.SemanticTokenTypes={})),function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"}(t.SemanticTokenModifiers||(t.SemanticTokenModifiers={})),function(e){e.is=function(e){const t=e;return void 0!==t&&(void 0===t.resultId||"string"==typeof t.resultId)&&Array.isArray(t.data)&&(0===t.data.length||"number"==typeof t.data[0])}}(t.SemanticTokens||(t.SemanticTokens={})),function(e){e.Relative="relative"}(t.TokenFormat||(t.TokenFormat={})),function(e){e.method="textDocument/semanticTokens",e.type=new n.RegistrationType(e.method)}(t.SemanticTokensRegistrationType||(t.SemanticTokensRegistrationType={})),function(e){e.method="textDocument/semanticTokens/full",e.type=new n.ProtocolRequestType(e.method)}(t.SemanticTokensRequest||(t.SemanticTokensRequest={})),function(e){e.method="textDocument/semanticTokens/full/delta",e.type=new n.ProtocolRequestType(e.method)}(t.SemanticTokensDeltaRequest||(t.SemanticTokensDeltaRequest={})),function(e){e.method="textDocument/semanticTokens/range",e.type=new n.ProtocolRequestType(e.method)}(t.SemanticTokensRangeRequest||(t.SemanticTokensRangeRequest={})),function(e){e.method="workspace/semanticTokens/refresh",e.type=new n.ProtocolRequestType0(e.method)}(t.SemanticTokensRefreshRequest||(t.SemanticTokensRefreshRequest={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShowDocumentRequest=void 0;const n=r(5);!function(e){e.method="window/showDocument",e.type=new n.ProtocolRequestType(e.method)}(t.ShowDocumentRequest||(t.ShowDocumentRequest={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedEditingRangeRequest=void 0;const n=r(5);!function(e){e.method="textDocument/linkedEditingRange",e.type=new n.ProtocolRequestType(e.method)}(t.LinkedEditingRangeRequest||(t.LinkedEditingRangeRequest={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WillDeleteFilesRequest=t.DidDeleteFilesNotification=t.DidRenameFilesNotification=t.WillRenameFilesRequest=t.DidCreateFilesNotification=t.WillCreateFilesRequest=t.FileOperationPatternKind=void 0;const n=r(5);!function(e){e.file="file",e.folder="folder"}(t.FileOperationPatternKind||(t.FileOperationPatternKind={})),function(e){e.method="workspace/willCreateFiles",e.type=new n.ProtocolRequestType(e.method)}(t.WillCreateFilesRequest||(t.WillCreateFilesRequest={})),function(e){e.method="workspace/didCreateFiles",e.type=new n.ProtocolNotificationType(e.method)}(t.DidCreateFilesNotification||(t.DidCreateFilesNotification={})),function(e){e.method="workspace/willRenameFiles",e.type=new n.ProtocolRequestType(e.method)}(t.WillRenameFilesRequest||(t.WillRenameFilesRequest={})),function(e){e.method="workspace/didRenameFiles",e.type=new n.ProtocolNotificationType(e.method)}(t.DidRenameFilesNotification||(t.DidRenameFilesNotification={})),function(e){e.method="workspace/didDeleteFiles",e.type=new n.ProtocolNotificationType(e.method)}(t.DidDeleteFilesNotification||(t.DidDeleteFilesNotification={})),function(e){e.method="workspace/willDeleteFiles",e.type=new n.ProtocolRequestType(e.method)}(t.WillDeleteFilesRequest||(t.WillDeleteFilesRequest={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MonikerRequest=t.MonikerKind=t.UniquenessLevel=void 0;const n=r(5);!function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"}(t.UniquenessLevel||(t.UniquenessLevel={})),function(e){e.import="import",e.export="export",e.local="local"}(t.MonikerKind||(t.MonikerKind={})),function(e){e.method="textDocument/moniker",e.type=new n.ProtocolRequestType(e.method)}(t.MonikerRequest||(t.MonikerRequest={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createProtocolConnection=void 0;const n=r(51);t.createProtocolConnection=function(e,t,r,o){return n.ConnectionStrategy.is(o)&&(o={connectionStrategy:o}),n.createMessageConnection(e,t,r,o)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createConverter=void 0;const n=r(0),o=r(3),i=r(36),s=r(144),a=r(145),l=r(146),c=r(147),u=r(148),d=r(149),g=r(3);var p;!function(e){e.is=function(e){const t=e;return t&&!!t.inserting&&!!t.replacing}}(p||(p={})),t.createConverter=function(e){const t=e||(e=>e.toString());function r(e){return t(e)}function h(e){return{uri:t(e.uri)}}function f(e){switch(e){case n.TextDocumentSaveReason.Manual:return o.TextDocumentSaveReason.Manual;case n.TextDocumentSaveReason.AfterDelay:return o.TextDocumentSaveReason.AfterDelay;case n.TextDocumentSaveReason.FocusOut:return o.TextDocumentSaveReason.FocusOut}return o.TextDocumentSaveReason.Manual}function m(e){switch(e){case n.CompletionTriggerKind.TriggerCharacter:return o.CompletionTriggerKind.TriggerCharacter;case n.CompletionTriggerKind.TriggerForIncompleteCompletions:return o.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return o.CompletionTriggerKind.Invoked}}function y(e){switch(e){case n.SignatureHelpTriggerKind.Invoke:return o.SignatureHelpTriggerKind.Invoked;case n.SignatureHelpTriggerKind.TriggerCharacter:return o.SignatureHelpTriggerKind.TriggerCharacter;case n.SignatureHelpTriggerKind.ContentChange:return o.SignatureHelpTriggerKind.ContentChange}}function v(e){return{label:e.label}}function _(e){return{label:e.label,parameters:(t=e.parameters,t.map(v))};var t}function T(e){return{line:e.line,character:e.character}}function S(e){return null==e?e:{line:e.line,character:e.character}}function b(e){return null==e?e:{start:S(e.start),end:S(e.end)}}function E(e){return null==e?e:o.Location.create(r(e.uri),b(e.range))}function C(e){switch(e){case n.DiagnosticSeverity.Error:return o.DiagnosticSeverity.Error;case n.DiagnosticSeverity.Warning:return o.DiagnosticSeverity.Warning;case n.DiagnosticSeverity.Information:return o.DiagnosticSeverity.Information;case n.DiagnosticSeverity.Hint:return o.DiagnosticSeverity.Hint}}function R(e){switch(e){case n.DiagnosticTag.Unnecessary:return o.DiagnosticTag.Unnecessary;case n.DiagnosticTag.Deprecated:return o.DiagnosticTag.Deprecated;default:return}}function w(e){return{message:e.message,location:E(e.location)}}function D(e){const t=o.Diagnostic.create(b(e.range),e.message),n=e instanceof u.ProtocolDiagnostic?e:void 0;void 0!==n&&void 0!==n.data&&(t.data=n.data);const s=function(e){if(null!=e)return i.number(e)||i.string(e)?e:{value:e.value,target:r(e.target)}}(e.code);return u.DiagnosticCode.is(s)?void 0!==n&&n.hasDiagnosticCode?t.code=s:(t.code=s.value,t.codeDescription={href:s.target}):t.code=s,i.number(e.severity)&&(t.severity=C(e.severity)),Array.isArray(e.tags)&&(t.tags=function(e){if(!e)return;let t=[];for(let r of e){let e=R(r);void 0!==e&&t.push(e)}return t.length>0?t:void 0}(e.tags)),e.relatedInformation&&(t.relatedInformation=e.relatedInformation.map(w)),e.source&&(t.source=e.source),t}function A(e){return null==e?e:e.map(D)}function O(e){switch(e){case n.CompletionItemTag.Deprecated:return o.CompletionItemTag.Deprecated}}function I(e){return{range:b(e.range),newText:e.newText}}function P(e){return e<=n.SymbolKind.TypeParameter?e+1:o.SymbolKind.Property}function N(e){return e}function M(e){return e.map(N)}function k(e){let t=o.Command.create(e.title,e.command);return e.arguments&&(t.arguments=e.arguments),t}return{asUri:r,asTextDocumentIdentifier:h,asVersionedTextDocumentIdentifier:function(e){return{uri:t(e.uri),version:e.version}},asOpenTextDocumentParams:function(e){return{textDocument:{uri:t(e.uri),languageId:e.languageId,version:e.version,text:e.getText()}}},asChangeTextDocumentParams:function(e){if(function(e){let t=e;return!!t.uri&&!!t.version}(e)){return{textDocument:{uri:t(e.uri),version:e.version},contentChanges:[{text:e.getText()}]}}if(function(e){let t=e;return!!t.document&&!!t.contentChanges}(e)){let r=e.document;return{textDocument:{uri:t(r.uri),version:r.version},contentChanges:e.contentChanges.map(e=>{let t=e.range;return{range:{start:{line:t.start.line,character:t.start.character},end:{line:t.end.line,character:t.end.character}},rangeLength:e.rangeLength,text:e.text}})}}throw Error("Unsupported text document change parameter")},asCloseTextDocumentParams:function(e){return{textDocument:h(e)}},asSaveTextDocumentParams:function(e,t=!1){let r={textDocument:h(e)};return t&&(r.text=e.getText()),r},asWillSaveTextDocumentParams:function(e){return{textDocument:h(e.document),reason:f(e.reason)}},asDidCreateFilesParams:function(e){return{files:e.files.map(e=>({uri:t(e)}))}},asDidRenameFilesParams:function(e){return{files:e.files.map(e=>({oldUri:t(e.oldUri),newUri:t(e.newUri)}))}},asDidDeleteFilesParams:function(e){return{files:e.files.map(e=>({uri:t(e)}))}},asWillCreateFilesParams:function(e){return{files:e.files.map(e=>({uri:t(e)}))}},asWillRenameFilesParams:function(e){return{files:e.files.map(e=>({oldUri:t(e.oldUri),newUri:t(e.newUri)}))}},asWillDeleteFilesParams:function(e){return{files:e.files.map(e=>({uri:t(e)}))}},asTextDocumentPositionParams:function(e,t){return{textDocument:h(e),position:T(t)}},asCompletionParams:function(e,t,r){return{textDocument:h(e),position:T(t),context:{triggerKind:m(r.triggerKind),triggerCharacter:r.triggerCharacter}}},asSignatureHelpParams:function(e,t,r){return{textDocument:h(e),position:T(t),context:{isRetrigger:r.isRetrigger,triggerCharacter:r.triggerCharacter,triggerKind:y(r.triggerKind),activeSignatureHelp:(n=r.activeSignatureHelp,void 0===n?n:{signatures:(o=n.signatures,o.map(_)),activeSignature:n.activeSignature,activeParameter:n.activeParameter})}};var n,o},asWorkerPosition:T,asRange:b,asPosition:S,asPositions:function(e){let t=[];for(let r of e)t.push(S(r));return t},asLocation:E,asDiagnosticSeverity:C,asDiagnosticTag:R,asDiagnostic:D,asDiagnostics:A,asCompletionItem:function(e){let t={label:e.label},r=e instanceof s.default?e:void 0;var a,l;e.detail&&(t.detail=e.detail),e.documentation&&(r&&"$string"!==r.documentationFormat?t.documentation=function(e,t){switch(e){case"$string":return t;case o.MarkupKind.PlainText:return{kind:e,value:t};case o.MarkupKind.Markdown:return{kind:e,value:t.value};default:return"Unsupported Markup content received. Kind is: "+e}}(r.documentationFormat,e.documentation):t.documentation=e.documentation),e.filterText&&(t.filterText=e.filterText),function(e,t){let r=o.InsertTextFormat.PlainText,i=void 0,s=void 0;t.textEdit?(i=t.textEdit.newText,s=t.textEdit.range):t.insertText instanceof n.SnippetString?(r=o.InsertTextFormat.Snippet,i=t.insertText.value):i=t.insertText;t.range&&(s=t.range);e.insertTextFormat=r,t.fromEdit&&void 0!==i&&void 0!==s?e.textEdit=function(e,t){return p.is(t)?o.InsertReplaceEdit.create(e,b(t.inserting),b(t.replacing)):{newText:e,range:b(t)}}(i,s):e.insertText=i}(t,e),i.number(e.kind)&&(t.kind=(a=e.kind,void 0!==(l=r&&r.originalItemKind)?l:a+1)),e.sortText&&(t.sortText=e.sortText),e.additionalTextEdits&&(t.additionalTextEdits=function(e){if(null==e)return e;return e.map(I)}(e.additionalTextEdits)),e.commitCharacters&&(t.commitCharacters=e.commitCharacters.slice()),e.command&&(t.command=k(e.command)),!0!==e.preselect&&!1!==e.preselect||(t.preselect=e.preselect);const c=function(e){if(void 0===e)return e;const t=[];for(let r of e){const e=O(r);void 0!==e&&t.push(e)}return t}(e.tags);if(r){if(void 0!==r.data&&(t.data=r.data),!0===r.deprecated||!1===r.deprecated){if(!0===r.deprecated&&void 0!==c&&c.length>0){const e=c.indexOf(n.CompletionItemTag.Deprecated);-1!==e&&c.splice(e,1)}t.deprecated=r.deprecated}void 0!==r.insertTextMode&&(t.insertTextMode=r.insertTextMode)}return void 0!==c&&c.length>0&&(t.tags=c),void 0===t.insertTextMode&&!0===e.keepWhitespace&&(t.insertTextMode=g.InsertTextMode.adjustIndentation),t},asTextEdit:I,asSymbolKind:P,asSymbolTag:N,asSymbolTags:M,asReferenceParams:function(e,t,r){return{textDocument:h(e),position:T(t),context:{includeDeclaration:r.includeDeclaration}}},asCodeAction:function(e){let t=o.CodeAction.create(e.title);if(e instanceof c.default&&void 0!==e.data&&(t.data=e.data),void 0!==e.kind&&(t.kind=function(e){if(null==e)return;return e.value}(e.kind)),void 0!==e.diagnostics&&(t.diagnostics=A(e.diagnostics)),void 0!==e.edit)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return void 0!==e.command&&(t.command=k(e.command)),void 0!==e.isPreferred&&(t.isPreferred=e.isPreferred),void 0!==e.disabled&&(t.disabled={reason:e.disabled.reason}),t},asCodeActionContext:function(e){if(null==e)return e;let t;return e.only&&i.string(e.only.value)&&(t=[e.only.value]),o.CodeActionContext.create(A(e.diagnostics),t)},asCommand:k,asCodeLens:function(e){let t=o.CodeLens.create(b(e.range));return e.command&&(t.command=k(e.command)),e instanceof a.default&&e.data&&(t.data=e.data),t},asFormattingOptions:function(e,t){const r={tabSize:e.tabSize,insertSpaces:e.insertSpaces};return t.trimTrailingWhitespace&&(r.trimTrailingWhitespace=!0),t.trimFinalNewlines&&(r.trimFinalNewlines=!0),t.insertFinalNewline&&(r.insertFinalNewline=!0),r},asDocumentSymbolParams:function(e){return{textDocument:h(e)}},asCodeLensParams:function(e){return{textDocument:h(e)}},asDocumentLink:function(e){let t=o.DocumentLink.create(b(e.range));e.target&&(t.target=r(e.target)),void 0!==e.tooltip&&(t.tooltip=e.tooltip);let n=e instanceof l.default?e:void 0;return n&&n.data&&(t.data=n.data),t},asDocumentLinkParams:function(e){return{textDocument:h(e)}},asCallHierarchyItem:function(e){const t={name:e.name,kind:P(e.kind),uri:r(e.uri),range:b(e.range),selectionRange:b(e.selectionRange)};return void 0!==e.detail&&e.detail.length>0&&(t.detail=e.detail),void 0!==e.tags&&(t.tags=M(e.tags)),e instanceof d.default&&void 0!==e.data&&(t.data=e.data),t}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createConverter=void 0;const n=r(0),o=r(3),i=r(36),s=r(144),a=r(145),l=r(146),c=r(147),u=r(148),d=r(149),g=r(3);var p;!function(e){e.is=function(e){let t=e;return t&&i.string(t.language)&&i.string(t.value)}}(p||(p={})),t.createConverter=function(e,t){const r=e||(e=>n.Uri.parse(e));function h(e){return r(e)}function f(e){return e.map(m)}function m(e){let t=new u.ProtocolDiagnostic(T(e.range),e.message,b(e.severity),e.data);return void 0!==e.code&&(o.CodeDescription.is(e.codeDescription)?t.code={value:e.code,target:h(e.codeDescription.href)}:u.DiagnosticCode.is(e.code)?(t.hasDiagnosticCode=!0,t.code={value:e.code.value,target:h(e.code.target)}):t.code=e.code),e.source&&(t.source=e.source),e.relatedInformation&&(t.relatedInformation=e.relatedInformation.map(y)),Array.isArray(e.tags)&&(t.tags=function(e){if(!e)return;let t=[];for(let r of e){let e=v(r);void 0!==e&&t.push(e)}return t.length>0?t:void 0}(e.tags)),t}function y(e){return new n.DiagnosticRelatedInformation(k(e.location),e.message)}function v(e){switch(e){case o.DiagnosticTag.Unnecessary:return n.DiagnosticTag.Unnecessary;case o.DiagnosticTag.Deprecated:return n.DiagnosticTag.Deprecated;default:return}}function _(e){if(e)return new n.Position(e.line,e.character)}function T(e){if(e)return new n.Range(_(e.start),_(e.end))}function S(e){return e.map(e=>T(e))}function b(e){if(null==e)return n.DiagnosticSeverity.Error;switch(e){case o.DiagnosticSeverity.Error:return n.DiagnosticSeverity.Error;case o.DiagnosticSeverity.Warning:return n.DiagnosticSeverity.Warning;case o.DiagnosticSeverity.Information:return n.DiagnosticSeverity.Information;case o.DiagnosticSeverity.Hint:return n.DiagnosticSeverity.Hint}return n.DiagnosticSeverity.Error}function E(e){if(i.string(e))return e;switch(e.kind){case o.MarkupKind.Markdown:return C(e.value);case o.MarkupKind.PlainText:return e.value;default:return"Unsupported Markup content received. Kind is: "+e.kind}}function C(e){const r=new n.MarkdownString(e);return!0===t&&(r.isTrusted=t),r}function R(e){switch(e){case o.CompletionItemTag.Deprecated:return n.CompletionItemTag.Deprecated}}function w(e){let t=function(e){if(null==e)return[];const t=[];for(let r of e){const e=R(r);void 0!==e&&t.push(e)}return t}(e.tags),r=new s.default(e.label);e.detail&&(r.detail=e.detail),e.documentation&&(r.documentation=E(e.documentation),r.documentationFormat=i.string(e.documentation)?"$string":e.documentation.kind),e.filterText&&(r.filterText=e.filterText);let a=function(e){return e.textEdit?e.insertTextFormat===o.InsertTextFormat.Snippet?{text:new n.SnippetString(e.textEdit.newText),range:D(e.textEdit),fromEdit:!0}:{text:e.textEdit.newText,range:D(e.textEdit),fromEdit:!0}:e.insertText?e.insertTextFormat===o.InsertTextFormat.Snippet?{text:new n.SnippetString(e.insertText),fromEdit:!1}:{text:e.insertText,fromEdit:!1}:void 0}(e);if(a&&(r.insertText=a.text,r.range=a.range,r.fromEdit=a.fromEdit),i.number(e.kind)){let[t,i]=(l=e.kind,o.CompletionItemKind.Text<=l&&l<=o.CompletionItemKind.TypeParameter?[l-1,void 0]:[n.CompletionItemKind.Text,l]);r.kind=t,i&&(r.originalItemKind=i)}var l;return e.sortText&&(r.sortText=e.sortText),e.additionalTextEdits&&(r.additionalTextEdits=O(e.additionalTextEdits)),i.stringArray(e.commitCharacters)&&(r.commitCharacters=e.commitCharacters.slice()),e.command&&(r.command=V(e.command)),!0!==e.deprecated&&!1!==e.deprecated||(r.deprecated=e.deprecated,!0===e.deprecated&&t.push(n.CompletionItemTag.Deprecated)),!0!==e.preselect&&!1!==e.preselect||(r.preselect=e.preselect),void 0!==e.data&&(r.data=e.data),t.length>0&&(r.tags=t),void 0!==e.insertTextMode&&(r.insertTextMode=e.insertTextMode,e.insertTextMode===g.InsertTextMode.asIs&&(r.keepWhitespace=!0)),r}function D(e){return o.InsertReplaceEdit.is(e)?{inserting:T(e.insert),replacing:T(e.replace)}:T(e.range)}function A(e){if(e)return new n.TextEdit(T(e.range),e.newText)}function O(e){if(e)return e.map(A)}function I(e){return e.map(P)}function P(e){let t=new n.SignatureInformation(e.label);return void 0!==e.documentation&&(t.documentation=E(e.documentation)),void 0!==e.parameters&&(t.parameters=N(e.parameters)),void 0!==e.activeParameter&&(t.activeParameter=e.activeParameter),t}function N(e){return e.map(M)}function M(e){let t=new n.ParameterInformation(e.label);return e.documentation&&(t.documentation=E(e.documentation)),t}function k(e){if(e)return new n.Location(r(e.uri),T(e.range))}function j(e){if(!e)return;let t={targetUri:r(e.targetUri),targetRange:T(e.targetRange),originSelectionRange:T(e.originSelectionRange),targetSelectionRange:T(e.targetSelectionRange)};if(!t.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return t}function x(e){if(e){if(i.array(e)){if(0===e.length)return[];if(o.LocationLink.is(e[0])){return e.map(e=>j(e))}return e.map(e=>k(e))}return o.LocationLink.is(e)?[j(e)]:k(e)}}function L(e){let t=new n.DocumentHighlight(T(e.range));return i.number(e.kind)&&(t.kind=F(e.kind)),t}function F(e){switch(e){case o.DocumentHighlightKind.Text:return n.DocumentHighlightKind.Text;case o.DocumentHighlightKind.Read:return n.DocumentHighlightKind.Read;case o.DocumentHighlightKind.Write:return n.DocumentHighlightKind.Write}return n.DocumentHighlightKind.Text}function B(e){return e<=o.SymbolKind.TypeParameter?e-1:n.SymbolKind.Property}function U(e){switch(e){case o.SymbolTag.Deprecated:return n.SymbolTag.Deprecated;default:return}}function G(e){if(null==e)return;const t=[];for(const r of e){const e=U(r);void 0!==e&&t.push(e)}return 0===t.length?void 0:t}function W(e,t){let o=new n.SymbolInformation(e.name,B(e.kind),T(e.location.range),e.location.uri?r(e.location.uri):t);return H(o,e),e.containerName&&(o.containerName=e.containerName),o}function q(e){let t=new n.DocumentSymbol(e.name,e.detail||"",B(e.kind),T(e.range),T(e.selectionRange));if(H(t,e),void 0!==e.children&&e.children.length>0){let r=[];for(let t of e.children)r.push(q(t));t.children=r}return t}function H(e,t){e.tags=G(t.tags),t.deprecated&&(e.tags?e.tags.includes(n.SymbolTag.Deprecated)||(e.tags=e.tags.concat(n.SymbolTag.Deprecated)):e.tags=[n.SymbolTag.Deprecated])}function V(e){let t={title:e.title,command:e.command};return e.arguments&&(t.arguments=e.arguments),t}const z=new Map;function $(e){if(null==e)return;let t=z.get(e);if(t)return t;let r=e.split(".");t=n.CodeActionKind.Empty;for(let e of r)t=t.append(e);return t}function K(e){if(!e)return;let t=new a.default(T(e.range));return e.command&&(t.command=V(e.command)),void 0!==e.data&&null!==e.data&&(t.data=e.data),t}function Y(e){if(!e)return;const t=new Map;if(void 0!==e.changeAnnotations)for(const r of Object.keys(e.changeAnnotations)){const n=J(e.changeAnnotations[r]);t.set(r,n)}const i=e=>void 0===e?void 0:t.get(e),s=new n.WorkspaceEdit;if(e.documentChanges)for(const t of e.documentChanges)if(o.CreateFile.is(t))s.createFile(r(t.uri),t.options,i(t.annotationId));else if(o.RenameFile.is(t))s.renameFile(r(t.oldUri),r(t.newUri),t.options,i(t.annotationId));else if(o.DeleteFile.is(t))s.deleteFile(r(t.uri),t.options,i(t.annotationId));else{if(!o.TextDocumentEdit.is(t))throw new Error("Unknown workspace edit change received:\n"+JSON.stringify(t,void 0,4));{const e=r(t.textDocument.uri);for(const r of t.edits)g.AnnotatedTextEdit.is(r)?s.replace(e,T(r.range),r.newText,i(r.annotationId)):s.replace(e,T(r.range),r.newText)}}else e.changes&&Object.keys(e.changes).forEach(t=>{s.set(r(t),O(e.changes[t]))});return s}function J(e){if(void 0!==e)return{label:e.label,needsConfirmation:!!e.needsConfirmation,description:e.description}}function X(e){let t=T(e.range),r=e.target?h(e.target):void 0,n=new l.default(t,r);return void 0!==e.tooltip&&(n.tooltip=e.tooltip),void 0!==e.data&&null!==e.data&&(n.data=e.data),n}function Q(e){return new n.Color(e.red,e.green,e.blue,e.alpha)}function Z(e){return new n.ColorInformation(T(e.range),Q(e.color))}function ee(e){let t=new n.ColorPresentation(e.label);return t.additionalTextEdits=O(e.additionalTextEdits),e.textEdit&&(t.textEdit=A(e.textEdit)),t}function te(e){if(e)switch(e){case o.FoldingRangeKind.Comment:return n.FoldingRangeKind.Comment;case o.FoldingRangeKind.Imports:return n.FoldingRangeKind.Imports;case o.FoldingRangeKind.Region:return n.FoldingRangeKind.Region}}function re(e){return new n.FoldingRange(e.startLine,e.endLine,te(e.kind))}function ne(e){return new n.SelectionRange(T(e.range),e.parent?ne(e.parent):void 0)}function oe(e){if(null===e)return;let t=new d.default(B(e.kind),e.name,e.detail||"",h(e.uri),T(e.range),T(e.selectionRange),e.data);return void 0!==e.tags&&(t.tags=G(e.tags)),t}function ie(e){return new n.CallHierarchyIncomingCall(oe(e.from),S(e.fromRanges))}function se(e){return new n.CallHierarchyOutgoingCall(oe(e.to),S(e.fromRanges))}function ae(e){return new n.SemanticTokensEdit(e.start,e.deleteCount,void 0!==e.data?new Uint32Array(e.data):void 0)}return z.set(o.CodeActionKind.Empty,n.CodeActionKind.Empty),z.set(o.CodeActionKind.QuickFix,n.CodeActionKind.QuickFix),z.set(o.CodeActionKind.Refactor,n.CodeActionKind.Refactor),z.set(o.CodeActionKind.RefactorExtract,n.CodeActionKind.RefactorExtract),z.set(o.CodeActionKind.RefactorInline,n.CodeActionKind.RefactorInline),z.set(o.CodeActionKind.RefactorRewrite,n.CodeActionKind.RefactorRewrite),z.set(o.CodeActionKind.Source,n.CodeActionKind.Source),z.set(o.CodeActionKind.SourceOrganizeImports,n.CodeActionKind.SourceOrganizeImports),{asUri:h,asDiagnostics:f,asDiagnostic:m,asRange:T,asRanges:S,asPosition:_,asDiagnosticSeverity:b,asDiagnosticTag:v,asHover:function(e){if(e)return new n.Hover(function(e){if(i.string(e))return C(e);if(p.is(e)){return C().appendCodeblock(e.value,e.language)}if(Array.isArray(e)){let t=[];for(let r of e){let e=C();p.is(r)?e.appendCodeblock(r.value,r.language):e.appendMarkdown(r),t.push(e)}return t}{let t;switch(e.kind){case o.MarkupKind.Markdown:return C(e.value);case o.MarkupKind.PlainText:return t=C(),t.appendText(e.value),t;default:return t=C(),t.appendText("Unsupported Markup content received. Kind is: "+e.kind),t}}}(e.contents),T(e.range))},asCompletionResult:function(e){if(!e)return;if(Array.isArray(e)){return e.map(w)}let t=e;return new n.CompletionList(t.items.map(w),t.isIncomplete)},asCompletionItem:w,asTextEdit:A,asTextEdits:O,asSignatureHelp:function(e){if(!e)return;let t=new n.SignatureHelp;return i.number(e.activeSignature)?t.activeSignature=e.activeSignature:t.activeSignature=0,i.number(e.activeParameter)?t.activeParameter=e.activeParameter:t.activeParameter=0,e.signatures&&(t.signatures=I(e.signatures)),t},asSignatureInformations:I,asSignatureInformation:P,asParameterInformations:N,asParameterInformation:M,asDeclarationResult:function(e){if(e)return x(e)},asDefinitionResult:function(e){if(e)return x(e)},asLocation:k,asReferences:function(e){if(e)return e.map(e=>k(e))},asDocumentHighlights:function(e){if(e)return e.map(L)},asDocumentHighlight:L,asDocumentHighlightKind:F,asSymbolKind:B,asSymbolTag:U,asSymbolTags:G,asSymbolInformations:function(e,t){if(e)return e.map(e=>W(e,t))},asSymbolInformation:W,asDocumentSymbols:function(e){if(null!=e)return e.map(q)},asDocumentSymbol:q,asCommand:V,asCommands:function(e){if(e)return e.map(V)},asCodeAction:function(e){if(null==e)return;let t=new c.default(e.title,e.data);return void 0!==e.kind&&(t.kind=$(e.kind)),void 0!==e.diagnostics&&(t.diagnostics=f(e.diagnostics)),void 0!==e.edit&&(t.edit=Y(e.edit)),void 0!==e.command&&(t.command=V(e.command)),void 0!==e.isPreferred&&(t.isPreferred=e.isPreferred),void 0!==e.disabled&&(t.disabled={reason:e.disabled.reason}),t},asCodeActionKind:$,asCodeActionKinds:function(e){if(null!=e)return e.map(e=>$(e))},asCodeLens:K,asCodeLenses:function(e){if(e)return e.map(e=>K(e))},asWorkspaceEdit:Y,asDocumentLink:X,asDocumentLinks:function(e){if(e)return e.map(X)},asFoldingRangeKind:te,asFoldingRange:re,asFoldingRanges:function(e){if(Array.isArray(e))return e.map(re)},asColor:Q,asColorInformation:Z,asColorInformations:function(e){if(Array.isArray(e))return e.map(Z)},asColorPresentation:ee,asColorPresentations:function(e){if(Array.isArray(e))return e.map(ee)},asSelectionRange:ne,asSelectionRanges:function(e){if(!Array.isArray(e))return[];let t=[];for(let r of e)t.push(ne(r));return t},asSemanticTokensLegend:function(e){return e},asSemanticTokens:function(e){if(null!=e)return new n.SemanticTokens(new Uint32Array(e.data),e.resultId)},asSemanticTokensEdit:ae,asSemanticTokensEdits:function(e){if(null!=e)return new n.SemanticTokensEdits(e.edits.map(ae),e.resultId)},asCallHierarchyItem:oe,asCallHierarchyItems:function(e){if(null!==e)return e.map(e=>oe(e))},asCallHierarchyIncomingCall:ie,asCallHierarchyIncomingCalls:function(e){if(null!==e)return e.map(e=>ie(e))},asCallHierarchyOutgoingCall:se,asCallHierarchyOutgoingCalls:function(e){if(null!==e)return e.map(e=>se(e))},asLinkedEditingRanges:function(e){if(null!=e)return new n.LinkedEditingRanges(S(e.ranges),function(e){if(null==e)return;return new RegExp(e)}(e.wordPattern))}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Delayer=void 0;const n=r(3);t.Delayer=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,t=this.defaultDelay){return this.task=e,t>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(e=>{this.onSuccess=e}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;var e=this.task();return this.task=void 0,e})),(t>=0||void 0===this.timeout)&&(this.timeout=n.RAL().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},t>=0?t:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return void 0!==this.timeout}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){void 0!==this.timeout&&(n.RAL().timer.clearTimeout(this.timeout),this.timeout=void 0)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorProviderFeature=void 0;const n=r(0),o=r(3),i=r(13);function s(e,t){return void 0===e[t]&&(e[t]={}),e[t]}class a extends i.TextDocumentFeature{constructor(e){super(e,o.DocumentColorRequest.type)}fillClientCapabilities(e){s(s(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,t){let[r,n]=this.getRegistration(t,e.colorProvider);r&&n&&this.register({id:r,registerOptions:n})}registerLanguageProvider(e){const t={provideColorPresentations:(e,t,r)=>{const n=this._client,i=(e,t,r)=>{const i={color:e,textDocument:n.code2ProtocolConverter.asTextDocumentIdentifier(t.document),range:n.code2ProtocolConverter.asRange(t.range)};return n.sendRequest(o.ColorPresentationRequest.type,i,r).then(this.asColorPresentations.bind(this),e=>n.handleFailedRequest(o.ColorPresentationRequest.type,e,null))},s=n.clientOptions.middleware;return s.provideColorPresentations?s.provideColorPresentations(e,t,r,i):i(e,t,r)},provideDocumentColors:(e,t)=>{const r=this._client,n=(e,t)=>{const n={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e)};return r.sendRequest(o.DocumentColorRequest.type,n,t).then(this.asColorInformations.bind(this),e=>r.handleFailedRequest(o.ColorPresentationRequest.type,e,null))},i=r.clientOptions.middleware;return i.provideDocumentColors?i.provideDocumentColors(e,t,n):n(e,t)}};return[n.languages.registerColorProvider(e.documentSelector,t),t]}asColor(e){return new n.Color(e.red,e.green,e.blue,e.alpha)}asColorInformations(e){return Array.isArray(e)?e.map(e=>new n.ColorInformation(this._client.protocol2CodeConverter.asRange(e.range),this.asColor(e.color))):[]}asColorPresentations(e){return Array.isArray(e)?e.map(e=>{let t=new n.ColorPresentation(e.label);return t.additionalTextEdits=this._client.protocol2CodeConverter.asTextEdits(e.additionalTextEdits),t.textEdit=this._client.protocol2CodeConverter.asTextEdit(e.textEdit),t}):[]}}t.ColorProviderFeature=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImplementationFeature=void 0;const n=r(0),o=r(3),i=r(13);function s(e,t){return void 0===e[t]&&(e[t]={}),e[t]}class a extends i.TextDocumentFeature{constructor(e){super(e,o.ImplementationRequest.type)}fillClientCapabilities(e){let t=s(s(e,"textDocument"),"implementation");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[r,n]=this.getRegistration(t,e.implementationProvider);r&&n&&this.register({id:r,registerOptions:n})}registerLanguageProvider(e){const t={provideImplementation:(e,t,r)=>{const n=this._client,i=(e,t,r)=>n.sendRequest(o.ImplementationRequest.type,n.code2ProtocolConverter.asTextDocumentPositionParams(e,t),r).then(n.protocol2CodeConverter.asDefinitionResult,e=>n.handleFailedRequest(o.ImplementationRequest.type,e,null)),s=n.clientOptions.middleware;return s.provideImplementation?s.provideImplementation(e,t,r,i):i(e,t,r)}};return[n.languages.registerImplementationProvider(e.documentSelector,t),t]}}t.ImplementationFeature=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeDefinitionFeature=void 0;const n=r(0),o=r(3),i=r(13);function s(e,t){return void 0===e[t]&&(e[t]={}),e[t]}class a extends i.TextDocumentFeature{constructor(e){super(e,o.TypeDefinitionRequest.type)}fillClientCapabilities(e){s(s(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let t=s(s(e,"textDocument"),"typeDefinition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[r,n]=this.getRegistration(t,e.typeDefinitionProvider);r&&n&&this.register({id:r,registerOptions:n})}registerLanguageProvider(e){const t={provideTypeDefinition:(e,t,r)=>{const n=this._client,i=(e,t,r)=>n.sendRequest(o.TypeDefinitionRequest.type,n.code2ProtocolConverter.asTextDocumentPositionParams(e,t),r).then(n.protocol2CodeConverter.asDefinitionResult,e=>n.handleFailedRequest(o.TypeDefinitionRequest.type,e,null)),s=n.clientOptions.middleware;return s.provideTypeDefinition?s.provideTypeDefinition(e,t,r,i):i(e,t,r)}};return[n.languages.registerTypeDefinitionProvider(e.documentSelector,t),t]}}t.TypeDefinitionFeature=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceFoldersFeature=t.arrayDiff=void 0;const n=r(88),o=r(0),i=r(3);function s(e,t){if(void 0!==e)return e[t]}function a(e,t){return e.filter(e=>t.indexOf(e)<0)}t.arrayDiff=a;t.WorkspaceFoldersFeature=class{constructor(e){this._client=e,this._listeners=new Map}get registrationType(){return i.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){const t=o.workspace.workspaceFolders;this.initializeWithFolders(t),e.workspaceFolders=void 0===t?null:t.map(e=>this.asProtocol(e))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){const t=this._client;t.onRequest(i.WorkspaceFoldersRequest.type,e=>{const r=()=>{const e=o.workspace.workspaceFolders;if(void 0===e)return null;return e.map(e=>this.asProtocol(e))},n=t.clientOptions.middleware.workspace;return n&&n.workspaceFolders?n.workspaceFolders(e,r):r()});const r=s(s(s(e,"workspace"),"workspaceFolders"),"changeNotifications");let a;"string"==typeof r?a=r:!0===r&&(a=n.generateUuid()),a&&this.register({id:a,registerOptions:void 0})}sendInitialEvent(e){if(this._initialFolders&&e){const t=a(this._initialFolders,e),r=a(e,this._initialFolders);(r.length>0||t.length>0)&&this.doSendEvent(r,t)}else this._initialFolders?this.doSendEvent([],this._initialFolders):e&&this.doSendEvent(e,[])}doSendEvent(e,t){let r={event:{added:e.map(e=>this.asProtocol(e)),removed:t.map(e=>this.asProtocol(e))}};this._client.sendNotification(i.DidChangeWorkspaceFoldersNotification.type,r)}register(e){let t=e.id,r=this._client,n=o.workspace.onDidChangeWorkspaceFolders(e=>{let t=e=>{this.doSendEvent(e.added,e.removed)},n=r.clientOptions.middleware.workspace;n&&n.didChangeWorkspaceFolders?n.didChangeWorkspaceFolders(e,t):t(e)});this._listeners.set(t,n),this.sendInitialEvent(o.workspace.workspaceFolders)}unregister(e){let t=this._listeners.get(e);void 0!==t&&(this._listeners.delete(e),t.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return void 0===e?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FoldingRangeFeature=void 0;const n=r(0),o=r(3),i=r(13);function s(e,t){return void 0===e[t]&&(e[t]={}),e[t]}class a extends i.TextDocumentFeature{constructor(e){super(e,o.FoldingRangeRequest.type)}fillClientCapabilities(e){let t=s(s(e,"textDocument"),"foldingRange");t.dynamicRegistration=!0,t.rangeLimit=5e3,t.lineFoldingOnly=!0}initialize(e,t){let[r,n]=this.getRegistration(t,e.foldingRangeProvider);r&&n&&this.register({id:r,registerOptions:n})}registerLanguageProvider(e){const t={provideFoldingRanges:(e,t,r)=>{const n=this._client,i=(e,t,r)=>{const i={textDocument:n.code2ProtocolConverter.asTextDocumentIdentifier(e)};return n.sendRequest(o.FoldingRangeRequest.type,i,r).then(a.asFoldingRanges,e=>n.handleFailedRequest(o.FoldingRangeRequest.type,e,null))},s=n.clientOptions.middleware;return s.provideFoldingRanges?s.provideFoldingRanges(e,t,r,i):i(e,0,r)}};return[n.languages.registerFoldingRangeProvider(e.documentSelector,t),t]}static asFoldingRangeKind(e){if(e)switch(e){case o.FoldingRangeKind.Comment:return n.FoldingRangeKind.Comment;case o.FoldingRangeKind.Imports:return n.FoldingRangeKind.Imports;case o.FoldingRangeKind.Region:return n.FoldingRangeKind.Region}}static asFoldingRanges(e){return Array.isArray(e)?e.map(e=>new n.FoldingRange(e.startLine,e.endLine,a.asFoldingRangeKind(e.kind))):[]}}t.FoldingRangeFeature=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeclarationFeature=void 0;const n=r(0),o=r(3),i=r(13);function s(e,t){return void 0===e[t]&&(e[t]={}),e[t]}class a extends i.TextDocumentFeature{constructor(e){super(e,o.DeclarationRequest.type)}fillClientCapabilities(e){const t=s(s(e,"textDocument"),"declaration");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){const[r,n]=this.getRegistration(t,e.declarationProvider);r&&n&&this.register({id:r,registerOptions:n})}registerLanguageProvider(e){const t={provideDeclaration:(e,t,r)=>{const n=this._client,i=(e,t,r)=>n.sendRequest(o.DeclarationRequest.type,n.code2ProtocolConverter.asTextDocumentPositionParams(e,t),r).then(n.protocol2CodeConverter.asDeclarationResult,e=>n.handleFailedRequest(o.DeclarationRequest.type,e,null)),s=n.clientOptions.middleware;return s.provideDeclaration?s.provideDeclaration(e,t,r,i):i(e,t,r)}};return[n.languages.registerDeclarationProvider(e.documentSelector,t),t]}}t.DeclarationFeature=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionRangeFeature=void 0;const n=r(0),o=r(3),i=r(13);function s(e,t){return void 0===e[t]&&(e[t]=Object.create(null)),e[t]}class a extends i.TextDocumentFeature{constructor(e){super(e,o.SelectionRangeRequest.type)}fillClientCapabilities(e){s(s(e,"textDocument"),"selectionRange").dynamicRegistration=!0}initialize(e,t){let[r,n]=this.getRegistration(t,e.selectionRangeProvider);r&&n&&this.register({id:r,registerOptions:n})}registerLanguageProvider(e){const t={provideSelectionRanges:(e,t,r)=>{const n=this._client,i=(e,t,r)=>{const i={textDocument:n.code2ProtocolConverter.asTextDocumentIdentifier(e),positions:n.code2ProtocolConverter.asPositions(t)};return n.sendRequest(o.SelectionRangeRequest.type,i,r).then(e=>n.protocol2CodeConverter.asSelectionRanges(e),e=>n.handleFailedRequest(o.SelectionRangeRequest.type,e,null))},s=n.clientOptions.middleware;return s.provideSelectionRanges?s.provideSelectionRanges(e,t,r,i):i(e,t,r)}};return[n.languages.registerSelectionRangeProvider(e.documentSelector,t),t]}}t.SelectionRangeFeature=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressFeature=void 0;const n=r(3),o=r(150);t.ProgressFeature=class{constructor(e){this._client=e,this.activeParts=new Set}fillClientCapabilities(e){var t,r;(t=e,r="window",void 0===t[r]&&(t[r]=Object.create(null)),t[r]).workDoneProgress=!0}initialize(){const e=this._client,t=e=>{this.activeParts.delete(e)};e.onRequest(n.WorkDoneProgressCreateRequest.type,e=>{this.activeParts.add(new o.ProgressPart(this._client,e.token,t))})}dispose(){for(const e of this.activeParts)e.done();this.activeParts.clear()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallHierarchyFeature=void 0;const n=r(0),o=r(3),i=r(13);function s(e,t){return void 0===e[t]&&(e[t]={}),e[t]}class a{constructor(e){this.client=e,this.middleware=e.clientOptions.middleware}prepareCallHierarchy(e,t,r){const n=this.client,i=this.middleware,s=(e,t,r)=>{const i=n.code2ProtocolConverter.asTextDocumentPositionParams(e,t);return n.sendRequest(o.CallHierarchyPrepareRequest.type,i,r).then(e=>n.protocol2CodeConverter.asCallHierarchyItems(e),e=>n.handleFailedRequest(o.CallHierarchyPrepareRequest.type,e,null))};return i.prepareCallHierarchy?i.prepareCallHierarchy(e,t,r,s):s(e,t,r)}provideCallHierarchyIncomingCalls(e,t){const r=this.client,n=this.middleware,i=(e,t)=>{const n={item:r.code2ProtocolConverter.asCallHierarchyItem(e)};return r.sendRequest(o.CallHierarchyIncomingCallsRequest.type,n,t).then(e=>r.protocol2CodeConverter.asCallHierarchyIncomingCalls(e),e=>r.handleFailedRequest(o.CallHierarchyIncomingCallsRequest.type,e,null))};return n.provideCallHierarchyIncomingCalls?n.provideCallHierarchyIncomingCalls(e,t,i):i(e,t)}provideCallHierarchyOutgoingCalls(e,t){const r=this.client,n=this.middleware,i=(e,t)=>{const n={item:r.code2ProtocolConverter.asCallHierarchyItem(e)};return r.sendRequest(o.CallHierarchyOutgoingCallsRequest.type,n,t).then(e=>r.protocol2CodeConverter.asCallHierarchyOutgoingCalls(e),e=>r.handleFailedRequest(o.CallHierarchyOutgoingCallsRequest.type,e,null))};return n.provideCallHierarchyOutgoingCalls?n.provideCallHierarchyOutgoingCalls(e,t,i):i(e,t)}}class l extends i.TextDocumentFeature{constructor(e){super(e,o.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){s(s(e,"textDocument"),"callHierarchy").dynamicRegistration=!0}initialize(e,t){const[r,n]=this.getRegistration(t,e.callHierarchyProvider);r&&n&&this.register({id:r,registerOptions:n})}registerLanguageProvider(e){const t=this._client,r=new a(t);return[n.languages.registerCallHierarchyProvider(e.documentSelector,r),r]}}t.CallHierarchyFeature=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SemanticTokensFeature=void 0;const n=r(0),o=r(13),i=r(3),s=r(36);function a(e,t){return void 0===e[t]&&(e[t]={}),e[t]}class l extends o.TextDocumentFeature{constructor(e){super(e,i.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){const t=a(a(e,"textDocument"),"semanticTokens");t.dynamicRegistration=!0,t.tokenTypes=[i.SemanticTokenTypes.namespace,i.SemanticTokenTypes.type,i.SemanticTokenTypes.class,i.SemanticTokenTypes.enum,i.SemanticTokenTypes.interface,i.SemanticTokenTypes.struct,i.SemanticTokenTypes.typeParameter,i.SemanticTokenTypes.parameter,i.SemanticTokenTypes.variable,i.SemanticTokenTypes.property,i.SemanticTokenTypes.enumMember,i.SemanticTokenTypes.event,i.SemanticTokenTypes.function,i.SemanticTokenTypes.method,i.SemanticTokenTypes.macro,i.SemanticTokenTypes.keyword,i.SemanticTokenTypes.modifier,i.SemanticTokenTypes.comment,i.SemanticTokenTypes.string,i.SemanticTokenTypes.number,i.SemanticTokenTypes.regexp,i.SemanticTokenTypes.operator],t.tokenModifiers=[i.SemanticTokenModifiers.declaration,i.SemanticTokenModifiers.definition,i.SemanticTokenModifiers.readonly,i.SemanticTokenModifiers.static,i.SemanticTokenModifiers.deprecated,i.SemanticTokenModifiers.abstract,i.SemanticTokenModifiers.async,i.SemanticTokenModifiers.modification,i.SemanticTokenModifiers.documentation,i.SemanticTokenModifiers.defaultLibrary],t.formats=[i.TokenFormat.Relative],t.requests={range:!0,full:{delta:!0}},t.multilineTokenSupport=!1,t.overlappingTokenSupport=!1,a(a(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,t){this._client.onRequest(i.SemanticTokensRefreshRequest.type,async()=>{for(const e of this.getAllProviders())e.onDidChangeSemanticTokensEmitter.fire()});const[r,n]=this.getRegistration(t,e.semanticTokensProvider);r&&n&&this.register({id:r,registerOptions:n})}registerLanguageProvider(e){const t=s.boolean(e.full)?e.full:void 0!==e.full,r=void 0!==e.full&&"boolean"!=typeof e.full&&!0===e.full.delta,o=new n.EventEmitter,a=t?{onDidChangeSemanticTokens:o.event,provideDocumentSemanticTokens:(e,t)=>{const r=this._client,n=r.clientOptions.middleware,o=(e,t)=>{const n={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e)};return r.sendRequest(i.SemanticTokensRequest.type,n,t).then(e=>r.protocol2CodeConverter.asSemanticTokens(e),e=>r.handleFailedRequest(i.SemanticTokensRequest.type,e,null))};return n.provideDocumentSemanticTokens?n.provideDocumentSemanticTokens(e,t,o):o(e,t)},provideDocumentSemanticTokensEdits:r?(e,t,r)=>{const n=this._client,o=n.clientOptions.middleware,s=(e,t,r)=>{const o={textDocument:n.code2ProtocolConverter.asTextDocumentIdentifier(e),previousResultId:t};return n.sendRequest(i.SemanticTokensDeltaRequest.type,o,r).then(e=>i.SemanticTokens.is(e)?n.protocol2CodeConverter.asSemanticTokens(e):n.protocol2CodeConverter.asSemanticTokensEdits(e),e=>n.handleFailedRequest(i.SemanticTokensDeltaRequest.type,e,null))};return o.provideDocumentSemanticTokensEdits?o.provideDocumentSemanticTokensEdits(e,t,r,s):s(e,t,r)}:void 0}:void 0,l=!0===e.range?{provideDocumentRangeSemanticTokens:(e,t,r)=>{const n=this._client,o=n.clientOptions.middleware,s=(e,t,r)=>{const o={textDocument:n.code2ProtocolConverter.asTextDocumentIdentifier(e),range:n.code2ProtocolConverter.asRange(t)};return n.sendRequest(i.SemanticTokensRangeRequest.type,o,r).then(e=>n.protocol2CodeConverter.asSemanticTokens(e),e=>n.handleFailedRequest(i.SemanticTokensRangeRequest.type,e,null))};return o.provideDocumentRangeSemanticTokens?o.provideDocumentRangeSemanticTokens(e,t,r,s):s(e,t,r)}}:void 0,c=[],u=this._client.protocol2CodeConverter.asSemanticTokensLegend(e.legend);return void 0!==a&&c.push(n.languages.registerDocumentSemanticTokensProvider(e.documentSelector,a,u)),void 0!==l&&c.push(n.languages.registerDocumentRangeSemanticTokensProvider(e.documentSelector,l,u)),[new n.Disposable(()=>c.forEach(e=>e.dispose())),{range:l,full:a,onDidChangeSemanticTokensEmitter:o}]}}t.SemanticTokensFeature=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WillDeleteFilesFeature=t.WillRenameFilesFeature=t.WillCreateFilesFeature=t.DidDeleteFilesFeature=t.DidRenameFilesFeature=t.DidCreateFilesFeature=void 0;const n=r(0),o=r(131),i=r(3),s=r(88);function a(e,t){return void 0===e[t]&&(e[t]={}),e[t]}function l(e,t,r){e[t]=r}class c{constructor(e,t,r,n,o){this._filters=new Map,this._client=e,this._event=t,this._registrationType=r,this._clientCapability=n,this._serverCapability=o}get registrationType(){return this._registrationType}fillClientCapabilities(e){const t=a(a(e,"workspace"),"fileOperations");l(t,"dynamicRegistration",!0),l(t,this._clientCapability,!0)}initialize(e){var t;const r=null===(t=e.workspace)||void 0===t?void 0:t.fileOperations,n=void 0!==r?(o=r,i=this._serverCapability,o[i]):void 0;var o,i;if(void 0!==(null==n?void 0:n.filters))try{this.register({id:s.generateUuid(),registerOptions:{filters:n.filters}})}catch(e){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${e}`)}}register(e){this._listener||(this._listener=this._event(this.send,this));const t=e.registerOptions.filters.map(e=>{const t=new o.Minimatch(e.pattern.glob,c.asMinimatchOptions(e.pattern.options));if(!t.makeRe())throw new Error(`Invalid pattern ${e.pattern.glob}!`);return{scheme:e.scheme,matcher:t,kind:e.pattern.matches}});this._filters.set(e.id,t)}unregister(e){this._filters.delete(e),0===this._filters.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}async filter(e,t){const r=await Promise.all(e.files.map(async e=>{const r=t(e),o=r.fsPath.replace(/\\/g,"/");for(const e of this._filters.values())for(const t of e)if(void 0===t.scheme||t.scheme===r.scheme)if(t.matcher.match(o)){if(void 0===t.kind)return!0;const e=await c.getFileType(r);if(void 0===e)return this._client.error(`Failed to determine file type for ${r.toString()}.`),!0;if(e===n.FileType.File&&t.kind===i.FileOperationPatternKind.file||e===n.FileType.Directory&&t.kind===i.FileOperationPatternKind.folder)return!0}else if(t.kind===i.FileOperationPatternKind.folder){if(await c.getFileType(r)===n.FileType.Directory&&t.matcher.match(o+"/"))return!0}return!1})),o=e.files.filter((e,t)=>r[t]);return Object.assign(Object.assign({},e),{files:o})}static async getFileType(e){try{return(await n.workspace.fs.stat(e)).type}catch(e){return}}static asMinimatchOptions(e){if(void 0!==e)return!0===e.ignoreCase?{nocase:!0}:void 0}}class u extends c{constructor(e,t,r,n,o,i,s){super(e,t,r,n,o),this._notificationType=r,this._accessUri=i,this._createParams=s}async send(e){const t=await this.filter(e,this._accessUri);if(t.files.length){const e=async e=>{this._client.sendNotification(this._notificationType,this._createParams(e))};this.doSend(t,e)}}}t.DidCreateFilesFeature=class extends u{constructor(e){super(e,n.workspace.onDidCreateFiles,i.DidCreateFilesNotification.type,"didCreate","didCreate",e=>e,e.code2ProtocolConverter.asDidCreateFilesParams)}doSend(e,t){var r;const n=null===(r=this._client.clientOptions.middleware)||void 0===r?void 0:r.workspace;return(null==n?void 0:n.didCreateFiles)?n.didCreateFiles(e,t):t(e)}};t.DidRenameFilesFeature=class extends u{constructor(e){super(e,n.workspace.onDidRenameFiles,i.DidRenameFilesNotification.type,"didRename","didRename",e=>e.oldUri,e.code2ProtocolConverter.asDidRenameFilesParams)}doSend(e,t){var r;const n=null===(r=this._client.clientOptions.middleware)||void 0===r?void 0:r.workspace;return(null==n?void 0:n.didRenameFiles)?n.didRenameFiles(e,t):t(e)}};t.DidDeleteFilesFeature=class extends u{constructor(e){super(e,n.workspace.onDidDeleteFiles,i.DidDeleteFilesNotification.type,"didDelete","didDelete",e=>e,e.code2ProtocolConverter.asDidDeleteFilesParams)}doSend(e,t){var r;const n=null===(r=this._client.clientOptions.middleware)||void 0===r?void 0:r.workspace;return(null==n?void 0:n.didDeleteFiles)?n.didDeleteFiles(e,t):t(e)}};class d extends c{constructor(e,t,r,n,o,i,s){super(e,t,r,n,o),this._requestType=r,this._accessUri=i,this._createParams=s}async send(e){const t=this.waitUntil(e);e.waitUntil(t)}async waitUntil(e){const t=await this.filter(e,this._accessUri);if(t.files.length){const e=e=>this._client.sendRequest(this._requestType,this._createParams(e)).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(t,e)}}}t.WillCreateFilesFeature=class extends d{constructor(e){super(e,n.workspace.onWillCreateFiles,i.WillCreateFilesRequest.type,"willCreate","willCreate",e=>e,e.code2ProtocolConverter.asWillCreateFilesParams)}doSend(e,t){var r;const n=null===(r=this._client.clientOptions.middleware)||void 0===r?void 0:r.workspace;return(null==n?void 0:n.willCreateFiles)?n.willCreateFiles(e,t):t(e)}};t.WillRenameFilesFeature=class extends d{constructor(e){super(e,n.workspace.onWillRenameFiles,i.WillRenameFilesRequest.type,"willRename","willRename",e=>e.oldUri,e.code2ProtocolConverter.asWillRenameFilesParams)}doSend(e,t){var r;const n=null===(r=this._client.clientOptions.middleware)||void 0===r?void 0:r.workspace;return(null==n?void 0:n.willRenameFiles)?n.willRenameFiles(e,t):t(e)}};t.WillDeleteFilesFeature=class extends d{constructor(e){super(e,n.workspace.onWillDeleteFiles,i.WillDeleteFilesRequest.type,"willDelete","willDelete",e=>e,e.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(e,t){var r;const n=null===(r=this._client.clientOptions.middleware)||void 0===r?void 0:r.workspace;return(null==n?void 0:n.willDeleteFiles)?n.willDeleteFiles(e,t):t(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedEditingFeature=void 0;const n=r(0),o=r(3),i=r(13);function s(e,t){return void 0===e[t]&&(e[t]={}),e[t]}class a extends i.TextDocumentFeature{constructor(e){super(e,o.LinkedEditingRangeRequest.type)}fillClientCapabilities(e){s(s(e,"textDocument"),"linkedEditingRange").dynamicRegistration=!0}initialize(e,t){let[r,n]=this.getRegistration(t,e.linkedEditingRangeProvider);r&&n&&this.register({id:r,registerOptions:n})}registerLanguageProvider(e){const t={provideLinkedEditingRanges:(e,t,r)=>{const n=this._client,i=(e,t,r)=>n.sendRequest(o.LinkedEditingRangeRequest.type,n.code2ProtocolConverter.asTextDocumentPositionParams(e,t),r).then(n.protocol2CodeConverter.asLinkedEditingRanges,e=>n.handleFailedRequest(o.LinkedEditingRangeRequest.type,e,null)),s=n.clientOptions.middleware;return s.provideLinkedEditingRange?s.provideLinkedEditingRange(e,t,r,i):i(e,t,r)}};return[n.languages.registerLinkedEditingRangeProvider(e.documentSelector,t),t]}}t.LinkedEditingFeature=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.terminate=void 0;const n=r(37),o=r(4),i="win32"===process.platform,s="darwin"===process.platform,a="linux"===process.platform;t.terminate=function(e,t){if(i)try{let r={stdio:["pipe","pipe","ignore"]};return t&&(r.cwd=t),n.execFileSync("taskkill",["/T","/F","/PID",e.pid.toString()],r),!0}catch(e){return!1}else{if(!a&&!s)return e.kill("SIGKILL"),!0;try{var r=o.join(__dirname,"terminateProcess.sh");return!n.spawnSync(r,[e.pid.toString()]).error}catch(e){return!1}}}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(3),t),o(r(13),t),o(r(137),t)},function(e,t,r){"use strict";e.exports=r(134)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultProjectsTreeDataProvider=void 0;const n=r(11),o=r(401),i=r(121),s=r(122);t.DefaultProjectsTreeDataProvider=class{constructor(e,t,r,n){this.gradleTaskProvider=e,this.rootProjectStore=t,this.client=r,this.icons=n,this.defaultProjectProvider=new o.DefaultProjectProvider}getTreeItem(e){return e}async getChildren(e){return e?e instanceof n.ProjectTreeItem?n.GradleTasksTreeDataProvider.getChildrenForProjectTreeItem(e):e instanceof i.ProjectDependencyTreeItem?this.defaultProjectProvider.getDefaultDependencyItems(e):e instanceof s.ProjectTaskTreeItem?e.getChildren()||[]:e instanceof n.GroupTreeItem?e.tasks:[]:(this.gradleTaskProvider.loadTasks(),n.GradleTasksTreeDataProvider.buildItemsTreeFromTasks(await this.defaultProjectProvider.getDefaultTasks(await this.rootProjectStore.getProjectRoots(),this.client),this.rootProjectStore,!1,this.icons))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultProjectProvider=void 0;const n=r(4),o=r(0),i=r(133),s=r(7),a=r(78),l=r(79),c=r(80),u=r(128);class d{constructor(){this.defaultTasks=[],this.defaultDependencies=new Map}refresh(){this.defaultTasks=[]}async getDefaultTasks(e,t){if(this.defaultTasks.length)return this.defaultTasks;const r=[];for(const o of e)for(const e of d.defaultTaskDefinitions)r.push(s.createTaskFromDefinition(this.generateDefaultTaskDefinition(o,e.name,o.getWorkspaceFolder().name,n.join(o.getProjectUri().fsPath,"build.gradle"),e.description,e.group),o,t));return this.defaultTasks=r,r}generateDefaultTaskDefinition(e,t,r,n,o,i){return{type:"gradle",id:s.buildTaskId(e.getProjectUri().fsPath,t,r),script:t,description:o,group:(i||"other").toLowerCase(),project:r,buildFile:n,rootProject:r,projectFolder:e.getProjectUri().fsPath,workspaceFolder:e.getWorkspaceFolder().uri.fsPath,args:"",javaDebug:!1}}async getDefaultDependencyItems(e){const t=new Map,r=o.Uri.file(n.join(e.projectPath,"build.gradle"));if(!i.isLanguageServerStarted)return[new c.HintItem("No dependencies")];const s=await o.commands.executeCommand("gradle.getDependencies",r.toString());if(!s)return[new c.HintItem("No dependencies")];for(const n of s){const i=n.configuration;if(!t.has(i)){const r=new a.DependencyConfigurationTreeItem(n.configuration,o.TreeItemCollapsibleState.Collapsed,e);t.set(i,r)}const s=t.get(i);if(!s)continue;const c=new l.DependencyTreeItem(n.name,o.TreeItemCollapsibleState.None,s);c.command={title:"Show Dependency",command:"vscode.open",arguments:[r,{selection:n.range}]},s.getChildren().push(c)}return this.defaultDependencies.set(r.toString(),Array.from(t.values())),this.defaultDependencies.get(r.toString())||[]}}t.DefaultProjectProvider=d,d.defaultTaskDefinitions=u.generateDefaultTaskDefinitions()}]);
//# sourceMappingURL=index.js.map